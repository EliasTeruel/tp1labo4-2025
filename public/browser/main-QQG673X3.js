import{b as va,c as ya,f as Tc,g as _a}from"./chunk-LJ5XHLMQ.js";import{$ as Xo,$a as ln,A as ki,Aa as Ae,B as zo,Ba as $,C as Ho,Ca as Me,D as Go,Da as Re,E as de,Ea as Bi,F as qo,Fa as on,G as H,Ga as zi,H as k,Ha as Hi,I as yt,Ia as Gi,J as M,Ja as qi,K as Se,Ka as Z,L as Wo,La as Dt,M as F,Ma as m,N as Pi,Na as g,O as I,Oa as G,P as _,Pa as Wi,Q as Li,Qa as Ki,R as Ko,Ra as la,S as tn,Sa as N,T as ge,Ta as Ct,U as Ee,Ua as ca,V as Jo,Va as da,W as Zo,Wa as ha,X as _t,Xa as y,Y as Ni,Ya as fa,Z as Ze,Za as an,_ as Yo,_a as un,a as No,aa as se,ab as bt,b as jo,ba as Ye,bb as cr,c as Oi,ca as ji,cb as pa,d as Ti,da as Qo,db as ze,e as ie,ea as $e,eb as ga,f as K,fa as nn,fb as Xe,g as be,ga as ea,gb as Ie,h as z,ha as Ui,hb as cn,i as w,ia as ta,ib as ma,j as Qt,ja as rn,k as Uo,ka as Vi,l as Vo,la as na,m as T,ma as ra,n as ar,na as sn,o as ee,oa as ia,p as en,pa as L,q as $o,qa as wt,r as Fi,ra as sa,s as Bo,sa as oa,t as Je,ta as Be,u as gt,ua as b,v as mt,va as aa,w as xi,wa as lr,x as vt,xa as ua,y as ur,ya as $i,z as Ve,za as J}from"./chunk-GP4QNVJC.js";import{a as v,b as x,d as Ce,f as Ic,g as Oc,h as d}from"./chunk-FK42CRUA.js";var po=Ce(fo=>{"use strict";Object.defineProperty(fo,"__esModule",{value:!0});var ho=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}};fo.default=ho});var mo=Ce(Vn=>{"use strict";var _l=Vn&&Vn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Vn,"__esModule",{value:!0});var Pf=_l((_a(),Oc(Tc))),Lf=_l(po()),go=class{constructor(t){this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=t.headers,this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=t.shouldThrowOnError,this.signal=t.signal,this.isMaybeSingle=t.isMaybeSingle,t.fetch?this.fetch=t.fetch:typeof fetch>"u"?this.fetch=Pf.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=Object.assign({},this.headers),this.headers[t]=e,this}then(t,e){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");let n=this.fetch,i=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(s=>d(this,null,function*(){var o,a,u;let l=null,c=null,h=null,p=s.status,f=s.statusText;if(s.ok){if(this.method!=="HEAD"){let j=yield s.text();j===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=j:c=JSON.parse(j))}let C=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),S=(a=s.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");C&&S&&S.length>1&&(h=parseInt(S[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(l={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,h=null,p=406,f="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{let C=yield s.text();try{l=JSON.parse(C),Array.isArray(l)&&s.status===404&&(c=[],l=null,p=200,f="OK")}catch{s.status===404&&C===""?(p=204,f="No Content"):l={message:C}}if(l&&this.isMaybeSingle&&(!((u=l?.details)===null||u===void 0)&&u.includes("0 rows"))&&(l=null,p=200,f="OK"),l&&this.shouldThrowOnError)throw new Lf.default(l)}return{error:l,data:c,count:h,status:p,statusText:f}}));return this.shouldThrowOnError||(i=i.catch(s=>{var o,a,u;return{error:{message:`${(o=s?.name)!==null&&o!==void 0?o:"FetchError"}: ${s?.message}`,details:`${(a=s?.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(u=s?.code)!==null&&u!==void 0?u:""}`},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}};Vn.default=go});var yo=Ce($n=>{"use strict";var Nf=$n&&$n.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty($n,"__esModule",{value:!0});var jf=Nf(mo()),vo=class extends jf.default{select(t){let e=!1,n=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:i,referencedTable:s=i}={}){let o=s?`${s}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){let i=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:i=n}={}){let s=typeof i>"u"?"offset":`${i}.offset`,o=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(s,`${t}`),this.url.searchParams.set(o,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:i=!1,wal:s=!1,format:o="text"}={}){var a;let u=[t?"analyze":null,e?"verbose":null,n?"settings":null,i?"buffers":null,s?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${l}"; options=${u};`,o==="json"?this:this}rollback(){var t;return((t=this.headers.Prefer)!==null&&t!==void 0?t:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};$n.default=vo});var ti=Ce(Bn=>{"use strict";var Uf=Bn&&Bn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Bn,"__esModule",{value:!0});var Vf=Uf(yo()),_o=class extends Vf.default{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}in(t,e){let n=Array.from(new Set(e)).map(i=>typeof i=="string"&&new RegExp("[,()]").test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:i}={}){let s="";i==="plain"?s="pl":i==="phrase"?s="ph":i==="websearch"&&(s="w");let o=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${s}fts${o}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){let i=n?`${n}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}};Bn.default=_o});var Do=Ce(Hn=>{"use strict";var $f=Hn&&Hn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Hn,"__esModule",{value:!0});var zn=$f(ti()),wo=class{constructor(t,{headers:e={},schema:n,fetch:i}){this.url=t,this.headers=e,this.schema=n,this.fetch=i}select(t,{head:e=!1,count:n}={}){let i=e?"HEAD":"GET",s=!1,o=(t??"*").split("").map(a=>/\s/.test(a)&&!s?"":(a==='"'&&(s=!s),a)).join("");return this.url.searchParams.set("select",o),n&&(this.headers.Prefer=`count=${n}`),new zn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(t,{count:e,defaultToNull:n=!0}={}){let i="POST",s=[];if(this.headers.Prefer&&s.push(this.headers.Prefer),e&&s.push(`count=${e}`),n||s.push("missing=default"),this.headers.Prefer=s.join(","),Array.isArray(t)){let o=t.reduce((a,u)=>a.concat(Object.keys(u)),[]);if(o.length>0){let a=[...new Set(o)].map(u=>`"${u}"`);this.url.searchParams.set("columns",a.join(","))}}return new zn.default({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:i,defaultToNull:s=!0}={}){let o="POST",a=[`resolution=${n?"ignore":"merge"}-duplicates`];if(e!==void 0&&this.url.searchParams.set("on_conflict",e),this.headers.Prefer&&a.push(this.headers.Prefer),i&&a.push(`count=${i}`),s||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(t)){let u=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(u.length>0){let l=[...new Set(u)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new zn.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}update(t,{count:e}={}){let n="PATCH",i=[];return this.headers.Prefer&&i.push(this.headers.Prefer),e&&i.push(`count=${e}`),this.headers.Prefer=i.join(","),new zn.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:this.fetch,allowEmpty:!1})}delete({count:t}={}){let e="DELETE",n=[];return t&&n.push(`count=${t}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new zn.default({method:e,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Hn.default=wo});var wl=Ce(ni=>{"use strict";Object.defineProperty(ni,"__esModule",{value:!0});ni.version=void 0;ni.version="0.0.0-automated"});var Dl=Ce(ri=>{"use strict";Object.defineProperty(ri,"__esModule",{value:!0});ri.DEFAULT_HEADERS=void 0;var Bf=wl();ri.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Bf.version}`}});var bl=Ce(Gn=>{"use strict";var Cl=Gn&&Gn.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(Gn,"__esModule",{value:!0});var zf=Cl(Do()),Hf=Cl(ti()),Gf=Dl(),Co=class r{constructor(t,{headers:e={},schema:n,fetch:i}={}){this.url=t,this.headers=Object.assign(Object.assign({},Gf.DEFAULT_HEADERS),e),this.schemaName=n,this.fetch=i}from(t){let e=new URL(`${this.url}/${t}`);return new zf.default(e,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(t){return new r(this.url,{headers:this.headers,schema:t,fetch:this.fetch})}rpc(t,e={},{head:n=!1,get:i=!1,count:s}={}){let o,a=new URL(`${this.url}/rpc/${t}`),u;n||i?(o=n?"HEAD":"GET",Object.entries(e).filter(([c,h])=>h!==void 0).map(([c,h])=>[c,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([c,h])=>{a.searchParams.append(c,h)})):(o="POST",u=e);let l=Object.assign({},this.headers);return s&&(l.Prefer=`count=${s}`),new Hf.default({method:o,url:a,headers:l,schema:this.schemaName,body:u,fetch:this.fetch,allowEmpty:!1})}};Gn.default=Co});var Ol=Ce(B=>{"use strict";var Bt=B&&B.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(B,"__esModule",{value:!0});B.PostgrestError=B.PostgrestBuilder=B.PostgrestTransformBuilder=B.PostgrestFilterBuilder=B.PostgrestQueryBuilder=B.PostgrestClient=void 0;var Sl=Bt(bl());B.PostgrestClient=Sl.default;var El=Bt(Do());B.PostgrestQueryBuilder=El.default;var Al=Bt(ti());B.PostgrestFilterBuilder=Al.default;var Ml=Bt(yo());B.PostgrestTransformBuilder=Ml.default;var Rl=Bt(mo());B.PostgrestBuilder=Rl.default;var Il=Bt(po());B.PostgrestError=Il.default;B.default={PostgrestClient:Sl.default,PostgrestQueryBuilder:El.default,PostgrestFilterBuilder:Al.default,PostgrestTransformBuilder:Ml.default,PostgrestBuilder:Rl.default,PostgrestError:Il.default}});var ba=null;function Te(){return ba}function Sa(r){ba??=r}var dr=class{};var Y=new F(""),Xi=(()=>{class r{historyGo(e){throw new Error("")}static \u0275fac=function(n){return new(n||r)};static \u0275prov=M({token:r,factory:()=>_(kc),providedIn:"platform"})}return r})(),Ea=new F(""),kc=(()=>{class r extends Xi{_location;_history;_doc=_(Y);constructor(){super(),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Te().getBaseHref(this._doc)}onPopState(e){let n=Te().getGlobalEventTarget(this._doc,"window");return n.addEventListener("popstate",e,!1),()=>n.removeEventListener("popstate",e)}onHashChange(e){let n=Te().getGlobalEventTarget(this._doc,"window");return n.addEventListener("hashchange",e,!1),()=>n.removeEventListener("hashchange",e)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(e){this._location.pathname=e}pushState(e,n,i){this._history.pushState(e,n,i)}replaceState(e,n,i){this._history.replaceState(e,n,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(e=0){this._history.go(e)}getState(){return this._history.state}static \u0275fac=function(n){return new(n||r)};static \u0275prov=M({token:r,factory:()=>new r,providedIn:"platform"})}return r})();function Qi(r,t){return r?t?r.endsWith("/")?t.startsWith("/")?r+t.slice(1):r+t:t.startsWith("/")?r+t:`${r}/${t}`:r:t}function wa(r){let t=r.search(/#|\?|$/);return r[t-1]==="/"?r.slice(0,t-1)+r.slice(t):r}function Oe(r){return r&&r[0]!=="?"?`?${r}`:r}var Fe=(()=>{class r{historyGo(e){throw new Error("")}static \u0275fac=function(n){return new(n||r)};static \u0275prov=M({token:r,factory:()=>_(es),providedIn:"root"})}return r})(),Aa=new F(""),es=(()=>{class r extends Fe{_platformLocation;_baseHref;_removeListenerFns=[];constructor(e,n){super(),this._platformLocation=e,this._baseHref=n??this._platformLocation.getBaseHrefFromDOM()??_(Y).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}prepareExternalUrl(e){return Qi(this._baseHref,e)}path(e=!1){let n=this._platformLocation.pathname+Oe(this._platformLocation.search),i=this._platformLocation.hash;return i&&e?`${n}${i}`:n}pushState(e,n,i,s){let o=this.prepareExternalUrl(i+Oe(s));this._platformLocation.pushState(e,n,o)}replaceState(e,n,i,s){let o=this.prepareExternalUrl(i+Oe(s));this._platformLocation.replaceState(e,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(n){return new(n||r)(I(Xi),I(Aa,8))};static \u0275prov=M({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Ma=(()=>{class r extends Fe{_platformLocation;_baseHref="";_removeListenerFns=[];constructor(e,n){super(),this._platformLocation=e,n!=null&&(this._baseHref=n)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(e){this._removeListenerFns.push(this._platformLocation.onPopState(e),this._platformLocation.onHashChange(e))}getBaseHref(){return this._baseHref}path(e=!1){let n=this._platformLocation.hash??"#";return n.length>0?n.substring(1):n}prepareExternalUrl(e){let n=Qi(this._baseHref,e);return n.length>0?"#"+n:n}pushState(e,n,i,s){let o=this.prepareExternalUrl(i+Oe(s))||this._platformLocation.pathname;this._platformLocation.pushState(e,n,o)}replaceState(e,n,i,s){let o=this.prepareExternalUrl(i+Oe(s))||this._platformLocation.pathname;this._platformLocation.replaceState(e,n,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(e=0){this._platformLocation.historyGo?.(e)}static \u0275fac=function(n){return new(n||r)(I(Xi),I(Aa,8))};static \u0275prov=M({token:r,factory:r.\u0275fac})}return r})(),St=(()=>{class r{_subject=new ie;_basePath;_locationStrategy;_urlChangeListeners=[];_urlChangeSubscription=null;constructor(e){this._locationStrategy=e;let n=this._locationStrategy.getBaseHref();this._basePath=Nc(wa(Da(n))),this._locationStrategy.onPopState(i=>{this._subject.next({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(e=!1){return this.normalize(this._locationStrategy.path(e))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(e,n=""){return this.path()==this.normalize(e+Oe(n))}normalize(e){return r.stripTrailingSlash(Lc(this._basePath,Da(e)))}prepareExternalUrl(e){return e&&e[0]!=="/"&&(e="/"+e),this._locationStrategy.prepareExternalUrl(e)}go(e,n="",i=null){this._locationStrategy.pushState(i,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Oe(n)),i)}replaceState(e,n="",i=null){this._locationStrategy.replaceState(i,"",e,n),this._notifyUrlChangeListeners(this.prepareExternalUrl(e+Oe(n)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(e=0){this._locationStrategy.historyGo?.(e)}onUrlChange(e){return this._urlChangeListeners.push(e),this._urlChangeSubscription??=this.subscribe(n=>{this._notifyUrlChangeListeners(n.url,n.state)}),()=>{let n=this._urlChangeListeners.indexOf(e);this._urlChangeListeners.splice(n,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(e="",n){this._urlChangeListeners.forEach(i=>i(e,n))}subscribe(e,n,i){return this._subject.subscribe({next:e,error:n??void 0,complete:i??void 0})}static normalizeQueryParams=Oe;static joinWithSlash=Qi;static stripTrailingSlash=wa;static \u0275fac=function(n){return new(n||r)(I(Fe))};static \u0275prov=M({token:r,factory:()=>Pc(),providedIn:"root"})}return r})();function Pc(){return new St(I(Fe))}function Lc(r,t){if(!r||!t.startsWith(r))return t;let e=t.substring(r.length);return e===""||["/",";","?","#"].includes(e[0])?e:t}function Da(r){return r.replace(/\/index.html$/,"")}function Nc(r){if(new RegExp("^(https?:)?//").test(r)){let[,e]=r.split(/\/\/[^\/]+/);return e}return r}function Ra(r,t){t=encodeURIComponent(t);for(let e of r.split(";")){let n=e.indexOf("="),[i,s]=n==-1?[e,""]:[e.slice(0,n),e.slice(n+1)];if(i.trim()===t)return decodeURIComponent(s)}return null}var fr=(()=>{class r{_viewContainer;_context=new Ji;_thenTemplateRef=null;_elseTemplateRef=null;_thenViewRef=null;_elseViewRef=null;constructor(e,n){this._viewContainer=e,this._thenTemplateRef=n}set ngIf(e){this._context.$implicit=this._context.ngIf=e,this._updateView()}set ngIfThen(e){Ca(e,!1),this._thenTemplateRef=e,this._thenViewRef=null,this._updateView()}set ngIfElse(e){Ca(e,!1),this._elseTemplateRef=e,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngIfUseIfTypeGuard;static ngTemplateGuard_ngIf;static ngTemplateContextGuard(e,n){return!0}static \u0275fac=function(n){return new(n||r)(b(lr),b(sa))};static \u0275dir=$({type:r,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}})}return r})(),Ji=class{$implicit=null;ngIf=null};function Ca(r,t){if(r&&!r.createEmbeddedView)throw new k(2020,!1)}var xe=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Ae({type:r});static \u0275inj=Se({})}return r})(),Ia="browser",jc="server";function ts(r){return r===jc}var Oa=(()=>{class r{static \u0275prov=M({token:r,providedIn:"root",factory:()=>new Zi(_(Y),window)})}return r})(),Zi=class{document;window;offset=()=>[0,0];constructor(t,e){this.document=t,this.window=e}setOffset(t){Array.isArray(t)?this.offset=()=>t:this.offset=t}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(t){this.window.scrollTo(t[0],t[1])}scrollToAnchor(t){let e=Uc(this.document,t);e&&(this.scrollToElement(e),e.focus())}setHistoryScrollRestoration(t){this.window.history.scrollRestoration=t}scrollToElement(t){let e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,i=e.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(n-s[0],i-s[1])}};function Uc(r,t){let e=r.getElementById(t)||r.getElementsByName(t)[0];if(e)return e;if(typeof r.createTreeWalker=="function"&&r.body&&typeof r.body.attachShadow=="function"){let n=r.createTreeWalker(r.body,NodeFilter.SHOW_ELEMENT),i=n.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(t)||s.querySelector(`[name="${t}"]`);if(o)return o}i=n.nextNode()}}return null}var hr=class{};var is=class extends dr{supportsDOMEvents=!0},ss=class r extends is{static makeCurrent(){Sa(new r)}onAndCancel(t,e,n,i){return t.addEventListener(e,n,i),()=>{t.removeEventListener(e,n,i)}}dispatchEvent(t,e){t.dispatchEvent(e)}remove(t){t.remove()}createElement(t,e){return e=e||this.getDefaultDocument(),e.createElement(t)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(t){return t.nodeType===Node.ELEMENT_NODE}isShadowRoot(t){return t instanceof DocumentFragment}getGlobalEventTarget(t,e){return e==="window"?window:e==="document"?t:e==="body"?t.body:null}getBaseHref(t){let e=$c();return e==null?null:Bc(e)}resetBaseElement(){dn=null}getUserAgent(){return window.navigator.userAgent}getCookie(t){return Ra(document.cookie,t)}},dn=null;function $c(){return dn=dn||document.querySelector("base"),dn?dn.getAttribute("href"):null}function Bc(r){return new URL(r,document.baseURI).pathname}var zc=(()=>{class r{build(){return new XMLHttpRequest}static \u0275fac=function(n){return new(n||r)};static \u0275prov=M({token:r,factory:r.\u0275fac})}return r})(),os=new F(""),La=(()=>{class r{_zone;_plugins;_eventNameToPlugin=new Map;constructor(e,n){this._zone=n,e.forEach(i=>{i.manager=this}),this._plugins=e.slice().reverse()}addEventListener(e,n,i,s){return this._findPluginFor(n).addEventListener(e,n,i,s)}getZone(){return this._zone}_findPluginFor(e){let n=this._eventNameToPlugin.get(e);if(n)return n;if(n=this._plugins.find(s=>s.supports(e)),!n)throw new k(5101,!1);return this._eventNameToPlugin.set(e,n),n}static \u0275fac=function(n){return new(n||r)(I(os),I(Ye))};static \u0275prov=M({token:r,factory:r.\u0275fac})}return r})(),gr=class{_doc;constructor(t){this._doc=t}manager},pr="ng-app-id";function Ta(r){for(let t of r)t.remove()}function Fa(r,t){let e=t.createElement("style");return e.textContent=r,e}function Hc(r,t,e,n){let i=r.head?.querySelectorAll(`style[${pr}="${t}"],link[${pr}="${t}"]`);if(i)for(let s of i)s.removeAttribute(pr),s instanceof HTMLLinkElement?n.set(s.href.slice(s.href.lastIndexOf("/")+1),{usage:0,elements:[s]}):s.textContent&&e.set(s.textContent,{usage:0,elements:[s]})}function as(r,t){let e=t.createElement("link");return e.setAttribute("rel","stylesheet"),e.setAttribute("href",r),e}var Na=(()=>{class r{doc;appId;nonce;inline=new Map;external=new Map;hosts=new Set;isServer;constructor(e,n,i,s={}){this.doc=e,this.appId=n,this.nonce=i,this.isServer=ts(s),Hc(e,n,this.inline,this.external),this.hosts.add(e.head)}addStyles(e,n){for(let i of e)this.addUsage(i,this.inline,Fa);n?.forEach(i=>this.addUsage(i,this.external,as))}removeStyles(e,n){for(let i of e)this.removeUsage(i,this.inline);n?.forEach(i=>this.removeUsage(i,this.external))}addUsage(e,n,i){let s=n.get(e);s?s.usage++:n.set(e,{usage:1,elements:[...this.hosts].map(o=>this.addElement(o,i(e,this.doc)))})}removeUsage(e,n){let i=n.get(e);i&&(i.usage--,i.usage<=0&&(Ta(i.elements),n.delete(e)))}ngOnDestroy(){for(let[,{elements:e}]of[...this.inline,...this.external])Ta(e);this.hosts.clear()}addHost(e){this.hosts.add(e);for(let[n,{elements:i}]of this.inline)i.push(this.addElement(e,Fa(n,this.doc)));for(let[n,{elements:i}]of this.external)i.push(this.addElement(e,as(n,this.doc)))}removeHost(e){this.hosts.delete(e)}addElement(e,n){return this.nonce&&n.setAttribute("nonce",this.nonce),this.isServer&&n.setAttribute(pr,this.appId),e.appendChild(n)}static \u0275fac=function(n){return new(n||r)(I(Y),I(Ui),I(Vi,8),I(rn))};static \u0275prov=M({token:r,factory:r.\u0275fac})}return r})(),rs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},ls=/%COMP%/g;var ja="%COMP%",Gc=`_nghost-${ja}`,qc=`_ngcontent-${ja}`,Wc=!0,Kc=new F("",{providedIn:"root",factory:()=>Wc});function Jc(r){return qc.replace(ls,r)}function Zc(r){return Gc.replace(ls,r)}function Ua(r,t){return t.map(e=>e.replace(ls,r))}var xa=(()=>{class r{eventManager;sharedStylesHost;appId;removeStylesOnCompDestroy;doc;platformId;ngZone;nonce;tracingService;rendererByCompId=new Map;defaultRenderer;platformIsServer;constructor(e,n,i,s,o,a,u,l=null,c=null){this.eventManager=e,this.sharedStylesHost=n,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=l,this.tracingService=c,this.platformIsServer=ts(a),this.defaultRenderer=new hn(e,o,u,this.platformIsServer,this.tracingService)}createRenderer(e,n){if(!e||!n)return this.defaultRenderer;this.platformIsServer&&n.encapsulation===sn.ShadowDom&&(n=x(v({},n),{encapsulation:sn.Emulated}));let i=this.getOrCreateRenderer(e,n);return i instanceof mr?i.applyToHost(e):i instanceof fn&&i.applyStyles(),i}getOrCreateRenderer(e,n){let i=this.rendererByCompId,s=i.get(n.id);if(!s){let o=this.doc,a=this.ngZone,u=this.eventManager,l=this.sharedStylesHost,c=this.removeStylesOnCompDestroy,h=this.platformIsServer,p=this.tracingService;switch(n.encapsulation){case sn.Emulated:s=new mr(u,l,n,this.appId,c,o,a,h,p);break;case sn.ShadowDom:return new us(u,l,e,n,o,a,this.nonce,h,p);default:s=new fn(u,l,n,c,o,a,h,p);break}i.set(n.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}componentReplaced(e){this.rendererByCompId.delete(e)}static \u0275fac=function(n){return new(n||r)(I(La),I(Na),I(Ui),I(Kc),I(Y),I(rn),I(Ye),I(Vi),I(na,8))};static \u0275prov=M({token:r,factory:r.\u0275fac})}return r})(),hn=class{eventManager;doc;ngZone;platformIsServer;tracingService;data=Object.create(null);throwOnSyntheticProps=!0;constructor(t,e,n,i,s){this.eventManager=t,this.doc=e,this.ngZone=n,this.platformIsServer=i,this.tracingService=s}destroy(){}destroyNode=null;createElement(t,e){return e?this.doc.createElementNS(rs[e]||e,t):this.doc.createElement(t)}createComment(t){return this.doc.createComment(t)}createText(t){return this.doc.createTextNode(t)}appendChild(t,e){(ka(t)?t.content:t).appendChild(e)}insertBefore(t,e,n){t&&(ka(t)?t.content:t).insertBefore(e,n)}removeChild(t,e){e.remove()}selectRootElement(t,e){let n=typeof t=="string"?this.doc.querySelector(t):t;if(!n)throw new k(-5104,!1);return e||(n.textContent=""),n}parentNode(t){return t.parentNode}nextSibling(t){return t.nextSibling}setAttribute(t,e,n,i){if(i){e=i+":"+e;let s=rs[i];s?t.setAttributeNS(s,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)}removeAttribute(t,e,n){if(n){let i=rs[n];i?t.removeAttributeNS(i,e):t.removeAttribute(`${n}:${e}`)}else t.removeAttribute(e)}addClass(t,e){t.classList.add(e)}removeClass(t,e){t.classList.remove(e)}setStyle(t,e,n,i){i&(wt.DashCase|wt.Important)?t.style.setProperty(e,n,i&wt.Important?"important":""):t.style[e]=n}removeStyle(t,e,n){n&wt.DashCase?t.style.removeProperty(e):t.style[e]=""}setProperty(t,e,n){t!=null&&(t[e]=n)}setValue(t,e){t.nodeValue=e}listen(t,e,n,i){if(typeof t=="string"&&(t=Te().getGlobalEventTarget(this.doc,t),!t))throw new k(5102,!1);let s=this.decoratePreventDefault(n);return this.tracingService?.wrapEventListener&&(s=this.tracingService.wrapEventListener(t,e,s)),this.eventManager.addEventListener(t,e,s,i)}decoratePreventDefault(t){return e=>{if(e==="__ngUnwrap__")return t;(this.platformIsServer?this.ngZone.runGuarded(()=>t(e)):t(e))===!1&&e.preventDefault()}}};function ka(r){return r.tagName==="TEMPLATE"&&r.content!==void 0}var us=class extends hn{sharedStylesHost;hostEl;shadowRoot;constructor(t,e,n,i,s,o,a,u,l){super(t,s,o,u,l),this.sharedStylesHost=e,this.hostEl=n,this.shadowRoot=n.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let c=i.styles;c=Ua(i.id,c);for(let p of c){let f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=p,this.shadowRoot.appendChild(f)}let h=i.getExternalStyles?.();if(h)for(let p of h){let f=as(p,s);a&&f.setAttribute("nonce",a),this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(t){return t===this.hostEl?this.shadowRoot:t}appendChild(t,e){return super.appendChild(this.nodeOrShadowRoot(t),e)}insertBefore(t,e,n){return super.insertBefore(this.nodeOrShadowRoot(t),e,n)}removeChild(t,e){return super.removeChild(null,e)}parentNode(t){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(t)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},fn=class extends hn{sharedStylesHost;removeStylesOnCompDestroy;styles;styleUrls;constructor(t,e,n,i,s,o,a,u,l){super(t,s,o,a,u),this.sharedStylesHost=e,this.removeStylesOnCompDestroy=i;let c=n.styles;this.styles=l?Ua(l,c):c,this.styleUrls=n.getExternalStyles?.(l)}applyStyles(){this.sharedStylesHost.addStyles(this.styles,this.styleUrls)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles,this.styleUrls)}},mr=class extends fn{contentAttr;hostAttr;constructor(t,e,n,i,s,o,a,u,l){let c=i+"-"+n.id;super(t,e,n,s,o,a,u,l,c),this.contentAttr=Jc(c),this.hostAttr=Zc(c)}applyToHost(t){this.applyStyles(),this.setAttribute(t,this.hostAttr,"")}createElement(t,e){let n=super.createElement(t,e);return super.setAttribute(n,this.contentAttr,""),n}},Yc=(()=>{class r extends gr{constructor(e){super(e)}supports(e){return!0}addEventListener(e,n,i,s){return e.addEventListener(n,i,s),()=>this.removeEventListener(e,n,i,s)}removeEventListener(e,n,i,s){return e.removeEventListener(n,i,s)}static \u0275fac=function(n){return new(n||r)(I(Y))};static \u0275prov=M({token:r,factory:r.\u0275fac})}return r})(),Pa=["alt","control","meta","shift"],Xc={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},Qc={alt:r=>r.altKey,control:r=>r.ctrlKey,meta:r=>r.metaKey,shift:r=>r.shiftKey},ed=(()=>{class r extends gr{constructor(e){super(e)}supports(e){return r.parseEventName(e)!=null}addEventListener(e,n,i,s){let o=r.parseEventName(n),a=r.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Te().onAndCancel(e,o.domEventName,a,s))}static parseEventName(e){let n=e.toLowerCase().split("."),i=n.shift();if(n.length===0||!(i==="keydown"||i==="keyup"))return null;let s=r._normalizeKey(n.pop()),o="",a=n.indexOf("code");if(a>-1&&(n.splice(a,1),o="code."),Pa.forEach(l=>{let c=n.indexOf(l);c>-1&&(n.splice(c,1),o+=l+".")}),o+=s,n.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(e,n){let i=Xc[e.key]||e.key,s="";return n.indexOf("code.")>-1&&(i=e.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),Pa.forEach(o=>{if(o!==i){let a=Qc[o];a(e)&&(s+=o+".")}}),s+=i,s===n)}static eventCallback(e,n,i){return s=>{r.matchEventFullKeyCode(s,e)&&i.runGuarded(()=>n(s))}}static _normalizeKey(e){return e==="esc"?"escape":e}static \u0275fac=function(n){return new(n||r)(I(Y))};static \u0275prov=M({token:r,factory:r.\u0275fac})}return r})();function Va(r,t){return ga(v({rootComponent:r},td(t)))}function td(r){return{appProviders:[...od,...r?.providers??[]],platformProviders:sd}}function nd(){ss.makeCurrent()}function rd(){return new ji}function id(){return ea(document),document}var sd=[{provide:rn,useValue:Ia},{provide:ta,useValue:nd,multi:!0},{provide:Y,useFactory:id,deps:[]}];var od=[{provide:Ko,useValue:"root"},{provide:ji,useFactory:rd,deps:[]},{provide:os,useClass:Yc,multi:!0,deps:[Y]},{provide:os,useClass:ed,multi:!0,deps:[Y]},xa,Na,La,{provide:oa,useExisting:xa},{provide:hr,useClass:zc,deps:[]},[]];var $a=(()=>{class r{_doc;constructor(e){this._doc=e}getTitle(){return this._doc.title}setTitle(e){this._doc.title=e||""}static \u0275fac=function(n){return new(n||r)(I(Y))};static \u0275prov=M({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var A="primary",An=Symbol("RouteTitle"),ps=class{params;constructor(t){this.params=t||{}}has(t){return Object.prototype.hasOwnProperty.call(this.params,t)}get(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e[0]:e}return null}getAll(t){if(this.has(t)){let e=this.params[t];return Array.isArray(e)?e:[e]}return[]}get keys(){return Object.keys(this.params)}};function Ot(r){return new ps(r)}function ud(r,t,e){let n=e.path.split("/");if(n.length>r.length||e.pathMatch==="full"&&(t.hasChildren()||n.length<r.length))return null;let i={};for(let s=0;s<n.length;s++){let o=n[s],a=r[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:r.slice(0,n.length),posParams:i}}function ld(r,t){if(r.length!==t.length)return!1;for(let e=0;e<r.length;++e)if(!ve(r[e],t[e]))return!1;return!0}function ve(r,t){let e=r?gs(r):void 0,n=t?gs(t):void 0;if(!e||!n||e.length!=n.length)return!1;let i;for(let s=0;s<e.length;s++)if(i=e[s],!Ya(r[i],t[i]))return!1;return!0}function gs(r){return[...Object.keys(r),...Object.getOwnPropertySymbols(r)]}function Ya(r,t){if(Array.isArray(r)&&Array.isArray(t)){if(r.length!==t.length)return!1;let e=[...r].sort(),n=[...t].sort();return e.every((i,s)=>n[s]===i)}else return r===t}function Xa(r){return r.length>0?r[r.length-1]:null}function qe(r){return Uo(r)?r:on(r)?z(Promise.resolve(r)):w(r)}var cd={exact:eu,subset:tu},Qa={exact:dd,subset:hd,ignored:()=>!0};function Ba(r,t,e){return cd[e.paths](r.root,t.root,e.matrixParams)&&Qa[e.queryParams](r.queryParams,t.queryParams)&&!(e.fragment==="exact"&&r.fragment!==t.fragment)}function dd(r,t){return ve(r,t)}function eu(r,t,e){if(!et(r.segments,t.segments)||!_r(r.segments,t.segments,e)||r.numberOfChildren!==t.numberOfChildren)return!1;for(let n in t.children)if(!r.children[n]||!eu(r.children[n],t.children[n],e))return!1;return!0}function hd(r,t){return Object.keys(t).length<=Object.keys(r).length&&Object.keys(t).every(e=>Ya(r[e],t[e]))}function tu(r,t,e){return nu(r,t,t.segments,e)}function nu(r,t,e,n){if(r.segments.length>e.length){let i=r.segments.slice(0,e.length);return!(!et(i,e)||t.hasChildren()||!_r(i,e,n))}else if(r.segments.length===e.length){if(!et(r.segments,e)||!_r(r.segments,e,n))return!1;for(let i in t.children)if(!r.children[i]||!tu(r.children[i],t.children[i],n))return!1;return!0}else{let i=e.slice(0,r.segments.length),s=e.slice(r.segments.length);return!et(r.segments,i)||!_r(r.segments,i,n)||!r.children[A]?!1:nu(r.children[A],t,s,n)}}function _r(r,t,e){return t.every((n,i)=>Qa[e](r[i].parameters,n.parameters))}var Pe=class{root;queryParams;fragment;_queryParamMap;constructor(t=new O([],{}),e={},n=null){this.root=t,this.queryParams=e,this.fragment=n}get queryParamMap(){return this._queryParamMap??=Ot(this.queryParams),this._queryParamMap}toString(){return gd.serialize(this)}},O=class{segments;children;parent=null;constructor(t,e){this.segments=t,this.children=e,Object.values(e).forEach(n=>n.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return wr(this)}},Qe=class{path;parameters;_parameterMap;constructor(t,e){this.path=t,this.parameters=e}get parameterMap(){return this._parameterMap??=Ot(this.parameters),this._parameterMap}toString(){return iu(this)}};function fd(r,t){return et(r,t)&&r.every((e,n)=>ve(e.parameters,t[n].parameters))}function et(r,t){return r.length!==t.length?!1:r.every((e,n)=>e.path===t[n].path)}function pd(r,t){let e=[];return Object.entries(r.children).forEach(([n,i])=>{n===A&&(e=e.concat(t(i,n)))}),Object.entries(r.children).forEach(([n,i])=>{n!==A&&(e=e.concat(t(i,n)))}),e}var Mn=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275prov=M({token:r,factory:()=>new Tt,providedIn:"root"})}return r})(),Tt=class{parse(t){let e=new vs(t);return new Pe(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())}serialize(t){let e=`/${pn(t.root,!0)}`,n=yd(t.queryParams),i=typeof t.fragment=="string"?`#${md(t.fragment)}`:"";return`${e}${n}${i}`}},gd=new Tt;function wr(r){return r.segments.map(t=>iu(t)).join("/")}function pn(r,t){if(!r.hasChildren())return wr(r);if(t){let e=r.children[A]?pn(r.children[A],!1):"",n=[];return Object.entries(r.children).forEach(([i,s])=>{i!==A&&n.push(`${i}:${pn(s,!1)}`)}),n.length>0?`${e}(${n.join("//")})`:e}else{let e=pd(r,(n,i)=>i===A?[pn(r.children[A],!1)]:[`${i}:${pn(n,!1)}`]);return Object.keys(r.children).length===1&&r.children[A]!=null?`${wr(r)}/${e[0]}`:`${wr(r)}/(${e.join("//")})`}}function ru(r){return encodeURIComponent(r).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function vr(r){return ru(r).replace(/%3B/gi,";")}function md(r){return encodeURI(r)}function ms(r){return ru(r).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Dr(r){return decodeURIComponent(r)}function za(r){return Dr(r.replace(/\+/g,"%20"))}function iu(r){return`${ms(r.path)}${vd(r.parameters)}`}function vd(r){return Object.entries(r).map(([t,e])=>`;${ms(t)}=${ms(e)}`).join("")}function yd(r){let t=Object.entries(r).map(([e,n])=>Array.isArray(n)?n.map(i=>`${vr(e)}=${vr(i)}`).join("&"):`${vr(e)}=${vr(n)}`).filter(e=>e);return t.length?`?${t.join("&")}`:""}var _d=/^[^\/()?;#]+/;function cs(r){let t=r.match(_d);return t?t[0]:""}var wd=/^[^\/()?;=#]+/;function Dd(r){let t=r.match(wd);return t?t[0]:""}var Cd=/^[^=?&#]+/;function bd(r){let t=r.match(Cd);return t?t[0]:""}var Sd=/^[^&#]+/;function Ed(r){let t=r.match(Sd);return t?t[0]:""}var vs=class{url;remaining;constructor(t){this.url=t,this.remaining=t}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new O([],{}):new O([],this.parseChildren())}parseQueryParams(){let t={};if(this.consumeOptional("?"))do this.parseQueryParam(t);while(this.consumeOptional("&"));return t}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());let e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));let n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n[A]=new O(t,e)),n}parseSegment(){let t=cs(this.remaining);if(t===""&&this.peekStartsWith(";"))throw new k(4009,!1);return this.capture(t),new Qe(Dr(t),this.parseMatrixParams())}parseMatrixParams(){let t={};for(;this.consumeOptional(";");)this.parseParam(t);return t}parseParam(t){let e=Dd(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let i=cs(this.remaining);i&&(n=i,this.capture(n))}t[Dr(e)]=Dr(n)}parseQueryParam(t){let e=bd(this.remaining);if(!e)return;this.capture(e);let n="";if(this.consumeOptional("=")){let o=Ed(this.remaining);o&&(n=o,this.capture(n))}let i=za(e),s=za(n);if(t.hasOwnProperty(i)){let o=t[i];Array.isArray(o)||(o=[o],t[i]=o),o.push(s)}else t[i]=s}parseParens(t){let e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let n=cs(this.remaining),i=this.remaining[n.length];if(i!=="/"&&i!==")"&&i!==";")throw new k(4010,!1);let s;n.indexOf(":")>-1?(s=n.slice(0,n.indexOf(":")),this.capture(s),this.capture(":")):t&&(s=A);let o=this.parseChildren();e[s]=Object.keys(o).length===1?o[A]:new O([],o),this.consumeOptional("//")}return e}peekStartsWith(t){return this.remaining.startsWith(t)}consumeOptional(t){return this.peekStartsWith(t)?(this.remaining=this.remaining.substring(t.length),!0):!1}capture(t){if(!this.consumeOptional(t))throw new k(4011,!1)}};function su(r){return r.segments.length>0?new O([],{[A]:r}):r}function ou(r){let t={};for(let[n,i]of Object.entries(r.children)){let s=ou(i);if(n===A&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))t[o]=a;else(s.segments.length>0||s.hasChildren())&&(t[n]=s)}let e=new O(r.segments,t);return Ad(e)}function Ad(r){if(r.numberOfChildren===1&&r.children[A]){let t=r.children[A];return new O(r.segments.concat(t.segments),t.children)}return r}function tt(r){return r instanceof Pe}function Md(r,t,e=null,n=null){let i=au(r);return uu(i,t,e,n)}function au(r){let t;function e(s){let o={};for(let u of s.children){let l=e(u);o[u.outlet]=l}let a=new O(s.url,o);return s===r&&(t=a),a}let n=e(r.root),i=su(n);return t??i}function uu(r,t,e,n){let i=r;for(;i.parent;)i=i.parent;if(t.length===0)return ds(i,i,i,e,n);let s=Rd(t);if(s.toRoot())return ds(i,i,new O([],{}),e,n);let o=Id(s,i,r),a=o.processChildren?mn(o.segmentGroup,o.index,s.commands):cu(o.segmentGroup,o.index,s.commands);return ds(i,o.segmentGroup,a,e,n)}function br(r){return typeof r=="object"&&r!=null&&!r.outlets&&!r.segmentPath}function yn(r){return typeof r=="object"&&r!=null&&r.outlets}function ds(r,t,e,n,i){let s={};n&&Object.entries(n).forEach(([u,l])=>{s[u]=Array.isArray(l)?l.map(c=>`${c}`):`${l}`});let o;r===t?o=e:o=lu(r,t,e);let a=su(ou(o));return new Pe(a,s,i)}function lu(r,t,e){let n={};return Object.entries(r.children).forEach(([i,s])=>{s===t?n[i]=e:n[i]=lu(s,t,e)}),new O(r.segments,n)}var Sr=class{isAbsolute;numberOfDoubleDots;commands;constructor(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&br(n[0]))throw new k(4003,!1);let i=n.find(yn);if(i&&i!==Xa(n))throw new k(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Rd(r){if(typeof r[0]=="string"&&r.length===1&&r[0]==="/")return new Sr(!0,0,r);let t=0,e=!1,n=r.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,l])=>{a[u]=typeof l=="string"?l.split("/"):l}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?e=!0:a===".."?t++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new Sr(e,t,n)}var Mt=class{segmentGroup;processChildren;index;constructor(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}};function Id(r,t,e){if(r.isAbsolute)return new Mt(t,!0,0);if(!e)return new Mt(t,!1,NaN);if(e.parent===null)return new Mt(e,!0,0);let n=br(r.commands[0])?0:1,i=e.segments.length-1+n;return Od(e,i,r.numberOfDoubleDots)}function Od(r,t,e){let n=r,i=t,s=e;for(;s>i;){if(s-=i,n=n.parent,!n)throw new k(4005,!1);i=n.segments.length}return new Mt(n,!1,i-s)}function Td(r){return yn(r[0])?r[0].outlets:{[A]:r}}function cu(r,t,e){if(r??=new O([],{}),r.segments.length===0&&r.hasChildren())return mn(r,t,e);let n=Fd(r,t,e),i=e.slice(n.commandIndex);if(n.match&&n.pathIndex<r.segments.length){let s=new O(r.segments.slice(0,n.pathIndex),{});return s.children[A]=new O(r.segments.slice(n.pathIndex),r.children),mn(s,0,i)}else return n.match&&i.length===0?new O(r.segments,{}):n.match&&!r.hasChildren()?ys(r,t,e):n.match?mn(r,0,i):ys(r,t,e)}function mn(r,t,e){if(e.length===0)return new O(r.segments,{});{let n=Td(e),i={};if(Object.keys(n).some(s=>s!==A)&&r.children[A]&&r.numberOfChildren===1&&r.children[A].segments.length===0){let s=mn(r.children[A],t,e);return new O(r.segments,s.children)}return Object.entries(n).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=cu(r.children[s],t,o))}),Object.entries(r.children).forEach(([s,o])=>{n[s]===void 0&&(i[s]=o)}),new O(r.segments,i)}}function Fd(r,t,e){let n=0,i=t,s={match:!1,pathIndex:0,commandIndex:0};for(;i<r.segments.length;){if(n>=e.length)return s;let o=r.segments[i],a=e[n];if(yn(a))break;let u=`${a}`,l=n<e.length-1?e[n+1]:null;if(i>0&&u===void 0)break;if(u&&l&&typeof l=="object"&&l.outlets===void 0){if(!Ga(u,l,o))return s;n+=2}else{if(!Ga(u,{},o))return s;n++}i++}return{match:!0,pathIndex:i,commandIndex:n}}function ys(r,t,e){let n=r.segments.slice(0,t),i=0;for(;i<e.length;){let s=e[i];if(yn(s)){let u=xd(s.outlets);return new O(n,u)}if(i===0&&br(e[0])){let u=r.segments[t];n.push(new Qe(u.path,Ha(e[0]))),i++;continue}let o=yn(s)?s.outlets[A]:`${s}`,a=i<e.length-1?e[i+1]:null;o&&a&&br(a)?(n.push(new Qe(o,Ha(a))),i+=2):(n.push(new Qe(o,{})),i++)}return new O(n,{})}function xd(r){let t={};return Object.entries(r).forEach(([e,n])=>{typeof n=="string"&&(n=[n]),n!==null&&(t[e]=ys(new O([],{}),0,n))}),t}function Ha(r){let t={};return Object.entries(r).forEach(([e,n])=>t[e]=`${n}`),t}function Ga(r,t,e){return r==e.path&&ve(t,e.parameters)}var Cr="imperative",V=function(r){return r[r.NavigationStart=0]="NavigationStart",r[r.NavigationEnd=1]="NavigationEnd",r[r.NavigationCancel=2]="NavigationCancel",r[r.NavigationError=3]="NavigationError",r[r.RoutesRecognized=4]="RoutesRecognized",r[r.ResolveStart=5]="ResolveStart",r[r.ResolveEnd=6]="ResolveEnd",r[r.GuardsCheckStart=7]="GuardsCheckStart",r[r.GuardsCheckEnd=8]="GuardsCheckEnd",r[r.RouteConfigLoadStart=9]="RouteConfigLoadStart",r[r.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",r[r.ChildActivationStart=11]="ChildActivationStart",r[r.ChildActivationEnd=12]="ChildActivationEnd",r[r.ActivationStart=13]="ActivationStart",r[r.ActivationEnd=14]="ActivationEnd",r[r.Scroll=15]="Scroll",r[r.NavigationSkipped=16]="NavigationSkipped",r}(V||{}),oe=class{id;url;constructor(t,e){this.id=t,this.url=e}},Ft=class extends oe{type=V.NavigationStart;navigationTrigger;restoredState;constructor(t,e,n="imperative",i=null){super(t,e),this.navigationTrigger=n,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},fe=class extends oe{urlAfterRedirects;type=V.NavigationEnd;constructor(t,e,n){super(t,e),this.urlAfterRedirects=n}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},ne=function(r){return r[r.Redirect=0]="Redirect",r[r.SupersededByNewNavigation=1]="SupersededByNewNavigation",r[r.NoDataFromResolver=2]="NoDataFromResolver",r[r.GuardRejected=3]="GuardRejected",r}(ne||{}),Er=function(r){return r[r.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",r[r.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",r}(Er||{}),ke=class extends oe{reason;code;type=V.NavigationCancel;constructor(t,e,n,i){super(t,e),this.reason=n,this.code=i}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},He=class extends oe{reason;code;type=V.NavigationSkipped;constructor(t,e,n,i){super(t,e),this.reason=n,this.code=i}},_n=class extends oe{error;target;type=V.NavigationError;constructor(t,e,n,i){super(t,e),this.error=n,this.target=i}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Ar=class extends oe{urlAfterRedirects;state;type=V.RoutesRecognized;constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_s=class extends oe{urlAfterRedirects;state;type=V.GuardsCheckStart;constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ws=class extends oe{urlAfterRedirects;state;shouldActivate;type=V.GuardsCheckEnd;constructor(t,e,n,i,s){super(t,e),this.urlAfterRedirects=n,this.state=i,this.shouldActivate=s}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ds=class extends oe{urlAfterRedirects;state;type=V.ResolveStart;constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Cs=class extends oe{urlAfterRedirects;state;type=V.ResolveEnd;constructor(t,e,n,i){super(t,e),this.urlAfterRedirects=n,this.state=i}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bs=class{route;type=V.RouteConfigLoadStart;constructor(t){this.route=t}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ss=class{route;type=V.RouteConfigLoadEnd;constructor(t){this.route=t}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Es=class{snapshot;type=V.ChildActivationStart;constructor(t){this.snapshot=t}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},As=class{snapshot;type=V.ChildActivationEnd;constructor(t){this.snapshot=t}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ms=class{snapshot;type=V.ActivationStart;constructor(t){this.snapshot=t}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Rs=class{snapshot;type=V.ActivationEnd;constructor(t){this.snapshot=t}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Mr=class{routerEvent;position;anchor;type=V.Scroll;constructor(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}toString(){let t=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${t}')`}},wn=class{},xt=class{url;navigationBehaviorOptions;constructor(t,e){this.url=t,this.navigationBehaviorOptions=e}};function kd(r,t){return r.providers&&!r._injector&&(r._injector=$i(r.providers,t,`Route: ${r.path}`)),r._injector??t}function he(r){return r.outlet||A}function Pd(r,t){let e=r.filter(n=>he(n)===t);return e.push(...r.filter(n=>he(n)!==t)),e}function Rn(r){if(!r)return null;if(r.routeConfig?._injector)return r.routeConfig._injector;for(let t=r.parent;t;t=t.parent){let e=t.routeConfig;if(e?._loadedInjector)return e._loadedInjector;if(e?._injector)return e._injector}return null}var Is=class{rootInjector;outlet=null;route=null;children;attachRef=null;get injector(){return Rn(this.route?.snapshot)??this.rootInjector}constructor(t){this.rootInjector=t,this.children=new In(this.rootInjector)}},In=(()=>{class r{rootInjector;contexts=new Map;constructor(e){this.rootInjector=e}onChildOutletCreated(e,n){let i=this.getOrCreateContext(e);i.outlet=n,this.contexts.set(e,i)}onChildOutletDestroyed(e){let n=this.getContext(e);n&&(n.outlet=null,n.attachRef=null)}onOutletDeactivated(){let e=this.contexts;return this.contexts=new Map,e}onOutletReAttached(e){this.contexts=e}getOrCreateContext(e){let n=this.getContext(e);return n||(n=new Is(this.rootInjector),this.contexts.set(e,n)),n}getContext(e){return this.contexts.get(e)||null}static \u0275fac=function(n){return new(n||r)(I(tn))};static \u0275prov=M({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Rr=class{_root;constructor(t){this._root=t}get root(){return this._root.value}parent(t){let e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null}children(t){let e=Os(t,this._root);return e?e.children.map(n=>n.value):[]}firstChild(t){let e=Os(t,this._root);return e&&e.children.length>0?e.children[0].value:null}siblings(t){let e=Ts(t,this._root);return e.length<2?[]:e[e.length-2].children.map(i=>i.value).filter(i=>i!==t)}pathFromRoot(t){return Ts(t,this._root).map(e=>e.value)}};function Os(r,t){if(r===t.value)return t;for(let e of t.children){let n=Os(r,e);if(n)return n}return null}function Ts(r,t){if(r===t.value)return[t];for(let e of t.children){let n=Ts(r,e);if(n.length)return n.unshift(t),n}return[]}var te=class{value;children;constructor(t,e){this.value=t,this.children=e}toString(){return`TreeNode(${this.value})`}};function At(r){let t={};return r&&r.children.forEach(e=>t[e.value.outlet]=e),t}var Ir=class extends Rr{snapshot;constructor(t,e){super(t),this.snapshot=e,Vs(this,t)}toString(){return this.snapshot.toString()}};function du(r){let t=Ld(r),e=new K([new Qe("",{})]),n=new K({}),i=new K({}),s=new K({}),o=new K(""),a=new Ge(e,n,s,o,i,A,r,t.root);return a.snapshot=t.root,new Ir(new te(a,[]),t)}function Ld(r){let t={},e={},n={},i="",s=new Rt([],t,n,i,e,A,r,null,{});return new Tr("",new te(s,[]))}var Ge=class{urlSubject;paramsSubject;queryParamsSubject;fragmentSubject;dataSubject;outlet;component;snapshot;_futureSnapshot;_routerState;_paramMap;_queryParamMap;title;url;params;queryParams;fragment;data;constructor(t,e,n,i,s,o,a,u){this.urlSubject=t,this.paramsSubject=e,this.queryParamsSubject=n,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(T(l=>l[An]))??w(void 0),this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(T(t=>Ot(t))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(T(t=>Ot(t))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Or(r,t,e="emptyOnly"){let n,{routeConfig:i}=r;return t!==null&&(e==="always"||i?.path===""||!t.component&&!t.routeConfig?.loadComponent)?n={params:v(v({},t.params),r.params),data:v(v({},t.data),r.data),resolve:v(v(v(v({},r.data),t.data),i?.data),r._resolvedData)}:n={params:v({},r.params),data:v({},r.data),resolve:v(v({},r.data),r._resolvedData??{})},i&&fu(i)&&(n.resolve[An]=i.title),n}var Rt=class{url;params;queryParams;fragment;data;outlet;component;routeConfig;_resolve;_resolvedData;_routerState;_paramMap;_queryParamMap;get title(){return this.data?.[An]}constructor(t,e,n,i,s,o,a,u,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=l}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ot(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ot(this.queryParams),this._queryParamMap}toString(){let t=this.url.map(n=>n.toString()).join("/"),e=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${t}', path:'${e}')`}},Tr=class extends Rr{url;constructor(t,e){super(e),this.url=t,Vs(this,e)}toString(){return hu(this._root)}};function Vs(r,t){t.value._routerState=r,t.children.forEach(e=>Vs(r,e))}function hu(r){let t=r.children.length>0?` { ${r.children.map(hu).join(", ")} } `:"";return`${r.value}${t}`}function hs(r){if(r.snapshot){let t=r.snapshot,e=r._futureSnapshot;r.snapshot=e,ve(t.queryParams,e.queryParams)||r.queryParamsSubject.next(e.queryParams),t.fragment!==e.fragment&&r.fragmentSubject.next(e.fragment),ve(t.params,e.params)||r.paramsSubject.next(e.params),ld(t.url,e.url)||r.urlSubject.next(e.url),ve(t.data,e.data)||r.dataSubject.next(e.data)}else r.snapshot=r._futureSnapshot,r.dataSubject.next(r._futureSnapshot.data)}function Fs(r,t){let e=ve(r.params,t.params)&&fd(r.url,t.url),n=!r.parent!=!t.parent;return e&&!n&&(!r.parent||Fs(r.parent,t.parent))}function fu(r){return typeof r.title=="string"||r.title===null}var Nd=new F(""),$s=(()=>{class r{activated=null;get activatedComponentRef(){return this.activated}_activatedRoute=null;name=A;activateEvents=new se;deactivateEvents=new se;attachEvents=new se;detachEvents=new se;routerOutletData=Qo(void 0);parentContexts=_(In);location=_(lr);changeDetector=_(ze);inputBinder=_(Pr,{optional:!0});supportsBindingToComponentInputs=!0;ngOnChanges(e){if(e.name){let{firstChange:n,previousValue:i}=e.name;if(n)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(e){return this.parentContexts.getContext(e)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let e=this.parentContexts.getContext(this.name);e?.route&&(e.attachRef?this.attach(e.attachRef,e.route):this.activateWith(e.route,e.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new k(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new k(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new k(4012,!1);this.location.detach();let e=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(e.instance),e}attach(e,n){this.activated=e,this._activatedRoute=n,this.location.insert(e.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(e.instance)}deactivate(){if(this.activated){let e=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(e)}}activateWith(e,n){if(this.isActivated)throw new k(4013,!1);this._activatedRoute=e;let i=this.location,o=e.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new xs(e,a,i.injector,this.routerOutletData);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:n}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static \u0275fac=function(n){return new(n||r)};static \u0275dir=$({type:r,selectors:[["router-outlet"]],inputs:{name:"name",routerOutletData:[1,"routerOutletData"]},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],features:[Ee]})}return r})(),xs=class r{route;childContexts;parent;outletData;__ngOutletInjector(t){return new r(this.route,this.childContexts,t,this.outletData)}constructor(t,e,n,i){this.route=t,this.childContexts=e,this.parent=n,this.outletData=i}get(t,e){return t===Ge?this.route:t===In?this.childContexts:t===Nd?this.outletData:this.parent.get(t,e)}},Pr=new F(""),qa=(()=>{class r{outletDataSubscriptions=new Map;bindActivatedRouteToOutletComponent(e){this.unsubscribeFromRouteData(e),this.subscribeToRouteData(e)}unsubscribeFromRouteData(e){this.outletDataSubscriptions.get(e)?.unsubscribe(),this.outletDataSubscriptions.delete(e)}subscribeToRouteData(e){let{activatedRoute:n}=e,i=ar([n.queryParams,n.params,n.data]).pipe(de(([s,o,a],u)=>(a=v(v(v({},s),o),a),u===0?w(a):Promise.resolve(a)))).subscribe(s=>{if(!e.isActivated||!e.activatedComponentRef||e.activatedRoute!==n||n.component===null){this.unsubscribeFromRouteData(e);return}let o=ma(n.component);if(!o){this.unsubscribeFromRouteData(e);return}for(let{templateName:a}of o.inputs)e.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(e,i)}static \u0275fac=function(n){return new(n||r)};static \u0275prov=M({token:r,factory:r.\u0275fac})}return r})();function jd(r,t,e){let n=Dn(r,t._root,e?e._root:void 0);return new Ir(n,t)}function Dn(r,t,e){if(e&&r.shouldReuseRoute(t.value,e.value.snapshot)){let n=e.value;n._futureSnapshot=t.value;let i=Ud(r,t,e);return new te(n,i)}else{if(r.shouldAttach(t.value)){let s=r.retrieve(t.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=t.value,o.children=t.children.map(a=>Dn(r,a)),o}}let n=Vd(t.value),i=t.children.map(s=>Dn(r,s));return new te(n,i)}}function Ud(r,t,e){return t.children.map(n=>{for(let i of e.children)if(r.shouldReuseRoute(n.value,i.value.snapshot))return Dn(r,n,i);return Dn(r,n)})}function Vd(r){return new Ge(new K(r.url),new K(r.params),new K(r.queryParams),new K(r.fragment),new K(r.data),r.outlet,r.component,r)}var Cn=class{redirectTo;navigationBehaviorOptions;constructor(t,e){this.redirectTo=t,this.navigationBehaviorOptions=e}},pu="ngNavigationCancelingError";function Fr(r,t){let{redirectTo:e,navigationBehaviorOptions:n}=tt(t)?{redirectTo:t,navigationBehaviorOptions:void 0}:t,i=gu(!1,ne.Redirect);return i.url=e,i.navigationBehaviorOptions=n,i}function gu(r,t){let e=new Error(`NavigationCancelingError: ${r||""}`);return e[pu]=!0,e.cancellationCode=t,e}function $d(r){return mu(r)&&tt(r.url)}function mu(r){return!!r&&r[pu]}var Bd=(r,t,e,n)=>T(i=>(new ks(t,i.targetRouterState,i.currentRouterState,e,n).activate(r),i)),ks=class{routeReuseStrategy;futureState;currState;forwardEvent;inputBindingEnabled;constructor(t,e,n,i,s){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=i,this.inputBindingEnabled=s}activate(t){let e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),hs(this.futureState.root),this.activateChildRoutes(e,n,t)}deactivateChildRoutes(t,e,n){let i=At(e);t.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],n),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,n)})}deactivateRoutes(t,e,n){let i=t.value,s=e?e.value:null;if(i===s)if(i.component){let o=n.getContext(i.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else s&&this.deactivateRouteAndItsChildren(e,n)}deactivateRouteAndItsChildren(t,e){t.value.component&&this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)}detachAndStoreRouteSubtree(t,e){let n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,s=At(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(n&&n.outlet){let o=n.outlet.detach(),a=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:o,route:t,contexts:a})}}deactivateRouteAndOutlet(t,e){let n=e.getContext(t.value.outlet),i=n&&t.value.component?n.children:e,s=At(t);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);n&&(n.outlet&&(n.outlet.deactivate(),n.children.onOutletDeactivated()),n.attachRef=null,n.route=null)}activateChildRoutes(t,e,n){let i=At(e);t.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],n),this.forwardEvent(new Rs(s.value.snapshot))}),t.children.length&&this.forwardEvent(new As(t.value.snapshot))}activateRoutes(t,e,n){let i=t.value,s=e?e.value:null;if(hs(i),i===s)if(i.component){let o=n.getOrCreateContext(i.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(i.component){let o=n.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),hs(a.route.value),this.activateChildRoutes(t,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,n)}},xr=class{path;route;constructor(t){this.path=t,this.route=this.path[this.path.length-1]}},It=class{component;route;constructor(t,e){this.component=t,this.route=e}};function zd(r,t,e){let n=r._root,i=t?t._root:null;return gn(n,i,e,[n.value])}function Hd(r){let t=r.routeConfig?r.routeConfig.canActivateChild:null;return!t||t.length===0?null:{node:r,guards:t}}function Lt(r,t){let e=Symbol(),n=t.get(r,e);return n===e?typeof r=="function"&&!Wo(r)?r:t.get(r):n}function gn(r,t,e,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=At(t);return r.children.forEach(o=>{Gd(o,s[o.value.outlet],e,n.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>vn(a,e.getContext(o),i)),i}function Gd(r,t,e,n,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=r.value,o=t?t.value:null,a=e?e.getContext(r.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=qd(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new xr(n)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?gn(r,t,a?a.children:null,n,i):gn(r,t,e,n,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new It(a.outlet.component,o))}else o&&vn(t,a,i),i.canActivateChecks.push(new xr(n)),s.component?gn(r,null,a?a.children:null,n,i):gn(r,null,e,n,i);return i}function qd(r,t,e){if(typeof e=="function")return e(r,t);switch(e){case"pathParamsChange":return!et(r.url,t.url);case"pathParamsOrQueryParamsChange":return!et(r.url,t.url)||!ve(r.queryParams,t.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fs(r,t)||!ve(r.queryParams,t.queryParams);case"paramsChange":default:return!Fs(r,t)}}function vn(r,t,e){let n=At(r),i=r.value;Object.entries(n).forEach(([s,o])=>{i.component?t?vn(o,t.children.getContext(s),e):vn(o,null,e):vn(o,t,e)}),i.component?t&&t.outlet&&t.outlet.isActivated?e.canDeactivateChecks.push(new It(t.outlet.component,i)):e.canDeactivateChecks.push(new It(null,i)):e.canDeactivateChecks.push(new It(null,i))}function On(r){return typeof r=="function"}function Wd(r){return typeof r=="boolean"}function Kd(r){return r&&On(r.canLoad)}function Jd(r){return r&&On(r.canActivate)}function Zd(r){return r&&On(r.canActivateChild)}function Yd(r){return r&&On(r.canDeactivate)}function Xd(r){return r&&On(r.canMatch)}function vu(r){return r instanceof Vo||r?.name==="EmptyError"}var yr=Symbol("INITIAL_VALUE");function kt(){return de(r=>ar(r.map(t=>t.pipe(vt(1),Go(yr)))).pipe(T(t=>{for(let e of t)if(e!==!0){if(e===yr)return yr;if(e===!1||Qd(e))return e}return!0}),Je(t=>t!==yr),vt(1)))}function Qd(r){return tt(r)||r instanceof Cn}function eh(r,t){return ee(e=>{let{targetSnapshot:n,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=e;return o.length===0&&s.length===0?w(x(v({},e),{guardsResult:!0})):th(o,n,i,r).pipe(ee(a=>a&&Wd(a)?nh(n,s,r,t):w(a)),T(a=>x(v({},e),{guardsResult:a})))})}function th(r,t,e,n){return z(r).pipe(ee(i=>ah(i.component,i.route,e,t,n)),Ve(i=>i!==!0,!0))}function nh(r,t,e,n){return z(t).pipe(mt(i=>$o(ih(i.route.parent,n),rh(i.route,n),oh(r,i.path,e),sh(r,i.route,e))),Ve(i=>i!==!0,!0))}function rh(r,t){return r!==null&&t&&t(new Ms(r)),w(!0)}function ih(r,t){return r!==null&&t&&t(new Es(r)),w(!0)}function sh(r,t,e){let n=t.routeConfig?t.routeConfig.canActivate:null;if(!n||n.length===0)return w(!0);let i=n.map(s=>Fi(()=>{let o=Rn(t)??e,a=Lt(s,o),u=Jd(a)?a.canActivate(t,r):ge(o,()=>a(t,r));return qe(u).pipe(Ve())}));return w(i).pipe(kt())}function oh(r,t,e){let n=t[t.length-1],s=t.slice(0,t.length-1).reverse().map(o=>Hd(o)).filter(o=>o!==null).map(o=>Fi(()=>{let a=o.guards.map(u=>{let l=Rn(o.node)??e,c=Lt(u,l),h=Zd(c)?c.canActivateChild(n,r):ge(l,()=>c(n,r));return qe(h).pipe(Ve())});return w(a).pipe(kt())}));return w(s).pipe(kt())}function ah(r,t,e,n,i){let s=t&&t.routeConfig?t.routeConfig.canDeactivate:null;if(!s||s.length===0)return w(!0);let o=s.map(a=>{let u=Rn(t)??i,l=Lt(a,u),c=Yd(l)?l.canDeactivate(r,t,e,n):ge(u,()=>l(r,t,e,n));return qe(c).pipe(Ve())});return w(o).pipe(kt())}function uh(r,t,e,n){let i=t.canLoad;if(i===void 0||i.length===0)return w(!0);let s=i.map(o=>{let a=Lt(o,r),u=Kd(a)?a.canLoad(t,e):ge(r,()=>a(t,e));return qe(u)});return w(s).pipe(kt(),yu(n))}function yu(r){return jo(H(t=>{if(typeof t!="boolean")throw Fr(r,t)}),T(t=>t===!0))}function lh(r,t,e,n){let i=t.canMatch;if(!i||i.length===0)return w(!0);let s=i.map(o=>{let a=Lt(o,r),u=Xd(a)?a.canMatch(t,e):ge(r,()=>a(t,e));return qe(u)});return w(s).pipe(kt(),yu(n))}var bn=class{segmentGroup;constructor(t){this.segmentGroup=t||null}},Sn=class extends Error{urlTree;constructor(t){super(),this.urlTree=t}};function Et(r){return Qt(new bn(r))}function ch(r){return Qt(new k(4e3,!1))}function dh(r){return Qt(gu(!1,ne.GuardRejected))}var Ps=class{urlSerializer;urlTree;constructor(t,e){this.urlSerializer=t,this.urlTree=e}lineralizeSegments(t,e){let n=[],i=e.root;for(;;){if(n=n.concat(i.segments),i.numberOfChildren===0)return w(n);if(i.numberOfChildren>1||!i.children[A])return ch(`${t.redirectTo}`);i=i.children[A]}}applyRedirectCommands(t,e,n,i,s){if(typeof e!="string"){let a=e,{queryParams:u,fragment:l,routeConfig:c,url:h,outlet:p,params:f,data:D,title:C}=i,S=ge(s,()=>a({params:f,data:D,queryParams:u,fragment:l,routeConfig:c,url:h,outlet:p,title:C}));if(S instanceof Pe)throw new Sn(S);e=S}let o=this.applyRedirectCreateUrlTree(e,this.urlSerializer.parse(e),t,n);if(e[0]==="/")throw new Sn(o);return o}applyRedirectCreateUrlTree(t,e,n,i){let s=this.createSegmentGroup(t,e.root,n,i);return new Pe(s,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)}createQueryParams(t,e){let n={};return Object.entries(t).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);n[i]=e[a]}else n[i]=s}),n}createSegmentGroup(t,e,n,i){let s=this.createSegments(t,e.segments,n,i),o={};return Object.entries(e.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(t,u,n,i)}),new O(s,o)}createSegments(t,e,n,i){return e.map(s=>s.path[0]===":"?this.findPosParam(t,s,i):this.findOrReturn(s,n))}findPosParam(t,e,n){let i=n[e.path.substring(1)];if(!i)throw new k(4001,!1);return i}findOrReturn(t,e){let n=0;for(let i of e){if(i.path===t.path)return e.splice(n),i;n++}return t}},Ls={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function hh(r,t,e,n,i){let s=_u(r,t,e);return s.matched?(n=kd(t,n),lh(n,t,e,i).pipe(T(o=>o===!0?s:v({},Ls)))):w(s)}function _u(r,t,e){if(t.path==="**")return fh(e);if(t.path==="")return t.pathMatch==="full"&&(r.hasChildren()||e.length>0)?v({},Ls):{matched:!0,consumedSegments:[],remainingSegments:e,parameters:{},positionalParamSegments:{}};let i=(t.matcher||ud)(e,r,t);if(!i)return v({},Ls);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?v(v({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:e.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function fh(r){return{matched:!0,parameters:r.length>0?Xa(r).parameters:{},consumedSegments:r,remainingSegments:[],positionalParamSegments:{}}}function Wa(r,t,e,n){return e.length>0&&mh(r,e,n)?{segmentGroup:new O(t,gh(n,new O(e,r.children))),slicedSegments:[]}:e.length===0&&vh(r,e,n)?{segmentGroup:new O(r.segments,ph(r,e,n,r.children)),slicedSegments:e}:{segmentGroup:new O(r.segments,r.children),slicedSegments:e}}function ph(r,t,e,n){let i={};for(let s of e)if(Lr(r,t,s)&&!n[he(s)]){let o=new O([],{});i[he(s)]=o}return v(v({},n),i)}function gh(r,t){let e={};e[A]=t;for(let n of r)if(n.path===""&&he(n)!==A){let i=new O([],{});e[he(n)]=i}return e}function mh(r,t,e){return e.some(n=>Lr(r,t,n)&&he(n)!==A)}function vh(r,t,e){return e.some(n=>Lr(r,t,n))}function Lr(r,t,e){return(r.hasChildren()||t.length>0)&&e.pathMatch==="full"?!1:e.path===""}function yh(r,t,e){return t.length===0&&!r.children[e]}var Ns=class{};function _h(r,t,e,n,i,s,o="emptyOnly"){return new js(r,t,e,n,i,o,s).recognize()}var wh=31,js=class{injector;configLoader;rootComponentType;config;urlTree;paramsInheritanceStrategy;urlSerializer;applyRedirects;absoluteRedirectCount=0;allowRedirects=!0;constructor(t,e,n,i,s,o,a){this.injector=t,this.configLoader=e,this.rootComponentType=n,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new Ps(this.urlSerializer,this.urlTree)}noMatchError(t){return new k(4002,`'${t.segmentGroup}'`)}recognize(){let t=Wa(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(t).pipe(T(({children:e,rootSnapshot:n})=>{let i=new te(n,e),s=new Tr("",i),o=Md(n,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(t){let e=new Rt([],Object.freeze({}),Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),A,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,t,A,e).pipe(T(n=>({children:n,rootSnapshot:e})),gt(n=>{if(n instanceof Sn)return this.urlTree=n.urlTree,this.match(n.urlTree.root);throw n instanceof bn?this.noMatchError(n):n}))}processSegmentGroup(t,e,n,i,s){return n.segments.length===0&&n.hasChildren()?this.processChildren(t,e,n,s):this.processSegment(t,e,n,n.segments,i,!0,s).pipe(T(o=>o instanceof te?[o]:[]))}processChildren(t,e,n,i){let s=[];for(let o of Object.keys(n.children))o==="primary"?s.unshift(o):s.push(o);return z(s).pipe(mt(o=>{let a=n.children[o],u=Pd(e,o);return this.processSegmentGroup(t,u,a,o,i)}),Ho((o,a)=>(o.push(...a),o)),xi(null),zo(),ee(o=>{if(o===null)return Et(n);let a=wu(o);return Dh(a),w(a)}))}processSegment(t,e,n,i,s,o,a){return z(e).pipe(mt(u=>this.processSegmentAgainstRoute(u._injector??t,e,u,n,i,s,o,a).pipe(gt(l=>{if(l instanceof bn)return w(null);throw l}))),Ve(u=>!!u),gt(u=>{if(vu(u))return yh(n,i,s)?w(new Ns):Et(n);throw u}))}processSegmentAgainstRoute(t,e,n,i,s,o,a,u){return he(n)!==o&&(o===A||!Lr(i,s,n))?Et(i):n.redirectTo===void 0?this.matchSegmentAgainstRoute(t,i,n,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(t,i,e,n,s,o,u):Et(i)}expandSegmentAgainstRouteUsingRedirect(t,e,n,i,s,o,a){let{matched:u,parameters:l,consumedSegments:c,positionalParamSegments:h,remainingSegments:p}=_u(e,i,s);if(!u)return Et(e);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>wh&&(this.allowRedirects=!1));let f=new Rt(s,l,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Ka(i),he(i),i.component??i._loadedComponent??null,i,Ja(i)),D=Or(f,a,this.paramsInheritanceStrategy);f.params=Object.freeze(D.params),f.data=Object.freeze(D.data);let C=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,h,f,t);return this.applyRedirects.lineralizeSegments(i,C).pipe(ee(S=>this.processSegment(t,n,e,S.concat(p),o,!1,a)))}matchSegmentAgainstRoute(t,e,n,i,s,o){let a=hh(e,n,i,t,this.urlSerializer);return n.path==="**"&&(e.children={}),a.pipe(de(u=>u.matched?(t=n._injector??t,this.getChildConfig(t,n,i).pipe(de(({routes:l})=>{let c=n._loadedInjector??t,{parameters:h,consumedSegments:p,remainingSegments:f}=u,D=new Rt(p,h,Object.freeze(v({},this.urlTree.queryParams)),this.urlTree.fragment,Ka(n),he(n),n.component??n._loadedComponent??null,n,Ja(n)),C=Or(D,o,this.paramsInheritanceStrategy);D.params=Object.freeze(C.params),D.data=Object.freeze(C.data);let{segmentGroup:S,slicedSegments:j}=Wa(e,p,f,l);if(j.length===0&&S.hasChildren())return this.processChildren(c,l,S,D).pipe(T(W=>new te(D,W)));if(l.length===0&&j.length===0)return w(new te(D,[]));let le=he(n)===s;return this.processSegment(c,l,S,j,le?A:s,!0,D).pipe(T(W=>new te(D,W instanceof te?[W]:[])))}))):Et(e)))}getChildConfig(t,e,n){return e.children?w({routes:e.children,injector:t}):e.loadChildren?e._loadedRoutes!==void 0?w({routes:e._loadedRoutes,injector:e._loadedInjector}):uh(t,e,n,this.urlSerializer).pipe(ee(i=>i?this.configLoader.loadChildren(t,e).pipe(H(s=>{e._loadedRoutes=s.routes,e._loadedInjector=s.injector})):dh(e))):w({routes:[],injector:t})}};function Dh(r){r.sort((t,e)=>t.value.outlet===A?-1:e.value.outlet===A?1:t.value.outlet.localeCompare(e.value.outlet))}function Ch(r){let t=r.value.routeConfig;return t&&t.path===""}function wu(r){let t=[],e=new Set;for(let n of r){if(!Ch(n)){t.push(n);continue}let i=t.find(s=>n.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...n.children),e.add(i)):t.push(n)}for(let n of e){let i=wu(n.children);t.push(new te(n.value,i))}return t.filter(n=>!e.has(n))}function Ka(r){return r.data||{}}function Ja(r){return r.resolve||{}}function bh(r,t,e,n,i,s){return ee(o=>_h(r,t,e,n,o.extractedUrl,i,s).pipe(T(({state:a,tree:u})=>x(v({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function Sh(r,t){return ee(e=>{let{targetSnapshot:n,guards:{canActivateChecks:i}}=e;if(!i.length)return w(e);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let l of Du(u))o.add(l);let a=0;return z(o).pipe(mt(u=>s.has(u)?Eh(u,n,r,t):(u.data=Or(u,u.parent,r).resolve,w(void 0))),H(()=>a++),ki(1),ee(u=>a===o.size?w(e):be))})}function Du(r){let t=r.children.map(e=>Du(e)).flat();return[r,...t]}function Eh(r,t,e,n){let i=r.routeConfig,s=r._resolve;return i?.title!==void 0&&!fu(i)&&(s[An]=i.title),Ah(s,r,t,n).pipe(T(o=>(r._resolvedData=o,r.data=Or(r,r.parent,e).resolve,null)))}function Ah(r,t,e,n){let i=gs(r);if(i.length===0)return w({});let s={};return z(i).pipe(ee(o=>Mh(r[o],t,e,n).pipe(Ve(),H(a=>{if(a instanceof Cn)throw Fr(new Tt,a);s[o]=a}))),ki(1),T(()=>s),gt(o=>vu(o)?be:Qt(o)))}function Mh(r,t,e,n){let i=Rn(t)??n,s=Lt(r,i),o=s.resolve?s.resolve(t,e):ge(i,()=>s(t,e));return qe(o)}function fs(r){return de(t=>{let e=r(t);return e?z(e).pipe(T(()=>t)):w(t)})}var Cu=(()=>{class r{buildTitle(e){let n,i=e.root;for(;i!==void 0;)n=this.getResolvedTitleForRoute(i)??n,i=i.children.find(s=>s.outlet===A);return n}getResolvedTitleForRoute(e){return e.data[An]}static \u0275fac=function(n){return new(n||r)};static \u0275prov=M({token:r,factory:()=>_(Rh),providedIn:"root"})}return r})(),Rh=(()=>{class r extends Cu{title;constructor(e){super(),this.title=e}updateTitle(e){let n=this.buildTitle(e);n!==void 0&&this.title.setTitle(n)}static \u0275fac=function(n){return new(n||r)(I($a))};static \u0275prov=M({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Tn=new F("",{providedIn:"root",factory:()=>({})}),Ih=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275cmp=J({type:r,selectors:[["ng-component"]],exportAs:["emptyRouterOutlet"],decls:1,vars:0,template:function(n,i){n&1&&G(0,"router-outlet")},dependencies:[$s],encapsulation:2})}return r})();function Bs(r){let t=r.children&&r.children.map(Bs),e=t?x(v({},r),{children:t}):v({},r);return!e.component&&!e.loadComponent&&(t||e.loadChildren)&&e.outlet&&e.outlet!==A&&(e.component=Ih),e}var En=new F(""),zs=(()=>{class r{componentLoaders=new WeakMap;childrenLoaders=new WeakMap;onLoadStartListener;onLoadEndListener;compiler=_(cr);loadComponent(e){if(this.componentLoaders.get(e))return this.componentLoaders.get(e);if(e._loadedComponent)return w(e._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(e);let n=qe(e.loadComponent()).pipe(T(bu),H(s=>{this.onLoadEndListener&&this.onLoadEndListener(e),e._loadedComponent=s}),ur(()=>{this.componentLoaders.delete(e)})),i=new Ti(n,()=>new ie).pipe(Oi());return this.componentLoaders.set(e,i),i}loadChildren(e,n){if(this.childrenLoaders.get(n))return this.childrenLoaders.get(n);if(n._loadedRoutes)return w({routes:n._loadedRoutes,injector:n._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(n);let s=Oh(n,this.compiler,e,this.onLoadEndListener).pipe(ur(()=>{this.childrenLoaders.delete(n)})),o=new Ti(s,()=>new ie).pipe(Oi());return this.childrenLoaders.set(n,o),o}static \u0275fac=function(n){return new(n||r)};static \u0275prov=M({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Oh(r,t,e,n){return qe(r.loadChildren()).pipe(T(bu),ee(i=>i instanceof ua||Array.isArray(i)?w(i):z(t.compileModuleAsync(i))),T(i=>{n&&n(r);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(e).injector,o=s.get(En,[],{optional:!0,self:!0}).flat()),{routes:o.map(Bs),injector:s}}))}function Th(r){return r&&typeof r=="object"&&"default"in r}function bu(r){return Th(r)?r.default:r}var Hs=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275prov=M({token:r,factory:()=>_(Fh),providedIn:"root"})}return r})(),Fh=(()=>{class r{shouldProcessUrl(e){return!0}extract(e){return e}merge(e,n){return e}static \u0275fac=function(n){return new(n||r)};static \u0275prov=M({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Su=new F(""),Eu=new F("");function xh(r,t,e){let n=r.get(Eu),i=r.get(Y);return r.get(Ye).runOutsideAngular(()=>{if(!i.startViewTransition||n.skipNextTransition)return n.skipNextTransition=!1,new Promise(l=>setTimeout(l));let s,o=new Promise(l=>{s=l}),a=i.startViewTransition(()=>(s(),kh(r))),{onViewTransitionCreated:u}=n;return u&&ge(r,()=>u({transition:a,from:t,to:e})),o})}function kh(r){return new Promise(t=>{ra({read:()=>setTimeout(t)},{injector:r})})}var Au=new F(""),Gs=(()=>{class r{currentNavigation=null;currentTransition=null;lastSuccessfulNavigation=null;events=new ie;transitionAbortSubject=new ie;configLoader=_(zs);environmentInjector=_(tn);destroyRef=_(Yo);urlSerializer=_(Mn);rootContexts=_(In);location=_(St);inputBindingEnabled=_(Pr,{optional:!0})!==null;titleStrategy=_(Cu);options=_(Tn,{optional:!0})||{};paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly";urlHandlingStrategy=_(Hs);createViewTransition=_(Su,{optional:!0});navigationErrorHandler=_(Au,{optional:!0});navigationId=0;get hasRequestedNavigation(){return this.navigationId!==0}transitions;afterPreactivation=()=>w(void 0);rootComponentType=null;destroyed=!1;constructor(){let e=i=>this.events.next(new bs(i)),n=i=>this.events.next(new Ss(i));this.configLoader.onLoadEndListener=n,this.configLoader.onLoadStartListener=e,this.destroyRef.onDestroy(()=>{this.destroyed=!0})}complete(){this.transitions?.complete()}handleNavigationRequest(e){let n=++this.navigationId;this.transitions?.next(x(v({},e),{extractedUrl:this.urlHandlingStrategy.extract(e.rawUrl),targetSnapshot:null,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null,id:n}))}setupNavigations(e){return this.transitions=new K(null),this.transitions.pipe(Je(n=>n!==null),de(n=>{let i=!1,s=!1;return w(n).pipe(de(o=>{if(this.navigationId>n.id)return this.cancelNavigationTransition(n,"",ne.SupersededByNewNavigation),be;this.currentTransition=n,this.currentNavigation={id:o.id,initialUrl:o.rawUrl,extractedUrl:o.extractedUrl,targetBrowserUrl:typeof o.extras.browserUrl=="string"?this.urlSerializer.parse(o.extras.browserUrl):o.extras.browserUrl,trigger:o.source,extras:o.extras,previousNavigation:this.lastSuccessfulNavigation?x(v({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let a=!e.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),u=o.extras.onSameUrlNavigation??e.onSameUrlNavigation;if(!a&&u!=="reload"){let l="";return this.events.next(new He(o.id,this.urlSerializer.serialize(o.rawUrl),l,Er.IgnoredSameUrlNavigation)),o.resolve(!1),be}if(this.urlHandlingStrategy.shouldProcessUrl(o.rawUrl))return w(o).pipe(de(l=>(this.events.next(new Ft(l.id,this.urlSerializer.serialize(l.extractedUrl),l.source,l.restoredState)),l.id!==this.navigationId?be:Promise.resolve(l))),bh(this.environmentInjector,this.configLoader,this.rootComponentType,e.config,this.urlSerializer,this.paramsInheritanceStrategy),H(l=>{n.targetSnapshot=l.targetSnapshot,n.urlAfterRedirects=l.urlAfterRedirects,this.currentNavigation=x(v({},this.currentNavigation),{finalUrl:l.urlAfterRedirects});let c=new Ar(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(c)}));if(a&&this.urlHandlingStrategy.shouldProcessUrl(o.currentRawUrl)){let{id:l,extractedUrl:c,source:h,restoredState:p,extras:f}=o,D=new Ft(l,this.urlSerializer.serialize(c),h,p);this.events.next(D);let C=du(this.rootComponentType).snapshot;return this.currentTransition=n=x(v({},o),{targetSnapshot:C,urlAfterRedirects:c,extras:x(v({},f),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=c,w(n)}else{let l="";return this.events.next(new He(o.id,this.urlSerializer.serialize(o.extractedUrl),l,Er.IgnoredByUrlHandlingStrategy)),o.resolve(!1),be}}),H(o=>{let a=new _s(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot);this.events.next(a)}),T(o=>(this.currentTransition=n=x(v({},o),{guards:zd(o.targetSnapshot,o.currentSnapshot,this.rootContexts)}),n)),eh(this.environmentInjector,o=>this.events.next(o)),H(o=>{if(n.guardsResult=o.guardsResult,o.guardsResult&&typeof o.guardsResult!="boolean")throw Fr(this.urlSerializer,o.guardsResult);let a=new ws(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects),o.targetSnapshot,!!o.guardsResult);this.events.next(a)}),Je(o=>o.guardsResult?!0:(this.cancelNavigationTransition(o,"",ne.GuardRejected),!1)),fs(o=>{if(o.guards.canActivateChecks.length!==0)return w(o).pipe(H(a=>{let u=new Ds(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),de(a=>{let u=!1;return w(a).pipe(Sh(this.paramsInheritanceStrategy,this.environmentInjector),H({next:()=>u=!0,complete:()=>{u||this.cancelNavigationTransition(a,"",ne.NoDataFromResolver)}}))}),H(a=>{let u=new Cs(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}))}),fs(o=>{let a=u=>{let l=[];u.routeConfig?.loadComponent&&!u.routeConfig._loadedComponent&&l.push(this.configLoader.loadComponent(u.routeConfig).pipe(H(c=>{u.component=c}),T(()=>{})));for(let c of u.children)l.push(...a(c));return l};return ar(a(o.targetSnapshot.root)).pipe(xi(null),vt(1))}),fs(()=>this.afterPreactivation()),de(()=>{let{currentSnapshot:o,targetSnapshot:a}=n,u=this.createViewTransition?.(this.environmentInjector,o.root,a.root);return u?z(u).pipe(T(()=>n)):w(n)}),T(o=>{let a=jd(e.routeReuseStrategy,o.targetSnapshot,o.currentRouterState);return this.currentTransition=n=x(v({},o),{targetRouterState:a}),this.currentNavigation.targetRouterState=a,n}),H(()=>{this.events.next(new wn)}),Bd(this.rootContexts,e.routeReuseStrategy,o=>this.events.next(o),this.inputBindingEnabled),vt(1),H({next:o=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new fe(o.id,this.urlSerializer.serialize(o.extractedUrl),this.urlSerializer.serialize(o.urlAfterRedirects))),this.titleStrategy?.updateTitle(o.targetRouterState.snapshot),o.resolve(!0)},complete:()=>{i=!0}}),qo(this.transitionAbortSubject.pipe(H(o=>{throw o}))),ur(()=>{!i&&!s&&this.cancelNavigationTransition(n,"",ne.SupersededByNewNavigation),this.currentTransition?.id===n.id&&(this.currentNavigation=null,this.currentTransition=null)}),gt(o=>{if(this.destroyed)return n.resolve(!1),be;if(s=!0,mu(o))this.events.next(new ke(n.id,this.urlSerializer.serialize(n.extractedUrl),o.message,o.cancellationCode)),$d(o)?this.events.next(new xt(o.url,o.navigationBehaviorOptions)):n.resolve(!1);else{let a=new _n(n.id,this.urlSerializer.serialize(n.extractedUrl),o,n.targetSnapshot??void 0);try{let u=ge(this.environmentInjector,()=>this.navigationErrorHandler?.(a));if(u instanceof Cn){let{message:l,cancellationCode:c}=Fr(this.urlSerializer,u);this.events.next(new ke(n.id,this.urlSerializer.serialize(n.extractedUrl),l,c)),this.events.next(new xt(u.redirectTo,u.navigationBehaviorOptions))}else throw this.events.next(a),o}catch(u){this.options.resolveNavigationPromiseOnError?n.resolve(!1):n.reject(u)}}return be}))}))}cancelNavigationTransition(e,n,i){let s=new ke(e.id,this.urlSerializer.serialize(e.extractedUrl),n,i);this.events.next(s),e.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let e=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),n=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return e.toString()!==n?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static \u0275fac=function(n){return new(n||r)};static \u0275prov=M({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Ph(r){return r!==Cr}var Lh=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275prov=M({token:r,factory:()=>_(Nh),providedIn:"root"})}return r})(),Us=class{shouldDetach(t){return!1}store(t,e){}shouldAttach(t){return!1}retrieve(t){return null}shouldReuseRoute(t,e){return t.routeConfig===e.routeConfig}},Nh=(()=>{class r extends Us{static \u0275fac=(()=>{let e;return function(i){return(e||(e=_t(r)))(i||r)}})();static \u0275prov=M({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Mu=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275prov=M({token:r,factory:()=>_(jh),providedIn:"root"})}return r})(),jh=(()=>{class r extends Mu{location=_(St);urlSerializer=_(Mn);options=_(Tn,{optional:!0})||{};canceledNavigationResolution=this.options.canceledNavigationResolution||"replace";urlHandlingStrategy=_(Hs);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";currentUrlTree=new Pe;getCurrentUrlTree(){return this.currentUrlTree}rawUrlTree=this.currentUrlTree;getRawUrlTree(){return this.rawUrlTree}currentPageId=0;lastSuccessfulId=-1;restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}routerState=du(null);getRouterState(){return this.routerState}stateMemento=this.createStateMemento();createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(e){return this.location.subscribe(n=>{n.type==="popstate"&&e(n.url,n.state)})}handleRouterEvent(e,n){if(e instanceof Ft)this.stateMemento=this.createStateMemento();else if(e instanceof He)this.rawUrlTree=n.initialUrl;else if(e instanceof Ar){if(this.urlUpdateStrategy==="eager"&&!n.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl);this.setBrowserUrl(n.targetBrowserUrl??i,n)}}else e instanceof wn?(this.currentUrlTree=n.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(n.finalUrl,n.initialUrl),this.routerState=n.targetRouterState,this.urlUpdateStrategy==="deferred"&&!n.extras.skipLocationChange&&this.setBrowserUrl(n.targetBrowserUrl??this.rawUrlTree,n)):e instanceof ke&&(e.code===ne.GuardRejected||e.code===ne.NoDataFromResolver)?this.restoreHistory(n):e instanceof _n?this.restoreHistory(n,!0):e instanceof fe&&(this.lastSuccessfulId=e.id,this.currentPageId=this.browserPageId)}setBrowserUrl(e,n){let i=e instanceof Pe?this.urlSerializer.serialize(e):e;if(this.location.isCurrentPathEqualTo(i)||n.extras.replaceUrl){let s=this.browserPageId,o=v(v({},n.extras.state),this.generateNgRouterState(n.id,s));this.location.replaceState(i,"",o)}else{let s=v(v({},n.extras.state),this.generateNgRouterState(n.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(e,n=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===e.finalUrl&&s===0&&(this.resetState(e),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(n&&this.resetState(e),this.resetUrlToCurrentUrlTree())}resetState(e){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,e.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(e,n){return this.canceledNavigationResolution==="computed"?{navigationId:e,\u0275routerPageId:n}:{navigationId:e}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=_t(r)))(i||r)}})();static \u0275prov=M({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function Ru(r,t){r.events.pipe(Je(e=>e instanceof fe||e instanceof ke||e instanceof _n||e instanceof He),T(e=>e instanceof fe||e instanceof He?0:(e instanceof ke?e.code===ne.Redirect||e.code===ne.SupersededByNewNavigation:!1)?2:1),Je(e=>e!==2),vt(1)).subscribe(()=>{t()})}var Uh={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Vh={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},q=(()=>{class r{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}disposed=!1;nonRouterCurrentEntryChangeSubscription;console=_(Bi);stateManager=_(Mu);options=_(Tn,{optional:!0})||{};pendingTasks=_(Xo);urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred";navigationTransitions=_(Gs);urlSerializer=_(Mn);location=_(St);urlHandlingStrategy=_(Hs);_events=new ie;get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}navigated=!1;routeReuseStrategy=_(Lh);onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore";config=_(En,{optional:!0})?.flat()??[];componentInputBindingEnabled=!!_(Pr,{optional:!0});constructor(){this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this).subscribe({error:e=>{this.console.warn(e)}}),this.subscribeToNavigationEvents()}eventsSubscription=new No;subscribeToNavigationEvents(){let e=this.navigationTransitions.events.subscribe(n=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(n,s),n instanceof ke&&n.code!==ne.Redirect&&n.code!==ne.SupersededByNewNavigation)this.navigated=!0;else if(n instanceof fe)this.navigated=!0;else if(n instanceof xt){let o=n.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(n.url,i.currentRawUrl),u=v({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Ph(i.source)},o);this.scheduleNavigation(a,Cr,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Bh(n)&&this._events.next(n)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(e)}resetRootComponentType(e){this.routerState.root.component=e,this.navigationTransitions.rootComponentType=e}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Cr,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((e,n)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(e,"popstate",n)},0)})}navigateToSyncWithBrowser(e,n,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=v({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let a=this.parseUrl(e);this.scheduleNavigation(a,n,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(e){this.config=e.map(Bs),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this._events.unsubscribe(),this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(e,n={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=n,l=u?this.currentUrlTree.fragment:o,c=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":c=v(v({},this.currentUrlTree.queryParams),s);break;case"preserve":c=this.currentUrlTree.queryParams;break;default:c=s||null}c!==null&&(c=this.removeEmptyProps(c));let h;try{let p=i?i.snapshot:this.routerState.snapshot.root;h=au(p)}catch{(typeof e[0]!="string"||e[0][0]!=="/")&&(e=[]),h=this.currentUrlTree.root}return uu(h,e,c,l??null)}navigateByUrl(e,n={skipLocationChange:!1}){let i=tt(e)?e:this.parseUrl(e),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Cr,null,n)}navigate(e,n={skipLocationChange:!1}){return $h(e),this.navigateByUrl(this.createUrlTree(e,n),n)}serializeUrl(e){return this.urlSerializer.serialize(e)}parseUrl(e){try{return this.urlSerializer.parse(e)}catch{return this.urlSerializer.parse("/")}}isActive(e,n){let i;if(n===!0?i=v({},Uh):n===!1?i=v({},Vh):i=n,tt(e))return Ba(this.currentUrlTree,e,i);let s=this.parseUrl(e);return Ba(this.currentUrlTree,s,i)}removeEmptyProps(e){return Object.entries(e).reduce((n,[i,s])=>(s!=null&&(n[i]=s),n),{})}scheduleNavigation(e,n,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,l;o?(a=o.resolve,u=o.reject,l=o.promise):l=new Promise((h,p)=>{a=h,u=p});let c=this.pendingTasks.add();return Ru(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(c))}),this.navigationTransitions.handleNavigationRequest({source:n,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:e,extras:s,resolve:a,reject:u,promise:l,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),l.catch(h=>Promise.reject(h))}static \u0275fac=function(n){return new(n||r)};static \u0275prov=M({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();function $h(r){for(let t=0;t<r.length;t++)if(r[t]==null)throw new k(4008,!1)}function Bh(r){return!(r instanceof wn)&&!(r instanceof xt)}var Pt=(()=>{class r{router;route;tabIndexAttribute;renderer;el;locationStrategy;href=null;target;queryParams;fragment;queryParamsHandling;state;info;relativeTo;isAnchorElement;subscription;onChanges=new ie;constructor(e,n,i,s,o,a){this.router=e,this.route=n,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a;let u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=e.events.subscribe(l=>{l instanceof fe&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}preserveFragment=!1;skipLocationChange=!1;replaceUrl=!1;setTabIndexIfNotOnNativeEl(e){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",e)}ngOnChanges(e){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}routerLinkInput=null;set routerLink(e){e==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(tt(e)?this.routerLinkInput=e:this.routerLinkInput=Array.isArray(e)?e:[e],this.setTabIndexIfNotOnNativeEl("0"))}onClick(e,n,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(e!==0||n||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let e=this.urlTree;this.href=e!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(e)):null;let n=this.href===null?null:ia(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",n)}applyAttributeValue(e,n){let i=this.renderer,s=this.el.nativeElement;n!==null?i.setAttribute(s,e,n):i.removeAttribute(s,e)}get urlTree(){return this.routerLinkInput===null?null:tt(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static \u0275fac=function(n){return new(n||r)(b(q),b(Ge),Ni("tabindex"),b(Be),b($e),b(Fe))};static \u0275dir=$({type:r,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(n,i){n&1&&N("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),n&2&&qi("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",Xe],skipLocationChange:[2,"skipLocationChange","skipLocationChange",Xe],replaceUrl:[2,"replaceUrl","replaceUrl",Xe],routerLink:"routerLink"},features:[Ee]})}return r})(),Iu=(()=>{class r{router;element;renderer;cdr;link;links;classes=[];routerEventsSubscription;linkInputChangesSubscription;_isActive=!1;get isActive(){return this._isActive}routerLinkActiveOptions={exact:!1};ariaCurrentWhenActive;isActiveChange=new se;constructor(e,n,i,s,o){this.router=e,this.element=n,this.renderer=i,this.cdr=s,this.link=o,this.routerEventsSubscription=e.events.subscribe(a=>{a instanceof fe&&this.update()})}ngAfterContentInit(){w(this.links.changes,w(null)).pipe(en()).subscribe(e=>{this.update(),this.subscribeToEachLinkOnChanges()})}subscribeToEachLinkOnChanges(){this.linkInputChangesSubscription?.unsubscribe();let e=[...this.links.toArray(),this.link].filter(n=>!!n).map(n=>n.onChanges);this.linkInputChangesSubscription=z(e).pipe(en()).subscribe(n=>{this._isActive!==this.isLinkActive(this.router)(n)&&this.update()})}set routerLinkActive(e){let n=Array.isArray(e)?e:e.split(" ");this.classes=n.filter(i=>!!i)}ngOnChanges(e){this.update()}ngOnDestroy(){this.routerEventsSubscription.unsubscribe(),this.linkInputChangesSubscription?.unsubscribe()}update(){!this.links||!this.router.navigated||queueMicrotask(()=>{let e=this.hasActiveLinks();this.classes.forEach(n=>{e?this.renderer.addClass(this.element.nativeElement,n):this.renderer.removeClass(this.element.nativeElement,n)}),e&&this.ariaCurrentWhenActive!==void 0?this.renderer.setAttribute(this.element.nativeElement,"aria-current",this.ariaCurrentWhenActive.toString()):this.renderer.removeAttribute(this.element.nativeElement,"aria-current"),this._isActive!==e&&(this._isActive=e,this.cdr.markForCheck(),this.isActiveChange.emit(e))})}isLinkActive(e){let n=zh(this.routerLinkActiveOptions)?this.routerLinkActiveOptions:this.routerLinkActiveOptions.exact||!1;return i=>{let s=i.urlTree;return s?e.isActive(s,n):!1}}hasActiveLinks(){let e=this.isLinkActive(this.router);return this.link&&e(this.link)||this.links.some(e)}static \u0275fac=function(n){return new(n||r)(b(q),b($e),b(Be),b(ze),b(Pt,8))};static \u0275dir=$({type:r,selectors:[["","routerLinkActive",""]],contentQueries:function(n,i,s){if(n&1&&ca(s,Pt,5),n&2){let o;da(o=ha())&&(i.links=o)}},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",ariaCurrentWhenActive:"ariaCurrentWhenActive",routerLinkActive:"routerLinkActive"},outputs:{isActiveChange:"isActiveChange"},exportAs:["routerLinkActive"],features:[Ee]})}return r})();function zh(r){return!!r.paths}var kr=class{};var Hh=(()=>{class r{router;injector;preloadingStrategy;loader;subscription;constructor(e,n,i,s,o){this.router=e,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Je(e=>e instanceof fe),mt(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(e,n){let i=[];for(let s of n){s.providers&&!s._injector&&(s._injector=$i(s.providers,e,`Route: ${s.path}`));let o=s._injector??e,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return z(i).pipe(en())}preloadConfig(e,n){return this.preloadingStrategy.preload(n,()=>{let i;n.loadChildren&&n.canLoad===void 0?i=this.loader.loadChildren(e,n):i=w(null);let s=i.pipe(ee(o=>o===null?w(void 0):(n._loadedRoutes=o.routes,n._loadedInjector=o.injector,this.processRoutes(o.injector??e,o.routes))));if(n.loadComponent&&!n._loadedComponent){let o=this.loader.loadComponent(n);return z([s,o]).pipe(en())}else return s})}static \u0275fac=function(n){return new(n||r)(I(q),I(cr),I(tn),I(kr),I(zs))};static \u0275prov=M({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})(),Ou=new F(""),Gh=(()=>{class r{urlSerializer;transitions;viewportScroller;zone;options;routerEventsSubscription;scrollEventsSubscription;lastId=0;lastSource="imperative";restoredId=0;store={};constructor(e,n,i,s,o={}){this.urlSerializer=e,this.transitions=n,this.viewportScroller=i,this.zone=s,this.options=o,o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Ft?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=e.navigationTrigger,this.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof fe?(this.lastId=e.id,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.urlAfterRedirects).fragment)):e instanceof He&&e.code===Er.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(e,this.urlSerializer.parse(e.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(e=>{e instanceof Mr&&(e.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(e.position):e.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(e.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(e,n){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Mr(e,this.lastSource==="popstate"?this.store[this.restoredId]:null,n))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static \u0275fac=function(n){aa()};static \u0275prov=M({token:r,factory:r.\u0275fac})}return r})();function Tu(r,...t){return Li([{provide:En,multi:!0,useValue:r},[],{provide:Ge,useFactory:Fu,deps:[q]},{provide:Hi,multi:!0,useFactory:xu},t.map(e=>e.\u0275providers)])}function Fu(r){return r.routerState.root}function Fn(r,t){return{\u0275kind:r,\u0275providers:t}}function xu(){let r=_(Ze);return t=>{let e=r.get(Gi);if(t!==e.components[0])return;let n=r.get(q),i=r.get(ku);r.get(qs)===1&&n.initialNavigation(),r.get(Pu,null,Pi.Optional)?.setUpPreloading(),r.get(Ou,null,Pi.Optional)?.init(),n.resetRootComponentType(e.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var ku=new F("",{factory:()=>new ie}),qs=new F("",{providedIn:"root",factory:()=>1});function qh(){return Fn(2,[{provide:qs,useValue:0},{provide:zi,multi:!0,deps:[Ze],useFactory:t=>{let e=t.get(Ea,Promise.resolve());return()=>e.then(()=>new Promise(n=>{let i=t.get(q),s=t.get(ku);Ru(i,()=>{n(!0)}),t.get(Gs).afterPreactivation=()=>(n(!0),s.closed?w(void 0):s),i.initialNavigation()}))}}])}function Wh(){return Fn(3,[{provide:zi,multi:!0,useFactory:()=>{let t=_(q);return()=>{t.setUpLocationChangeListener()}}},{provide:qs,useValue:2}])}var Pu=new F("");function Kh(r){return Fn(0,[{provide:Pu,useExisting:Hh},{provide:kr,useExisting:r}])}function Jh(){return Fn(8,[qa,{provide:Pr,useExisting:qa}])}function Zh(r){let t=[{provide:Su,useValue:xh},{provide:Eu,useValue:v({skipNextTransition:!!r?.skipInitialTransition},r)}];return Fn(9,t)}var Yh=[St,{provide:Mn,useClass:Tt},q,In,{provide:Ge,useFactory:Fu,deps:[q]},zs,[]],Lu=(()=>{class r{constructor(){}static forRoot(e,n){return{ngModule:r,providers:[Yh,[],{provide:En,multi:!0,useValue:e},[],n?.errorHandler?{provide:Au,useValue:n.errorHandler}:[],{provide:Tn,useValue:n||{}},n?.useHash?Qh():ef(),Xh(),n?.preloadingStrategy?Kh(n.preloadingStrategy).\u0275providers:[],n?.initialNavigation?tf(n):[],n?.bindToComponentInputs?Jh().\u0275providers:[],n?.enableViewTransitions?Zh().\u0275providers:[],nf()]}}static forChild(e){return{ngModule:r,providers:[{provide:En,multi:!0,useValue:e}]}}static \u0275fac=function(n){return new(n||r)};static \u0275mod=Ae({type:r});static \u0275inj=Se({})}return r})();function Xh(){return{provide:Ou,useFactory:()=>{let r=_(Oa),t=_(Ye),e=_(Tn),n=_(Gs),i=_(Mn);return e.scrollOffset&&r.setOffset(e.scrollOffset),new Gh(i,n,r,t,e)}}}function Qh(){return{provide:Fe,useClass:Ma}}function ef(){return{provide:Fe,useClass:es}}function tf(r){return[r.initialNavigation==="disabled"?Wh().\u0275providers:[],r.initialNavigation==="enabledBlocking"?qh().\u0275providers:[]]}var Za=new F("");function nf(){return[{provide:Za,useFactory:xu},{provide:Hi,multi:!0,useExisting:Za}]}var Gu=(()=>{class r{_renderer;_elementRef;onChange=e=>{};onTouched=()=>{};constructor(e,n){this._renderer=e,this._elementRef=n}setProperty(e,n){this._renderer.setProperty(this._elementRef.nativeElement,e,n)}registerOnTouched(e){this.onTouched=e}registerOnChange(e){this.onChange=e}setDisabledState(e){this.setProperty("disabled",e)}static \u0275fac=function(n){return new(n||r)(b(Be),b($e))};static \u0275dir=$({type:r})}return r})(),qu=(()=>{class r extends Gu{static \u0275fac=(()=>{let e;return function(i){return(e||(e=_t(r)))(i||r)}})();static \u0275dir=$({type:r,features:[Me]})}return r})(),qr=new F("");var rf={provide:qr,useExisting:yt(()=>$t),multi:!0};function sf(){let r=Te()?Te().getUserAgent():"";return/android (\d+)/.test(r.toLowerCase())}var of=new F(""),$t=(()=>{class r extends Gu{_compositionMode;_composing=!1;constructor(e,n,i){super(e,n),this._compositionMode=i,this._compositionMode==null&&(this._compositionMode=!sf())}writeValue(e){let n=e??"";this.setProperty("value",n)}_handleInput(e){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(e)}_compositionStart(){this._composing=!0}_compositionEnd(e){this._composing=!1,this._compositionMode&&this.onChange(e)}static \u0275fac=function(n){return new(n||r)(b(Be),b($e),b(of,8))};static \u0275dir=$({type:r,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(n,i){n&1&&N("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},standalone:!1,features:[bt([rf]),Me]})}return r})();function Qs(r){return r==null||eo(r)===0}function eo(r){return r==null?null:Array.isArray(r)||typeof r=="string"?r.length:r instanceof Set?r.size:null}var to=new F(""),no=new F(""),af=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Ut=class{static min(t){return uf(t)}static max(t){return lf(t)}static required(t){return cf(t)}static requiredTrue(t){return df(t)}static email(t){return hf(t)}static minLength(t){return ff(t)}static maxLength(t){return pf(t)}static pattern(t){return gf(t)}static nullValidator(t){return Wu()}static compose(t){return Qu(t)}static composeAsync(t){return tl(t)}};function uf(r){return t=>{if(t.value==null||r==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e<r?{min:{min:r,actual:t.value}}:null}}function lf(r){return t=>{if(t.value==null||r==null)return null;let e=parseFloat(t.value);return!isNaN(e)&&e>r?{max:{max:r,actual:t.value}}:null}}function cf(r){return Qs(r.value)?{required:!0}:null}function df(r){return r.value===!0?null:{required:!0}}function hf(r){return Qs(r.value)||af.test(r.value)?null:{email:!0}}function ff(r){return t=>{let e=t.value?.length??eo(t.value);return e===null||e===0?null:e<r?{minlength:{requiredLength:r,actualLength:e}}:null}}function pf(r){return t=>{let e=t.value?.length??eo(t.value);return e!==null&&e>r?{maxlength:{requiredLength:r,actualLength:e}}:null}}function gf(r){if(!r)return Wu;let t,e;return typeof r=="string"?(e="",r.charAt(0)!=="^"&&(e+="^"),e+=r,r.charAt(r.length-1)!=="$"&&(e+="$"),t=new RegExp(e)):(e=r.toString(),t=r),n=>{if(Qs(n.value))return null;let i=n.value;return t.test(i)?null:{pattern:{requiredPattern:e,actualValue:i}}}}function Wu(r){return null}function Ku(r){return r!=null}function Ju(r){return on(r)?z(r):r}function Zu(r){let t={};return r.forEach(e=>{t=e!=null?v(v({},t),e):t}),Object.keys(t).length===0?null:t}function Yu(r,t){return t.map(e=>e(r))}function mf(r){return!r.validate}function Xu(r){return r.map(t=>mf(t)?t:e=>t.validate(e))}function Qu(r){if(!r)return null;let t=r.filter(Ku);return t.length==0?null:function(e){return Zu(Yu(e,t))}}function el(r){return r!=null?Qu(Xu(r)):null}function tl(r){if(!r)return null;let t=r.filter(Ku);return t.length==0?null:function(e){let n=Yu(e,t).map(Ju);return Bo(n).pipe(T(Zu))}}function nl(r){return r!=null?tl(Xu(r)):null}function Nu(r,t){return r===null?[t]:Array.isArray(r)?[...r,t]:[r,t]}function rl(r){return r._rawValidators}function il(r){return r._rawAsyncValidators}function Ws(r){return r?Array.isArray(r)?r:[r]:[]}function Ur(r,t){return Array.isArray(r)?r.includes(t):r===t}function ju(r,t){let e=Ws(t);return Ws(r).forEach(i=>{Ur(e,i)||e.push(i)}),e}function Uu(r,t){return Ws(t).filter(e=>!Ur(r,e))}var Vr=class{get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators=[];_rawAsyncValidators=[];_setValidators(t){this._rawValidators=t||[],this._composedValidatorFn=el(this._rawValidators)}_setAsyncValidators(t){this._rawAsyncValidators=t||[],this._composedAsyncValidatorFn=nl(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_onDestroyCallbacks=[];_registerOnDestroy(t){this._onDestroyCallbacks.push(t)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(t=>t()),this._onDestroyCallbacks=[]}reset(t=void 0){this.control&&this.control.reset(t)}hasError(t,e){return this.control?this.control.hasError(t,e):!1}getError(t,e){return this.control?this.control.getError(t,e):null}},nt=class extends Vr{name;get formDirective(){return null}get path(){return null}},rt=class extends Vr{_parent=null;name=null;valueAccessor=null},$r=class{_cd;constructor(t){this._cd=t}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},vf={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},Tm=x(v({},vf),{"[class.ng-submitted]":"isSubmitted"}),Wr=(()=>{class r extends $r{constructor(e){super(e)}static \u0275fac=function(n){return new(n||r)(b(rt,2))};static \u0275dir=$({type:r,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(n,i){n&2&&Dt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},standalone:!1,features:[Me]})}return r})(),sl=(()=>{class r extends $r{constructor(e){super(e)}static \u0275fac=function(n){return new(n||r)(b(nt,10))};static \u0275dir=$({type:r,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(n,i){n&2&&Dt("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},standalone:!1,features:[Me]})}return r})();var xn="VALID",jr="INVALID",Nt="PENDING",kn="DISABLED",We=class{},Br=class extends We{value;source;constructor(t,e){super(),this.value=t,this.source=e}},Pn=class extends We{pristine;source;constructor(t,e){super(),this.pristine=t,this.source=e}},Ln=class extends We{touched;source;constructor(t,e){super(),this.touched=t,this.source=e}},jt=class extends We{status;source;constructor(t,e){super(),this.status=t,this.source=e}},Ks=class extends We{source;constructor(t){super(),this.source=t}},Js=class extends We{source;constructor(t){super(),this.source=t}};function ro(r){return(Kr(r)?r.validators:r)||null}function yf(r){return Array.isArray(r)?el(r):r||null}function io(r,t){return(Kr(t)?t.asyncValidators:r)||null}function _f(r){return Array.isArray(r)?nl(r):r||null}function Kr(r){return r!=null&&!Array.isArray(r)&&typeof r=="object"}function ol(r,t,e){let n=r.controls;if(!(t?Object.keys(n):n).length)throw new k(1e3,"");if(!n[e])throw new k(1001,"")}function al(r,t,e){r._forEachChild((n,i)=>{if(e[i]===void 0)throw new k(1002,"")})}var Vt=class{_pendingDirty=!1;_hasOwnPendingAsyncValidator=null;_pendingTouched=!1;_onCollectionChange=()=>{};_updateOn;_parent=null;_asyncValidationSubscription;_composedValidatorFn;_composedAsyncValidatorFn;_rawValidators;_rawAsyncValidators;value;constructor(t,e){this._assignValidators(t),this._assignAsyncValidators(e)}get validator(){return this._composedValidatorFn}set validator(t){this._rawValidators=this._composedValidatorFn=t}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(t){this._rawAsyncValidators=this._composedAsyncValidatorFn=t}get parent(){return this._parent}get status(){return Ie(this.statusReactive)}set status(t){Ie(()=>this.statusReactive.set(t))}_status=cn(()=>this.statusReactive());statusReactive=nn(void 0);get valid(){return this.status===xn}get invalid(){return this.status===jr}get pending(){return this.status==Nt}get disabled(){return this.status===kn}get enabled(){return this.status!==kn}errors;get pristine(){return Ie(this.pristineReactive)}set pristine(t){Ie(()=>this.pristineReactive.set(t))}_pristine=cn(()=>this.pristineReactive());pristineReactive=nn(!0);get dirty(){return!this.pristine}get touched(){return Ie(this.touchedReactive)}set touched(t){Ie(()=>this.touchedReactive.set(t))}_touched=cn(()=>this.touchedReactive());touchedReactive=nn(!1);get untouched(){return!this.touched}_events=new ie;events=this._events.asObservable();valueChanges;statusChanges;get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(t){this._assignValidators(t)}setAsyncValidators(t){this._assignAsyncValidators(t)}addValidators(t){this.setValidators(ju(t,this._rawValidators))}addAsyncValidators(t){this.setAsyncValidators(ju(t,this._rawAsyncValidators))}removeValidators(t){this.setValidators(Uu(t,this._rawValidators))}removeAsyncValidators(t){this.setAsyncValidators(Uu(t,this._rawAsyncValidators))}hasValidator(t){return Ur(this._rawValidators,t)}hasAsyncValidator(t){return Ur(this._rawAsyncValidators,t)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(t={}){let e=this.touched===!1;this.touched=!0;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsTouched(x(v({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new Ln(!0,n))}markAllAsTouched(t={}){this.markAsTouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:this}),this._forEachChild(e=>e.markAllAsTouched(t))}markAsUntouched(t={}){let e=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let n=t.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:t.emitEvent,sourceControl:n})}),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,n),e&&t.emitEvent!==!1&&this._events.next(new Ln(!1,n))}markAsDirty(t={}){let e=this.pristine===!0;this.pristine=!1;let n=t.sourceControl??this;this._parent&&!t.onlySelf&&this._parent.markAsDirty(x(v({},t),{sourceControl:n})),e&&t.emitEvent!==!1&&this._events.next(new Pn(!1,n))}markAsPristine(t={}){let e=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let n=t.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:t.emitEvent})}),this._parent&&!t.onlySelf&&this._parent._updatePristine(t,n),e&&t.emitEvent!==!1&&this._events.next(new Pn(!0,n))}markAsPending(t={}){this.status=Nt;let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new jt(this.status,e)),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.markAsPending(x(v({},t),{sourceControl:e}))}disable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=kn,this.errors=null,this._forEachChild(i=>{i.disable(x(v({},t),{onlySelf:!0}))}),this._updateValue();let n=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Br(this.value,n)),this._events.next(new jt(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(x(v({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(t={}){let e=this._parentMarkedDirty(t.onlySelf);this.status=xn,this._forEachChild(n=>{n.enable(x(v({},t),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(x(v({},t),{skipPristineCheck:e}),this),this._onDisabledChange.forEach(n=>n(!1))}_updateAncestors(t,e){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine({},e),this._parent._updateTouched({},e))}setParent(t){this._parent=t}getRawValue(){return this.value}updateValueAndValidity(t={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let n=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===xn||this.status===Nt)&&this._runAsyncValidator(n,t.emitEvent)}let e=t.sourceControl??this;t.emitEvent!==!1&&(this._events.next(new Br(this.value,e)),this._events.next(new jt(this.status,e)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(x(v({},t),{sourceControl:e}))}_updateTreeValidity(t={emitEvent:!0}){this._forEachChild(e=>e._updateTreeValidity(t)),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kn:xn}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(t,e){if(this.asyncValidator){this.status=Nt,this._hasOwnPendingAsyncValidator={emitEvent:e!==!1};let n=Ju(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:e,shouldHaveEmitted:t})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let t=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,t}return!1}setErrors(t,e={}){this.errors=t,this._updateControlsErrors(e.emitEvent!==!1,this,e.shouldHaveEmitted)}get(t){let e=t;return e==null||(Array.isArray(e)||(e=e.split(".")),e.length===0)?null:e.reduce((n,i)=>n&&n._find(i),this)}getError(t,e){let n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null}hasError(t,e){return!!this.getError(t,e)}get root(){let t=this;for(;t._parent;)t=t._parent;return t}_updateControlsErrors(t,e,n){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),(t||n)&&this._events.next(new jt(this.status,e)),this._parent&&this._parent._updateControlsErrors(t,e,n)}_initObservables(){this.valueChanges=new se,this.statusChanges=new se}_calculateStatus(){return this._allControlsDisabled()?kn:this.errors?jr:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Nt)?Nt:this._anyControlsHaveStatus(jr)?jr:xn}_anyControlsHaveStatus(t){return this._anyControls(e=>e.status===t)}_anyControlsDirty(){return this._anyControls(t=>t.dirty)}_anyControlsTouched(){return this._anyControls(t=>t.touched)}_updatePristine(t,e){let n=!this._anyControlsDirty(),i=this.pristine!==n;this.pristine=n,this._parent&&!t.onlySelf&&this._parent._updatePristine(t,e),i&&this._events.next(new Pn(this.pristine,e))}_updateTouched(t={},e){this.touched=this._anyControlsTouched(),this._events.next(new Ln(this.touched,e)),this._parent&&!t.onlySelf&&this._parent._updateTouched(t,e)}_onDisabledChange=[];_registerOnCollectionChange(t){this._onCollectionChange=t}_setUpdateStrategy(t){Kr(t)&&t.updateOn!=null&&(this._updateOn=t.updateOn)}_parentMarkedDirty(t){let e=this._parent&&this._parent.dirty;return!t&&!!e&&!this._parent._anyControlsDirty()}_find(t){return null}_assignValidators(t){this._rawValidators=Array.isArray(t)?t.slice():t,this._composedValidatorFn=yf(this._rawValidators)}_assignAsyncValidators(t){this._rawAsyncValidators=Array.isArray(t)?t.slice():t,this._composedAsyncValidatorFn=_f(this._rawAsyncValidators)}},zr=class extends Vt{constructor(t,e,n){super(ro(e),io(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;registerControl(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)}addControl(t,e,n={}){this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}removeControl(t,e={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}setControl(t,e,n={}){this.controls[t]&&this.controls[t]._registerOnCollectionChange(()=>{}),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}contains(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled}setValue(t,e={}){al(this,!0,t),Object.keys(t).forEach(n=>{ol(this,!0,n),this.controls[n].setValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(Object.keys(t).forEach(n=>{let i=this.controls[n];i&&i.patchValue(t[n],{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t={},e={}){this._forEachChild((n,i)=>{n.reset(t?t[i]:null,{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this._reduceChildren({},(t,e,n)=>(t[n]=e.getRawValue(),t))}_syncPendingControls(){let t=this._reduceChildren(!1,(e,n)=>n._syncPendingControls()?!0:e);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){Object.keys(this.controls).forEach(e=>{let n=this.controls[e];n&&t(n,e)})}_setUpControls(){this._forEachChild(t=>{t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(t){for(let[e,n]of Object.entries(this.controls))if(this.contains(e)&&t(n))return!0;return!1}_reduceValue(){let t={};return this._reduceChildren(t,(e,n,i)=>((n.enabled||this.disabled)&&(e[i]=n.value),e))}_reduceChildren(t,e){let n=t;return this._forEachChild((i,s)=>{n=e(n,i,s)}),n}_allControlsDisabled(){for(let t of Object.keys(this.controls))if(this.controls[t].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(t){return this.controls.hasOwnProperty(t)?this.controls[t]:null}};var Zs=class extends zr{};var Jr=new F("",{providedIn:"root",factory:()=>Zr}),Zr="always";function ul(r,t){return[...t.path,r]}function Ys(r,t,e=Zr){so(r,t),t.valueAccessor.writeValue(r.value),(r.disabled||e==="always")&&t.valueAccessor.setDisabledState?.(r.disabled),Df(r,t),bf(r,t),Cf(r,t),wf(r,t)}function Vu(r,t,e=!0){let n=()=>{};t.valueAccessor&&(t.valueAccessor.registerOnChange(n),t.valueAccessor.registerOnTouched(n)),Gr(r,t),r&&(t._invokeOnDestroyCallbacks(),r._registerOnCollectionChange(()=>{}))}function Hr(r,t){r.forEach(e=>{e.registerOnValidatorChange&&e.registerOnValidatorChange(t)})}function wf(r,t){if(t.valueAccessor.setDisabledState){let e=n=>{t.valueAccessor.setDisabledState(n)};r.registerOnDisabledChange(e),t._registerOnDestroy(()=>{r._unregisterOnDisabledChange(e)})}}function so(r,t){let e=rl(r);t.validator!==null?r.setValidators(Nu(e,t.validator)):typeof e=="function"&&r.setValidators([e]);let n=il(r);t.asyncValidator!==null?r.setAsyncValidators(Nu(n,t.asyncValidator)):typeof n=="function"&&r.setAsyncValidators([n]);let i=()=>r.updateValueAndValidity();Hr(t._rawValidators,i),Hr(t._rawAsyncValidators,i)}function Gr(r,t){let e=!1;if(r!==null){if(t.validator!==null){let i=rl(r);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==t.validator);s.length!==i.length&&(e=!0,r.setValidators(s))}}if(t.asyncValidator!==null){let i=il(r);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==t.asyncValidator);s.length!==i.length&&(e=!0,r.setAsyncValidators(s))}}}let n=()=>{};return Hr(t._rawValidators,n),Hr(t._rawAsyncValidators,n),e}function Df(r,t){t.valueAccessor.registerOnChange(e=>{r._pendingValue=e,r._pendingChange=!0,r._pendingDirty=!0,r.updateOn==="change"&&ll(r,t)})}function Cf(r,t){t.valueAccessor.registerOnTouched(()=>{r._pendingTouched=!0,r.updateOn==="blur"&&r._pendingChange&&ll(r,t),r.updateOn!=="submit"&&r.markAsTouched()})}function ll(r,t){r._pendingDirty&&r.markAsDirty(),r.setValue(r._pendingValue,{emitModelToViewChange:!1}),t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1}function bf(r,t){let e=(n,i)=>{t.valueAccessor.writeValue(n),i&&t.viewToModelUpdate(n)};r.registerOnChange(e),t._registerOnDestroy(()=>{r._unregisterOnChange(e)})}function Sf(r,t){r==null,so(r,t)}function Ef(r,t){return Gr(r,t)}function cl(r,t){if(!r.hasOwnProperty("model"))return!1;let e=r.model;return e.isFirstChange()?!0:!Object.is(t,e.currentValue)}function Af(r){return Object.getPrototypeOf(r.constructor)===qu}function Mf(r,t){r._syncPendingControls(),t.forEach(e=>{let n=e.control;n.updateOn==="submit"&&n._pendingChange&&(e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1)})}function dl(r,t){if(!t)return null;Array.isArray(t);let e,n,i;return t.forEach(s=>{s.constructor===$t?e=s:Af(s)?n=s:i=s}),i||n||e||null}function Rf(r,t){let e=r.indexOf(t);e>-1&&r.splice(e,1)}function $u(r,t){let e=r.indexOf(t);e>-1&&r.splice(e,1)}function Bu(r){return typeof r=="object"&&r!==null&&Object.keys(r).length===2&&"value"in r&&"disabled"in r}var Nn=class extends Vt{defaultValue=null;_onChange=[];_pendingValue;_pendingChange=!1;constructor(t=null,e,n){super(ro(e),io(n,e)),this._applyFormState(t),this._setUpdateStrategy(e),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Kr(e)&&(e.nonNullable||e.initialValueIsDefault)&&(Bu(t)?this.defaultValue=t.value:this.defaultValue=t)}setValue(t,e={}){this.value=this._pendingValue=t,this._onChange.length&&e.emitModelToViewChange!==!1&&this._onChange.forEach(n=>n(this.value,e.emitViewToModelChange!==!1)),this.updateValueAndValidity(e)}patchValue(t,e={}){this.setValue(t,e)}reset(t=this.defaultValue,e={}){this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1}_updateValue(){}_anyControls(t){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(t){this._onChange.push(t)}_unregisterOnChange(t){$u(this._onChange,t)}registerOnDisabledChange(t){this._onDisabledChange.push(t)}_unregisterOnDisabledChange(t){$u(this._onDisabledChange,t)}_forEachChild(t){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(t){Bu(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t}};var If=r=>r instanceof Nn;var Of={provide:rt,useExisting:yt(()=>oo)},zu=Promise.resolve(),oo=(()=>{class r extends rt{_changeDetectorRef;callSetDisabledState;control=new Nn;static ngAcceptInputType_isDisabled;_registered=!1;viewModel;name="";isDisabled;model;options;update=new se;constructor(e,n,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this._parent=e,this._setValidators(n),this._setAsyncValidators(i),this.valueAccessor=dl(this,s)}ngOnChanges(e){if(this._checkForErrors(),!this._registered||"name"in e){if(this._registered&&(this._checkName(),this.formDirective)){let n=e.name.previousValue;this.formDirective.removeControl({name:n,path:this._getPath(n)})}this._setUpControl()}"isDisabled"in e&&this._updateDisabled(e),cl(e,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ys(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._checkName()}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(e){zu.then(()=>{this.control.setValue(e,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(e){let n=e.isDisabled.currentValue,i=n!==0&&Xe(n);zu.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(e){return this._parent?ul(e,this._parent):[e]}static \u0275fac=function(n){return new(n||r)(b(nt,9),b(to,10),b(no,10),b(qr,10),b(ze,8),b(Jr,8))};static \u0275dir=$({type:r,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],standalone:!1,features:[bt([Of]),Me,Ee]})}return r})();var hl=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275dir=$({type:r,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""],standalone:!1})}return r})(),Tf={provide:qr,useExisting:yt(()=>ao),multi:!0},ao=(()=>{class r extends qu{writeValue(e){let n=e??"";this.setProperty("value",n)}registerOnChange(e){this.onChange=n=>{e(n==""?null:parseFloat(n))}}static \u0275fac=(()=>{let e;return function(i){return(e||(e=_t(r)))(i||r)}})();static \u0275dir=$({type:r,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(n,i){n&1&&N("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},standalone:!1,features:[bt([Tf]),Me]})}return r})();var fl=new F("");var Ff={provide:nt,useExisting:yt(()=>uo)},uo=(()=>{class r extends nt{callSetDisabledState;get submitted(){return Ie(this._submittedReactive)}set submitted(e){this._submittedReactive.set(e)}_submitted=cn(()=>this._submittedReactive());_submittedReactive=nn(!1);_oldForm;_onCollectionChange=()=>this._updateDomValue();directives=[];form=null;ngSubmit=new se;constructor(e,n,i){super(),this.callSetDisabledState=i,this._setValidators(e),this._setAsyncValidators(n)}ngOnChanges(e){e.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Gr(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(e){let n=this.form.get(e.path);return Ys(n,e,this.callSetDisabledState),n.updateValueAndValidity({emitEvent:!1}),this.directives.push(e),n}getControl(e){return this.form.get(e.path)}removeControl(e){Vu(e.control||null,e,!1),Rf(this.directives,e)}addFormGroup(e){this._setUpFormContainer(e)}removeFormGroup(e){this._cleanUpFormContainer(e)}getFormGroup(e){return this.form.get(e.path)}addFormArray(e){this._setUpFormContainer(e)}removeFormArray(e){this._cleanUpFormContainer(e)}getFormArray(e){return this.form.get(e.path)}updateModel(e,n){this.form.get(e.path).setValue(n)}onSubmit(e){return this._submittedReactive.set(!0),Mf(this.form,this.directives),this.ngSubmit.emit(e),this.form._events.next(new Ks(this.control)),e?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(e=void 0){this.form.reset(e),this._submittedReactive.set(!1),this.form._events.next(new Js(this.form))}_updateDomValue(){this.directives.forEach(e=>{let n=e.control,i=this.form.get(e.path);n!==i&&(Vu(n||null,e),If(i)&&(Ys(i,e,this.callSetDisabledState),e.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(e){let n=this.form.get(e.path);Sf(n,e),n.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(e){if(this.form){let n=this.form.get(e.path);n&&Ef(n,e)&&n.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){so(this.form,this),this._oldForm&&Gr(this._oldForm,this)}static \u0275fac=function(n){return new(n||r)(b(to,10),b(no,10),b(Jr,8))};static \u0275dir=$({type:r,selectors:[["","formGroup",""]],hostBindings:function(n,i){n&1&&N("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],standalone:!1,features:[bt([Ff]),Me,Ee]})}return r})();var xf={provide:rt,useExisting:yt(()=>lo)},lo=(()=>{class r extends rt{_ngModelWarningConfig;_added=!1;viewModel;control;name=null;set isDisabled(e){}model;update=new se;static _ngModelWarningSentOnce=!1;_ngModelWarningSent=!1;constructor(e,n,i,s,o){super(),this._ngModelWarningConfig=o,this._parent=e,this._setValidators(n),this._setAsyncValidators(i),this.valueAccessor=dl(this,s)}ngOnChanges(e){this._added||this._setUpControl(),cl(e,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(e){this.viewModel=e,this.update.emit(e)}get path(){return ul(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_setUpControl(){this.control=this.formDirective.addControl(this),this._added=!0}static \u0275fac=function(n){return new(n||r)(b(nt,13),b(to,10),b(no,10),b(qr,10),b(fl,8))};static \u0275dir=$({type:r,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},standalone:!1,features:[bt([xf]),Me,Ee]})}return r})();var pl=(()=>{class r{static \u0275fac=function(n){return new(n||r)};static \u0275mod=Ae({type:r});static \u0275inj=Se({})}return r})(),Xs=class extends Vt{constructor(t,e,n){super(ro(e),io(n,e)),this.controls=t,this._initObservables(),this._setUpdateStrategy(e),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}controls;at(t){return this.controls[this._adjustIndex(t)]}push(t,e={}){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity({emitEvent:e.emitEvent}),this._onCollectionChange()}insert(t,e,n={}){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent})}removeAt(t,e={}){let n=this._adjustIndex(t);n<0&&(n=0),this.controls[n]&&this.controls[n]._registerOnCollectionChange(()=>{}),this.controls.splice(n,1),this.updateValueAndValidity({emitEvent:e.emitEvent})}setControl(t,e,n={}){let i=this._adjustIndex(t);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),e&&(this.controls.splice(i,0,e),this._registerControl(e)),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(t,e={}){al(this,!1,t),t.forEach((n,i)=>{ol(this,!1,i),this.at(i).setValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e)}patchValue(t,e={}){t!=null&&(t.forEach((n,i)=>{this.at(i)&&this.at(i).patchValue(n,{onlySelf:!0,emitEvent:e.emitEvent})}),this.updateValueAndValidity(e))}reset(t=[],e={}){this._forEachChild((n,i)=>{n.reset(t[i],{onlySelf:!0,emitEvent:e.emitEvent})}),this._updatePristine(e,this),this._updateTouched(e,this),this.updateValueAndValidity(e)}getRawValue(){return this.controls.map(t=>t.getRawValue())}clear(t={}){this.controls.length<1||(this._forEachChild(e=>e._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:t.emitEvent}))}_adjustIndex(t){return t<0?t+this.length:t}_syncPendingControls(){let t=this.controls.reduce((e,n)=>n._syncPendingControls()?!0:e,!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t}_forEachChild(t){this.controls.forEach((e,n)=>{t(e,n)})}_updateValue(){this.value=this.controls.filter(t=>t.enabled||this.disabled).map(t=>t.value)}_anyControls(t){return this.controls.some(e=>e.enabled&&t(e))}_setUpControls(){this._forEachChild(t=>this._registerControl(t))}_allControlsDisabled(){for(let t of this.controls)if(t.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)}_find(t){return this.at(t)??null}};function Hu(r){return!!r&&(r.asyncValidators!==void 0||r.validators!==void 0||r.updateOn!==void 0)}var gl=(()=>{class r{useNonNullable=!1;get nonNullable(){let e=new r;return e.useNonNullable=!0,e}group(e,n=null){let i=this._reduceControls(e),s={};return Hu(n)?s=n:n!==null&&(s.validators=n.validator,s.asyncValidators=n.asyncValidator),new zr(i,s)}record(e,n=null){let i=this._reduceControls(e);return new Zs(i,n)}control(e,n,i){let s={};return this.useNonNullable?(Hu(n)?s=n:(s.validators=n,s.asyncValidators=i),new Nn(e,x(v({},s),{nonNullable:!0}))):new Nn(e,n,i)}array(e,n,i){let s=e.map(o=>this._createControl(o));return new Xs(s,n,i)}_reduceControls(e){let n={};return Object.keys(e).forEach(i=>{n[i]=this._createControl(e[i])}),n}_createControl(e){if(e instanceof Nn)return e;if(e instanceof Vt)return e;if(Array.isArray(e)){let n=e[0],i=e.length>1?e[1]:null,s=e.length>2?e[2]:null;return this.control(n,i,s)}else return this.control(e)}static \u0275fac=function(n){return new(n||r)};static \u0275prov=M({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Yr=(()=>{class r{static withConfig(e){return{ngModule:r,providers:[{provide:Jr,useValue:e.callSetDisabledState??Zr}]}}static \u0275fac=function(n){return new(n||r)};static \u0275mod=Ae({type:r});static \u0275inj=Se({imports:[pl]})}return r})(),ml=(()=>{class r{static withConfig(e){return{ngModule:r,providers:[{provide:fl,useValue:e.warnOnNgModelWithFormControl??"always"},{provide:Jr,useValue:e.callSetDisabledState??Zr}]}}static \u0275fac=function(n){return new(n||r)};static \u0275mod=Ae({type:r});static \u0275inj=Se({imports:[pl]})}return r})();var yl=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...e)=>import("./chunk-BX7VDEVO.js").then(({default:n})=>n(...e)):t=fetch,(...e)=>t(...e)};var jn=class extends Error{constructor(t,e="FunctionsError",n){super(t),this.name=e,this.context=n}},Xr=class extends jn{constructor(t){super("Failed to send a request to the Edge Function","FunctionsFetchError",t)}},Qr=class extends jn{constructor(t){super("Relay Error invoking the Edge Function","FunctionsRelayError",t)}},ei=class extends jn{constructor(t){super("Edge Function returned a non-2xx status code","FunctionsHttpError",t)}},co=function(r){return r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2",r}(co||{});var kf=function(r,t,e,n){function i(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(c){try{l(n.next(c))}catch(h){o(h)}}function u(c){try{l(n.throw(c))}catch(h){o(h)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((n=n.apply(r,t||[])).next())})},Un=class{constructor(t,{headers:e={},customFetch:n,region:i=co.Any}={}){this.url=t,this.headers=e,this.region=i,this.fetch=yl(n)}setAuth(t){this.headers.Authorization=`Bearer ${t}`}invoke(t,e={}){var n;return kf(this,void 0,void 0,function*(){try{let{headers:i,method:s,body:o}=e,a={},{region:u}=e;u||(u=this.region),u&&u!=="any"&&(a["x-region"]=u);let l;o&&(i&&!Object.prototype.hasOwnProperty.call(i,"Content-Type")||!i)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",l=o):typeof o=="string"?(a["Content-Type"]="text/plain",l=o):typeof FormData<"u"&&o instanceof FormData?l=o:(a["Content-Type"]="application/json",l=JSON.stringify(o)));let c=yield this.fetch(`${this.url}/${t}`,{method:s||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),i),body:l}).catch(D=>{throw new Xr(D)}),h=c.headers.get("x-relay-error");if(h&&h==="true")throw new Qr(c);if(!c.ok)throw new ei(c);let p=((n=c.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),f;return p==="application/json"?f=yield c.json():p==="application/octet-stream"?f=yield c.blob():p==="text/event-stream"?f=c:p==="multipart/form-data"?f=yield c.formData():f=yield c.text(),{data:f,error:null}}catch(i){return{data:null,error:i}}})}};var Tl=Ic(Ol(),1),{PostgrestClient:Fl,PostgrestQueryBuilder:Ym,PostgrestFilterBuilder:Xm,PostgrestTransformBuilder:Qm,PostgrestBuilder:ev,PostgrestError:qf}=Tl.default;var xl="2.11.2";var kl={"X-Client-Info":`realtime-js/${xl}`},Pl="1.0.0",ii=1e4,Ll=1e3,zt=function(r){return r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed",r}(zt||{}),re=function(r){return r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving",r}(re||{}),ae=function(r){return r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token",r}(ae||{}),bo=function(r){return r.websocket="websocket",r}(bo||{}),it=function(r){return r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed",r}(it||{});var si=class{constructor(){this.HEADER_LENGTH=1}decode(t,e){return t.constructor===ArrayBuffer?e(this._binaryDecode(t)):e(typeof t=="string"?JSON.parse(t):{})}_binaryDecode(t){let e=new DataView(t),n=new TextDecoder;return this._decodeBroadcast(t,e,n)}_decodeBroadcast(t,e,n){let i=e.getUint8(1),s=e.getUint8(2),o=this.HEADER_LENGTH+2,a=n.decode(t.slice(o,o+i));o=o+i;let u=n.decode(t.slice(o,o+s));o=o+s;let l=JSON.parse(n.decode(t.slice(o,t.byteLength)));return{ref:null,topic:a,event:u,payload:l}}};var Ht=class{constructor(t,e){this.callback=t,this.timerCalc=e,this.timer=void 0,this.tries=0,this.callback=t,this.timerCalc=e}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var P=function(r){return r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange",r}(P||{}),Eo=(r,t,e={})=>{var n;let i=(n=e.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(t).reduce((s,o)=>(s[o]=Wf(o,r,t,i),s),{})},Wf=(r,t,e,n)=>{let i=t.find(a=>a.name===r),s=i?.type,o=e[r];return s&&!n.includes(s)?Nl(s,o):So(o)},Nl=(r,t)=>{if(r.charAt(0)==="_"){let e=r.slice(1,r.length);return Yf(t,e)}switch(r){case P.bool:return Kf(t);case P.float4:case P.float8:case P.int2:case P.int4:case P.int8:case P.numeric:case P.oid:return Jf(t);case P.json:case P.jsonb:return Zf(t);case P.timestamp:return Xf(t);case P.abstime:case P.date:case P.daterange:case P.int4range:case P.int8range:case P.money:case P.reltime:case P.text:case P.time:case P.timestamptz:case P.timetz:case P.tsrange:case P.tstzrange:return So(t);default:return So(t)}},So=r=>r,Kf=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},Jf=r=>{if(typeof r=="string"){let t=parseFloat(r);if(!Number.isNaN(t))return t}return r},Zf=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(t){return console.log(`JSON parse error: ${t}`),r}return r},Yf=(r,t)=>{if(typeof r!="string")return r;let e=r.length-1,n=r[e];if(r[0]==="{"&&n==="}"){let s,o=r.slice(1,e);try{s=JSON.parse("["+o+"]")}catch{s=o?o.split(","):[]}return s.map(a=>Nl(t,a))}return r},Xf=r=>typeof r=="string"?r.replace(" ","T"):r,oi=r=>{let t=r;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};var Gt=class{constructor(t,e,n={},i=ii){this.channel=t,this.event=e,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(t){this.timeout=t,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(t){this.payload=Object.assign(Object.assign({},this.payload),t)}receive(t,e){var n;return this._hasReceived(t)&&e((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:t,callback:e}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);let t=e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)};this.channel._on(this.refEvent,{},t),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(t,e){this.refEvent&&this.channel._trigger(this.refEvent,{status:t,response:e})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:t,response:e}){this.recHooks.filter(n=>n.status===t).forEach(n=>n.callback(e))}_hasReceived(t){return this.receivedResp&&this.receivedResp.status===t}};var qn=class r{constructor(t,e){this.channel=t,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};let n=e?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{let{onJoin:s,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=r.syncState(this.state,i,s,o),this.pendingDiffs.forEach(u=>{this.state=r.syncDiff(this.state,u,s,o)}),this.pendingDiffs=[],a()}),this.channel._on(n.diff,{},i=>{let{onJoin:s,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=r.syncDiff(this.state,i,s,o),a())}),this.onJoin((i,s,o)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:o})}),this.onLeave((i,s,o)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(t,e,n,i){let s=this.cloneDeep(t),o=this.transformState(e),a={},u={};return this.map(s,(l,c)=>{o[l]||(u[l]=c)}),this.map(o,(l,c)=>{let h=s[l];if(h){let p=c.map(S=>S.presence_ref),f=h.map(S=>S.presence_ref),D=c.filter(S=>f.indexOf(S.presence_ref)<0),C=h.filter(S=>p.indexOf(S.presence_ref)<0);D.length>0&&(a[l]=D),C.length>0&&(u[l]=C)}else a[l]=c}),this.syncDiff(s,{joins:a,leaves:u},n,i)}static syncDiff(t,e,n,i){let{joins:s,leaves:o}={joins:this.transformState(e.joins),leaves:this.transformState(e.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(a,u)=>{var l;let c=(l=t[a])!==null&&l!==void 0?l:[];if(t[a]=this.cloneDeep(u),c.length>0){let h=t[a].map(f=>f.presence_ref),p=c.filter(f=>h.indexOf(f.presence_ref)<0);t[a].unshift(...p)}n(a,c,u)}),this.map(o,(a,u)=>{let l=t[a];if(!l)return;let c=u.map(h=>h.presence_ref);l=l.filter(h=>c.indexOf(h.presence_ref)<0),t[a]=l,i(a,l,u),l.length===0&&delete t[a]}),t}static map(t,e){return Object.getOwnPropertyNames(t).map(n=>e(n,t[n]))}static transformState(t){return t=this.cloneDeep(t),Object.getOwnPropertyNames(t).reduce((e,n)=>{let i=t[n];return"metas"in i?e[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):e[n]=i,e},{})}static cloneDeep(t){return JSON.parse(JSON.stringify(t))}onJoin(t){this.caller.onJoin=t}onLeave(t){this.caller.onLeave=t}onSync(t){this.caller.onSync=t}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}};var Le=function(r){return r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR",r}(Le||{});var Wn=class r{constructor(t,e={config:{}},n){this.topic=t,this.params=e,this.socket=n,this.bindings={},this.state=re.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=t.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},e.config),this.timeout=this.socket.timeout,this.joinPush=new Gt(this,ae.join,this.params,this.timeout),this.rejoinTimer=new Ht(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=re.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(i=>i.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=re.closed,this.socket._remove(this)}),this._onError(i=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,i),this.state=re.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=re.errored,this.rejoinTimer.scheduleTimeout())}),this._on(ae.reply,{},(i,s)=>{this._trigger(this._replyEventName(s),i)}),this.presence=new qn(this),this.broadcastEndpointURL=oi(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(t,e=this.timeout){var n,i;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{let{config:{broadcast:s,presence:o,private:a}}=this.params;this._onError(c=>t?.(Le.CHANNEL_ERROR,c)),this._onClose(()=>t?.(Le.CLOSED));let u={},l={broadcast:s,presence:o,postgres_changes:(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(c=>c.filter))!==null&&i!==void 0?i:[],private:a};this.socket.accessTokenValue&&(u.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},u)),this.joinedOnce=!0,this._rejoin(e),this.joinPush.receive("ok",h=>d(this,[h],function*({postgres_changes:c}){var p;if(this.socket.setAuth(),c===void 0){t?.(Le.SUBSCRIBED);return}else{let f=this.bindings.postgres_changes,D=(p=f?.length)!==null&&p!==void 0?p:0,C=[];for(let S=0;S<D;S++){let j=f[S],{filter:{event:le,schema:W,table:ce,filter:De}}=j,pt=c&&c[S];if(pt&&pt.event===le&&pt.schema===W&&pt.table===ce&&pt.filter===De)C.push(Object.assign(Object.assign({},j),{id:pt.id}));else{this.unsubscribe(),t?.(Le.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=C,t&&t(Le.SUBSCRIBED);return}})).receive("error",c=>{t?.(Le.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{t?.(Le.TIMED_OUT)})}return this}presenceState(){return this.presence.state}track(n){return d(this,arguments,function*(t,e={}){return yield this.send({type:"presence",event:"track",payload:t},e.timeout||this.timeout)})}untrack(){return d(this,arguments,function*(t={}){return yield this.send({type:"presence",event:"untrack"},t)})}on(t,e,n){return this._on(t,e,n)}send(n){return d(this,arguments,function*(t,e={}){var i,s;if(!this._canPush()&&t.type==="broadcast"){let{event:o,payload:a}=t,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:o,payload:a,private:this.private}]})};try{let c=yield this._fetchWithTimeout(this.broadcastEndpointURL,l,(i=e.timeout)!==null&&i!==void 0?i:this.timeout);return yield(s=c.body)===null||s===void 0?void 0:s.cancel(),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(o=>{var a,u,l;let c=this._push(t.type,t,e.timeout||this.timeout);t.type==="broadcast"&&!(!((l=(u=(a=this.params)===null||a===void 0?void 0:a.config)===null||u===void 0?void 0:u.broadcast)===null||l===void 0)&&l.ack)&&o("ok"),c.receive("ok",()=>o("ok")),c.receive("error",()=>o("error")),c.receive("timeout",()=>o("timed out"))})})}updateJoinPayload(t){this.joinPush.updatePayload(t)}unsubscribe(t=this.timeout){this.state=re.leaving;let e=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(ae.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise(n=>{let i=new Gt(this,ae.leave,{},t);i.receive("ok",()=>{e(),n("ok")}).receive("timeout",()=>{e(),n("timed out")}).receive("error",()=>{n("error")}),i.send(),this._canPush()||i.trigger("ok",{})})}_fetchWithTimeout(t,e,n){return d(this,null,function*(){let i=new AbortController,s=setTimeout(()=>i.abort(),n),o=yield this.socket.fetch(t,Object.assign(Object.assign({},e),{signal:i.signal}));return clearTimeout(s),o})}_push(t,e,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${t}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new Gt(this,t,e,n);return this._canPush()?i.send():(i.startTimeout(),this.pushBuffer.push(i)),i}_onMessage(t,e,n){return e}_isMember(t){return this.topic===t}_joinRef(){return this.joinPush.ref}_trigger(t,e,n){var i,s;let o=t.toLocaleLowerCase(),{close:a,error:u,leave:l,join:c}=ae;if(n&&[a,u,l,c].indexOf(o)>=0&&n!==this._joinRef())return;let p=this._onMessage(o,e,n);if(e&&!p)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(f=>{var D,C,S;return((D=f.filter)===null||D===void 0?void 0:D.event)==="*"||((S=(C=f.filter)===null||C===void 0?void 0:C.event)===null||S===void 0?void 0:S.toLocaleLowerCase())===o}).map(f=>f.callback(p,n)):(s=this.bindings[o])===null||s===void 0||s.filter(f=>{var D,C,S,j,le,W;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in f){let ce=f.id,De=(D=f.filter)===null||D===void 0?void 0:D.event;return ce&&((C=e.ids)===null||C===void 0?void 0:C.includes(ce))&&(De==="*"||De?.toLocaleLowerCase()===((S=e.data)===null||S===void 0?void 0:S.type.toLocaleLowerCase()))}else{let ce=(le=(j=f?.filter)===null||j===void 0?void 0:j.event)===null||le===void 0?void 0:le.toLocaleLowerCase();return ce==="*"||ce===((W=e?.event)===null||W===void 0?void 0:W.toLocaleLowerCase())}else return f.type.toLocaleLowerCase()===o}).map(f=>{if(typeof p=="object"&&"ids"in p){let D=p.data,{schema:C,table:S,commit_timestamp:j,type:le,errors:W}=D;p=Object.assign(Object.assign({},{schema:C,table:S,commit_timestamp:j,eventType:le,new:{},old:{},errors:W}),this._getPayloadRecords(D))}f.callback(p,n)})}_isClosed(){return this.state===re.closed}_isJoined(){return this.state===re.joined}_isJoining(){return this.state===re.joining}_isLeaving(){return this.state===re.leaving}_replyEventName(t){return`chan_reply_${t}`}_on(t,e,n){let i=t.toLocaleLowerCase(),s={type:i,filter:e,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(t,e){let n=t.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&r.isEqual(i.filter,e))}),this}static isEqual(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(let n in t)if(t[n]!==e[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(t){this._on(ae.close,{},t)}_onError(t){this._on(ae.error,{},e=>t(e))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(t=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=re.joining,this.joinPush.resend(t))}_getPayloadRecords(t){let e={new:{},old:{}};return(t.type==="INSERT"||t.type==="UPDATE")&&(e.new=Eo(t.columns,t.record)),(t.type==="UPDATE"||t.type==="DELETE")&&(e.old=Eo(t.columns,t.old_record)),e}};var ep=()=>{},tp=typeof WebSocket<"u",np=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`,Kn=class{constructor(t,e){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=kl,this.params={},this.timeout=ii,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=ep,this.conn=null,this.sendBuffer=[],this.serializer=new si,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=s=>{let o;return s?o=s:typeof fetch>"u"?o=(...a)=>import("./chunk-BX7VDEVO.js").then(({default:u})=>u(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${t}/${bo.websocket}`,this.httpEndpoint=oi(t),e?.transport?this.transport=e.transport:this.transport=null,e?.params&&(this.params=e.params),e?.headers&&(this.headers=Object.assign(Object.assign({},this.headers),e.headers)),e?.timeout&&(this.timeout=e.timeout),e?.logger&&(this.logger=e.logger),e?.heartbeatIntervalMs&&(this.heartbeatIntervalMs=e.heartbeatIntervalMs);let i=(n=e?.params)===null||n===void 0?void 0:n.apikey;if(i&&(this.accessTokenValue=i,this.apiKey=i),this.reconnectAfterMs=e?.reconnectAfterMs?e.reconnectAfterMs:s=>[1e3,2e3,5e3,1e4][s-1]||1e4,this.encode=e?.encode?e.encode:(s,o)=>o(JSON.stringify(s)),this.decode=e?.decode?e.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Ht(()=>d(this,null,function*(){this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(e?.fetch),e?.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=e?.worker||!1,this.workerUrl=e?.workerUrl}this.accessToken=e?.accessToken||null}connect(){if(!this.conn){if(this.transport){this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});return}if(tp){this.conn=new WebSocket(this.endpointURL()),this.setupConnection();return}this.conn=new Ao(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),import("./chunk-BBCAVWXX.js").then(({default:t})=>{this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Pl}))}disconnect(t,e){this.conn&&(this.conn.onclose=function(){},t?this.conn.close(t,e??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}removeChannel(t){return d(this,null,function*(){let e=yield t.unsubscribe();return this.channels.length===0&&this.disconnect(),e})}removeAllChannels(){return d(this,null,function*(){let t=yield Promise.all(this.channels.map(e=>e.unsubscribe()));return this.disconnect(),t})}log(t,e,n){this.logger(t,e,n)}connectionState(){switch(this.conn&&this.conn.readyState){case zt.connecting:return it.Connecting;case zt.open:return it.Open;case zt.closing:return it.Closing;default:return it.Closed}}isConnected(){return this.connectionState()===it.Open}channel(t,e={config:{}}){let n=new Wn(`realtime:${t}`,e,this);return this.channels.push(n),n}push(t){let{topic:e,event:n,payload:i,ref:s}=t,o=()=>{this.encode(t,a=>{var u;(u=this.conn)===null||u===void 0||u.send(a)})};this.log("push",`${e} ${n} (${s})`,i),this.isConnected()?o():this.sendBuffer.push(o)}setAuth(t=null){return d(this,null,function*(){let e=t||this.accessToken&&(yield this.accessToken())||this.accessTokenValue;if(e){let n=null;try{n=JSON.parse(atob(e.split(".")[1]))}catch{}if(n&&n.exp&&!(Math.floor(Date.now()/1e3)-n.exp<0))return this.log("auth",`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`),Promise.reject(`InvalidJWTToken: Invalid value for JWT claim "exp" with value ${n.exp}`);this.accessTokenValue=e,this.channels.forEach(i=>{e&&i.updateJoinPayload({access_token:e}),i.joinedOnce&&i._isJoined()&&i._push(ae.access_token,{access_token:e})})}})}sendHeartbeat(){return d(this,null,function*(){var t;if(this.isConnected()){if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),(t=this.conn)===null||t===void 0||t.close(Ll,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}})}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(t=>t()),this.sendBuffer=[])}_makeRef(){let t=this.ref+1;return t===this.ref?this.ref=0:this.ref=t,this.ref.toString()}_leaveOpenTopic(t){let e=this.channels.find(n=>n.topic===t&&(n._isJoined()||n._isJoining()));e&&(this.log("transport",`leaving duplicate topic "${t}"`),e.unsubscribe())}_remove(t){this.channels=this.channels.filter(e=>e._joinRef()!==t._joinRef())}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=t=>this._onConnError(t),this.conn.onmessage=t=>this._onConnMessage(t),this.conn.onclose=t=>this._onConnClose(t))}_onConnMessage(t){this.decode(t.data,e=>{let{topic:n,event:i,payload:s,ref:o}=e;o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${s.status||""} ${n} ${i} ${o&&"("+o+")"||""}`,s),this.channels.filter(a=>a._isMember(n)).forEach(a=>a._trigger(i,s,o)),this.stateChangeCallbacks.message.forEach(a=>a(e))})}_onConnOpen(){return d(this,null,function*(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");let t=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(t),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{e.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(t=>t())})}_onConnClose(t){this.log("transport","close",t),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(e=>e(t))}_onConnError(t){this.log("transport",t.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(e=>e(t))}_triggerChanError(){this.channels.forEach(t=>t._trigger(ae.error))}_appendParams(t,e){if(Object.keys(e).length===0)return t;let n=t.match(/\?/)?"&":"?",i=new URLSearchParams(e);return`${t}${n}${i}`}_workerObjectUrl(t){let e;if(t)e=t;else{let n=new Blob([np],{type:"application/javascript"});e=URL.createObjectURL(n)}return e}};var Ao=class{constructor(t,e,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=zt.connecting,this.send=()=>{},this.url=null,this.url=t,this.close=n.close}};var qt=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function U(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}var ai=class extends qt{constructor(t,e){super(t),this.name="StorageApiError",this.status=e}toJSON(){return{name:this.name,message:this.message,status:this.status}}},st=class extends qt{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};var rp=function(r,t,e,n){function i(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(c){try{l(n.next(c))}catch(h){o(h)}}function u(c){try{l(n.throw(c))}catch(h){o(h)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((n=n.apply(r,t||[])).next())})},li=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...e)=>import("./chunk-BX7VDEVO.js").then(({default:n})=>n(...e)):t=fetch,(...e)=>t(...e)},jl=()=>rp(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield import("./chunk-BX7VDEVO.js")).Response:Response}),ui=r=>{if(Array.isArray(r))return r.map(e=>ui(e));if(typeof r=="function"||r!==Object(r))return r;let t={};return Object.entries(r).forEach(([e,n])=>{let i=e.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));t[i]=ui(n)}),t};var ot=function(r,t,e,n){function i(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(c){try{l(n.next(c))}catch(h){o(h)}}function u(c){try{l(n.throw(c))}catch(h){o(h)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((n=n.apply(r,t||[])).next())})},Mo=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),ip=(r,t,e)=>ot(void 0,void 0,void 0,function*(){let n=yield jl();r instanceof n&&!e?.noResolveJson?r.json().then(i=>{t(new ai(Mo(i),r.status||500))}).catch(i=>{t(new st(Mo(i),i))}):t(new st(Mo(r),r))}),sp=(r,t,e,n)=>{let i={method:r,headers:t?.headers||{}};return r==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json"},t?.headers),n&&(i.body=JSON.stringify(n)),Object.assign(Object.assign({},i),e))};function Jn(r,t,e,n,i,s){return ot(this,void 0,void 0,function*(){return new Promise((o,a)=>{r(e,sp(t,n,i,s)).then(u=>{if(!u.ok)throw u;return n?.noResolveJson?u:u.json()}).then(u=>o(u)).catch(u=>ip(u,a,n))})})}function Wt(r,t,e,n){return ot(this,void 0,void 0,function*(){return Jn(r,"GET",t,e,n)})}function ye(r,t,e,n,i){return ot(this,void 0,void 0,function*(){return Jn(r,"POST",t,n,i,e)})}function Ul(r,t,e,n,i){return ot(this,void 0,void 0,function*(){return Jn(r,"PUT",t,n,i,e)})}function Vl(r,t,e,n){return ot(this,void 0,void 0,function*(){return Jn(r,"HEAD",t,Object.assign(Object.assign({},e),{noResolveJson:!0}),n)})}function ci(r,t,e,n,i){return ot(this,void 0,void 0,function*(){return Jn(r,"DELETE",t,n,i,e)})}var X=function(r,t,e,n){function i(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(c){try{l(n.next(c))}catch(h){o(h)}}function u(c){try{l(n.throw(c))}catch(h){o(h)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((n=n.apply(r,t||[])).next())})},op={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},$l={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1},di=class{constructor(t,e={},n,i){this.url=t,this.headers=e,this.bucketId=n,this.fetch=li(i)}uploadOrUpdate(t,e,n,i){return X(this,void 0,void 0,function*(){try{let s,o=Object.assign(Object.assign({},$l),i),a=Object.assign(Object.assign({},this.headers),t==="POST"&&{"x-upsert":String(o.upsert)}),u=o.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",o.cacheControl),u&&s.append("metadata",this.encodeMetadata(u)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.append("cacheControl",o.cacheControl),u&&s.append("metadata",this.encodeMetadata(u))):(s=n,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,u&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(u)))),i?.headers&&(a=Object.assign(Object.assign({},a),i.headers));let l=this._removeEmptyFolders(e),c=this._getFinalPath(l),h=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:t,body:s,headers:a},o?.duplex?{duplex:o.duplex}:{})),p=yield h.json();return h.ok?{data:{path:l,id:p.Id,fullPath:p.Key},error:null}:{data:null,error:p}}catch(s){if(U(s))return{data:null,error:s};throw s}})}upload(t,e,n){return X(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",t,e,n)})}uploadToSignedUrl(t,e,n,i){return X(this,void 0,void 0,function*(){let s=this._removeEmptyFolders(t),o=this._getFinalPath(s),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",e);try{let u,l=Object.assign({upsert:$l.upsert},i),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(l.upsert)});typeof Blob<"u"&&n instanceof Blob?(u=new FormData,u.append("cacheControl",l.cacheControl),u.append("",n)):typeof FormData<"u"&&n instanceof FormData?(u=n,u.append("cacheControl",l.cacheControl)):(u=n,c["cache-control"]=`max-age=${l.cacheControl}`,c["content-type"]=l.contentType);let h=yield this.fetch(a.toString(),{method:"PUT",body:u,headers:c}),p=yield h.json();return h.ok?{data:{path:s,fullPath:p.Key},error:null}:{data:null,error:p}}catch(u){if(U(u))return{data:null,error:u};throw u}})}createSignedUploadUrl(t,e){return X(this,void 0,void 0,function*(){try{let n=this._getFinalPath(t),i=Object.assign({},this.headers);e?.upsert&&(i["x-upsert"]="true");let s=yield ye(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),o=new URL(this.url+s.url),a=o.searchParams.get("token");if(!a)throw new qt("No token returned by API");return{data:{signedUrl:o.toString(),path:t,token:a},error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}})}update(t,e,n){return X(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",t,e,n)})}move(t,e,n){return X(this,void 0,void 0,function*(){try{return{data:yield ye(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(U(i))return{data:null,error:i};throw i}})}copy(t,e,n){return X(this,void 0,void 0,function*(){try{return{data:{path:(yield ye(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n?.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(U(i))return{data:null,error:i};throw i}})}createSignedUrl(t,e,n){return X(this,void 0,void 0,function*(){try{let i=this._getFinalPath(t),s=yield ye(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:e},n?.transform?{transform:n.transform}:{}),{headers:this.headers}),o=n?.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${o}`)},{data:s,error:null}}catch(i){if(U(i))return{data:null,error:i};throw i}})}createSignedUrls(t,e,n){return X(this,void 0,void 0,function*(){try{let i=yield ye(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:e,paths:t},{headers:this.headers}),s=n?.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${s}`):null})),error:null}}catch(i){if(U(i))return{data:null,error:i};throw i}})}download(t,e){return X(this,void 0,void 0,function*(){let i=typeof e?.transform<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString(e?.transform||{}),o=s?`?${s}`:"";try{let a=this._getFinalPath(t);return{data:yield(yield Wt(this.fetch,`${this.url}/${i}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(U(a))return{data:null,error:a};throw a}})}info(t){return X(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{let n=yield Wt(this.fetch,`${this.url}/object/info/${e}`,{headers:this.headers});return{data:ui(n),error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}})}exists(t){return X(this,void 0,void 0,function*(){let e=this._getFinalPath(t);try{return yield Vl(this.fetch,`${this.url}/object/${e}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(U(n)&&n instanceof st){let i=n.originalError;if([400,404].includes(i?.status))return{data:!1,error:n}}throw n}})}getPublicUrl(t,e){let n=this._getFinalPath(t),i=[],s=e?.download?`download=${e.download===!0?"":e.download}`:"";s!==""&&i.push(s);let a=typeof e?.transform<"u"?"render/image":"object",u=this.transformOptsToQueryString(e?.transform||{});u!==""&&i.push(u);let l=i.join("&");return l!==""&&(l=`?${l}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${n}${l}`)}}}remove(t){return X(this,void 0,void 0,function*(){try{return{data:yield ci(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:t},{headers:this.headers}),error:null}}catch(e){if(U(e))return{data:null,error:e};throw e}})}list(t,e,n){return X(this,void 0,void 0,function*(){try{let i=Object.assign(Object.assign(Object.assign({},op),e),{prefix:t||""});return{data:yield ye(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(U(i))return{data:null,error:i};throw i}})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){let e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};var Bl="2.7.1";var zl={"X-Client-Info":`storage-js/${Bl}`};var Kt=function(r,t,e,n){function i(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(c){try{l(n.next(c))}catch(h){o(h)}}function u(c){try{l(n.throw(c))}catch(h){o(h)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((n=n.apply(r,t||[])).next())})},hi=class{constructor(t,e={},n){this.url=t,this.headers=Object.assign(Object.assign({},zl),e),this.fetch=li(n)}listBuckets(){return Kt(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(t){if(U(t))return{data:null,error:t};throw t}})}getBucket(t){return Kt(this,void 0,void 0,function*(){try{return{data:yield Wt(this.fetch,`${this.url}/bucket/${t}`,{headers:this.headers}),error:null}}catch(e){if(U(e))return{data:null,error:e};throw e}})}createBucket(t,e={public:!1}){return Kt(this,void 0,void 0,function*(){try{return{data:yield ye(this.fetch,`${this.url}/bucket`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}})}updateBucket(t,e){return Kt(this,void 0,void 0,function*(){try{return{data:yield Ul(this.fetch,`${this.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(U(n))return{data:null,error:n};throw n}})}emptyBucket(t){return Kt(this,void 0,void 0,function*(){try{return{data:yield ye(this.fetch,`${this.url}/bucket/${t}/empty`,{},{headers:this.headers}),error:null}}catch(e){if(U(e))return{data:null,error:e};throw e}})}deleteBucket(t){return Kt(this,void 0,void 0,function*(){try{return{data:yield ci(this.fetch,`${this.url}/bucket/${t}`,{},{headers:this.headers}),error:null}}catch(e){if(U(e))return{data:null,error:e};throw e}})}};var Zn=class extends hi{constructor(t,e={},n){super(t,e,n)}from(t){return new di(this.url,this.headers,t,this.fetch)}};var Hl="2.49.4";var Yn="";typeof Deno<"u"?Yn="deno":typeof document<"u"?Yn="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Yn="react-native":Yn="node";var ap={"X-Client-Info":`supabase-js-${Yn}/${Hl}`},Gl={headers:ap},ql={schema:"public"},Wl={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Kl={};_a();var up=function(r,t,e,n){function i(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(c){try{l(n.next(c))}catch(h){o(h)}}function u(c){try{l(n.throw(c))}catch(h){o(h)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((n=n.apply(r,t||[])).next())})},lp=r=>{let t;return r?t=r:typeof fetch>"u"?t=va:t=fetch,(...e)=>t(...e)},cp=()=>typeof Headers>"u"?ya:Headers,Jl=(r,t,e)=>{let n=lp(e),i=cp();return(s,o)=>up(void 0,void 0,void 0,function*(){var a;let u=(a=yield t())!==null&&a!==void 0?a:r,l=new i(o?.headers);return l.has("apikey")||l.set("apikey",r),l.has("Authorization")||l.set("Authorization",`Bearer ${u}`),n(s,Object.assign(Object.assign({},o),{headers:l}))})};var dp=function(r,t,e,n){function i(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(c){try{l(n.next(c))}catch(h){o(h)}}function u(c){try{l(n.throw(c))}catch(h){o(h)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((n=n.apply(r,t||[])).next())})};function Zl(r){return r.replace(/\/$/,"")}function Yl(r,t){let{db:e,auth:n,realtime:i,global:s}=r,{db:o,auth:a,realtime:u,global:l}=t,c={db:Object.assign(Object.assign({},o),e),auth:Object.assign(Object.assign({},a),n),realtime:Object.assign(Object.assign({},u),i),global:Object.assign(Object.assign({},l),s),accessToken:()=>dp(this,void 0,void 0,function*(){return""})};return r.accessToken?c.accessToken=r.accessToken:delete c.accessToken,c}var fi="2.69.1";var at=30*1e3,pi=3,gi=pi*at,Xl="http://localhost:9999",Ql="supabase.auth.token";var ec={"X-Client-Info":`gotrue-js/${fi}`};var Xn="X-Supabase-Api-Version",Ro={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},tc=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,nc=6e5;var Qn=class extends Error{constructor(t,e,n){super(t),this.__isAuthError=!0,this.name="AuthError",this.status=e,this.code=n}};function E(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}var mi=class extends Qn{constructor(t,e,n){super(t,e,n),this.name="AuthApiError",this.status=e,this.code=n}};function rc(r){return E(r)&&r.name==="AuthApiError"}var Jt=class extends Qn{constructor(t,e){super(t),this.name="AuthUnknownError",this.originalError=e}},_e=class extends Qn{constructor(t,e,n,i){super(t,n,i),this.name=e,this.status=n}},ue=class extends _e{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}};function ic(r){return E(r)&&r.name==="AuthSessionMissingError"}var Zt=class extends _e{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}},ut=class extends _e{constructor(t){super(t,"AuthInvalidCredentialsError",400,void 0)}},lt=class extends _e{constructor(t,e=null){super(t,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}};function sc(r){return E(r)&&r.name==="AuthImplicitGrantRedirectError"}var er=class extends _e{constructor(t,e=null){super(t,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=e}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}},Yt=class extends _e{constructor(t,e){super(t,"AuthRetryableFetchError",e,void 0)}};function vi(r){return E(r)&&r.name==="AuthRetryableFetchError"}var tr=class extends _e{constructor(t,e,n){super(t,"AuthWeakPasswordError",e,"weak_password"),this.reasons=n}};var Ne=class extends _e{constructor(t){super(t,"AuthInvalidJwtError",400,"invalid_jwt")}};var oc="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),ac=` 	
\r=`.split(""),hp=(()=>{let r=new Array(128);for(let t=0;t<r.length;t+=1)r[t]=-1;for(let t=0;t<ac.length;t+=1)r[ac[t].charCodeAt(0)]=-2;for(let t=0;t<oc.length;t+=1)r[oc[t].charCodeAt(0)]=t;return r})();function uc(r,t,e){let n=hp[r];if(n>-1)for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)e(t.queue>>t.queuedBits-8&255),t.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function Io(r){let t=[],e=o=>{t.push(String.fromCodePoint(o))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=o=>{gp(o,n,e)};for(let o=0;o<r.length;o+=1)uc(r.charCodeAt(o),i,s);return t.join("")}function fp(r,t){if(r<=127){t(r);return}else if(r<=2047){t(192|r>>6),t(128|r&63);return}else if(r<=65535){t(224|r>>12),t(128|r>>6&63),t(128|r&63);return}else if(r<=1114111){t(240|r>>18),t(128|r>>12&63),t(128|r>>6&63),t(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function pp(r,t){for(let e=0;e<r.length;e+=1){let n=r.charCodeAt(e);if(n>55295&&n<=56319){let i=(n-55296)*1024&65535;n=(r.charCodeAt(e+1)-56320&65535|i)+65536,e+=1}fp(n,t)}}function gp(r,t,e){if(t.utf8seq===0){if(r<=127){e(r);return}for(let n=1;n<6;n+=1)if((r>>7-n&1)===0){t.utf8seq=n;break}if(t.utf8seq===2)t.codepoint=r&31;else if(t.utf8seq===3)t.codepoint=r&15;else if(t.utf8seq===4)t.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");t.utf8seq-=1}else if(t.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|r&63,t.utf8seq-=1,t.utf8seq===0&&e(t.codepoint)}}function lc(r){let t=[],e={queue:0,queuedBits:0},n=i=>{t.push(i)};for(let i=0;i<r.length;i+=1)uc(r.charCodeAt(i),e,n);return new Uint8Array(t)}function cc(r){let t=[];return pp(r,e=>t.push(e)),new Uint8Array(t)}function dc(r){return Math.round(Date.now()/1e3)+r}function hc(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){let t=Math.random()*16|0;return(r=="x"?t:t&3|8).toString(16)})}var pe=()=>typeof window<"u"&&typeof document<"u",ct={tested:!1,writable:!1},Ke=()=>{if(!pe())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ct.tested)return ct.writable;let r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),ct.tested=!0,ct.writable=!0}catch{ct.tested=!0,ct.writable=!1}return ct.writable};function fc(r){let t={},e=new URL(r);if(e.hash&&e.hash[0]==="#")try{new URLSearchParams(e.hash.substring(1)).forEach((i,s)=>{t[s]=i})}catch{}return e.searchParams.forEach((n,i)=>{t[i]=n}),t}var yi=r=>{let t;return r?t=r:typeof fetch>"u"?t=(...e)=>import("./chunk-BX7VDEVO.js").then(({default:n})=>n(...e)):t=fetch,(...e)=>t(...e)},pc=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Oo=(r,t,e)=>d(void 0,null,function*(){yield r.setItem(t,JSON.stringify(e))}),rr=(r,t)=>d(void 0,null,function*(){let e=yield r.getItem(t);if(!e)return null;try{return JSON.parse(e)}catch{return e}}),ir=(r,t)=>d(void 0,null,function*(){yield r.removeItem(t)}),nr=class r{constructor(){this.promise=new r.promiseConstructor((t,e)=>{this.resolve=t,this.reject=e})}};nr.promiseConstructor=Promise;function _i(r){let t=r.split(".");if(t.length!==3)throw new Ne("Invalid JWT structure");for(let n=0;n<t.length;n++)if(!tc.test(t[n]))throw new Ne("JWT not in base64url format");return{header:JSON.parse(Io(t[0])),payload:JSON.parse(Io(t[1])),signature:lc(t[2]),raw:{header:t[0],payload:t[1]}}}function gc(r){return d(this,null,function*(){return yield new Promise(t=>{setTimeout(()=>t(null),r)})})}function mc(r,t){return new Promise((n,i)=>{d(this,null,function*(){for(let s=0;s<1/0;s++)try{let o=yield r(s);if(!t(s,null,o)){n(o);return}}catch(o){if(!t(s,o)){i(o);return}}})})}function mp(r){return("0"+r.toString(16)).substr(-2)}function vp(){let t=new Uint32Array(56);if(typeof crypto>"u"){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=e.length,i="";for(let s=0;s<56;s++)i+=e.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(t),Array.from(t,mp).join("")}function yp(r){return d(this,null,function*(){let e=new TextEncoder().encode(r),n=yield crypto.subtle.digest("SHA-256",e),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")})}function _p(r){return d(this,null,function*(){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;let e=yield yp(r);return btoa(e).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")})}function dt(r,t,e=!1){return d(this,null,function*(){let n=vp(),i=n;e&&(i+="/PASSWORD_RECOVERY"),yield Oo(r,`${t}-code-verifier`,i);let s=yield _p(n);return[s,n===s?"plain":"s256"]})}var wp=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function vc(r){let t=r.headers.get(Xn);if(!t||!t.match(wp))return null;try{return new Date(`${t}T00:00:00.0Z`)}catch{return null}}function yc(r){if(!r)throw new Error("Missing exp claim");let t=Math.floor(Date.now()/1e3);if(r<=t)throw new Error("JWT has expired")}function _c(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Dp=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e},ht=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Cp=[502,503,504];function wc(r){return d(this,null,function*(){var t;if(!pc(r))throw new Yt(ht(r),0);if(Cp.includes(r.status))throw new Yt(ht(r),r.status);let e;try{e=yield r.json()}catch(s){throw new Jt(ht(s),s)}let n,i=vc(r);if(i&&i.getTime()>=Ro["2024-01-01"].timestamp&&typeof e=="object"&&e&&typeof e.code=="string"?n=e.code:typeof e=="object"&&e&&typeof e.error_code=="string"&&(n=e.error_code),n){if(n==="weak_password")throw new tr(ht(e),r.status,((t=e.weak_password)===null||t===void 0?void 0:t.reasons)||[]);if(n==="session_not_found")throw new ue}else if(typeof e=="object"&&e&&typeof e.weak_password=="object"&&e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.reasons.reduce((s,o)=>s&&typeof o=="string",!0))throw new tr(ht(e),r.status,e.weak_password.reasons);throw new mi(ht(e),r.status||500,n)})}var bp=(r,t,e,n)=>{let i={method:r,headers:t?.headers||{}};return r==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},t?.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),e))};function R(r,t,e,n){return d(this,null,function*(){var i;let s=Object.assign({},n?.headers);s[Xn]||(s[Xn]=Ro["2024-01-01"].name),n?.jwt&&(s.Authorization=`Bearer ${n.jwt}`);let o=(i=n?.query)!==null&&i!==void 0?i:{};n?.redirectTo&&(o.redirect_to=n.redirectTo);let a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",u=yield Sp(r,t,e+a,{headers:s,noResolveJson:n?.noResolveJson},{},n?.body);return n?.xform?n?.xform(u):{data:Object.assign({},u),error:null}})}function Sp(r,t,e,n,i,s){return d(this,null,function*(){let o=bp(t,n,i,s),a;try{a=yield r(e,Object.assign({},o))}catch(u){throw console.error(u),new Yt(ht(u),0)}if(a.ok||(yield wc(a)),n?.noResolveJson)return a;try{return yield a.json()}catch(u){yield wc(u)}})}function je(r){var t;let e=null;Ep(r)&&(e=Object.assign({},r),r.expires_at||(e.expires_at=dc(r.expires_in)));let n=(t=r.user)!==null&&t!==void 0?t:r;return{data:{session:e,user:n},error:null}}function To(r){let t=je(r);return!t.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((e,n)=>e&&typeof n=="string",!0)&&(t.data.weak_password=r.weak_password),t}function we(r){var t;return{data:{user:(t=r.user)!==null&&t!==void 0?t:r},error:null}}function Dc(r){return{data:r,error:null}}function Cc(r){let{action_link:t,email_otp:e,hashed_token:n,redirect_to:i,verification_type:s}=r,o=Dp(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:t,email_otp:e,hashed_token:n,redirect_to:i,verification_type:s},u=Object.assign({},o);return{data:{properties:a,user:u},error:null}}function bc(r){return r}function Ep(r){return r.access_token&&r.refresh_token&&r.expires_in}var Ap=function(r,t){var e={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&t.indexOf(n)<0&&(e[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(r);i<n.length;i++)t.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(r,n[i])&&(e[n[i]]=r[n[i]]);return e},Xt=class{constructor({url:t="",headers:e={},fetch:n}){this.url=t,this.headers=e,this.fetch=yi(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}signOut(t,e="global"){return d(this,null,function*(){try{return yield R(this.fetch,"POST",`${this.url}/logout?scope=${e}`,{headers:this.headers,jwt:t,noResolveJson:!0}),{data:null,error:null}}catch(n){if(E(n))return{data:null,error:n};throw n}})}inviteUserByEmail(n){return d(this,arguments,function*(t,e={}){try{return yield R(this.fetch,"POST",`${this.url}/invite`,{body:{email:t,data:e.data},headers:this.headers,redirectTo:e.redirectTo,xform:we})}catch(i){if(E(i))return{data:{user:null},error:i};throw i}})}generateLink(t){return d(this,null,function*(){try{let{options:e}=t,n=Ap(t,["options"]),i=Object.assign(Object.assign({},n),e);return"newEmail"in n&&(i.new_email=n?.newEmail,delete i.newEmail),yield R(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Cc,redirectTo:e?.redirectTo})}catch(e){if(E(e))return{data:{properties:null,user:null},error:e};throw e}})}createUser(t){return d(this,null,function*(){try{return yield R(this.fetch,"POST",`${this.url}/admin/users`,{body:t,headers:this.headers,xform:we})}catch(e){if(E(e))return{data:{user:null},error:e};throw e}})}listUsers(t){return d(this,null,function*(){var e,n,i,s,o,a,u;try{let l={nextPage:null,lastPage:0,total:0},c=yield R(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(e=t?.page)===null||e===void 0?void 0:e.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=t?.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:bc});if(c.error)throw c.error;let h=yield c.json(),p=(o=c.headers.get("x-total-count"))!==null&&o!==void 0?o:0,f=(u=(a=c.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&u!==void 0?u:[];return f.length>0&&(f.forEach(D=>{let C=parseInt(D.split(";")[0].split("=")[1].substring(0,1)),S=JSON.parse(D.split(";")[1].split("=")[1]);l[`${S}Page`]=C}),l.total=parseInt(p)),{data:Object.assign(Object.assign({},h),l),error:null}}catch(l){if(E(l))return{data:{users:[]},error:l};throw l}})}getUserById(t){return d(this,null,function*(){try{return yield R(this.fetch,"GET",`${this.url}/admin/users/${t}`,{headers:this.headers,xform:we})}catch(e){if(E(e))return{data:{user:null},error:e};throw e}})}updateUserById(t,e){return d(this,null,function*(){try{return yield R(this.fetch,"PUT",`${this.url}/admin/users/${t}`,{body:e,headers:this.headers,xform:we})}catch(n){if(E(n))return{data:{user:null},error:n};throw n}})}deleteUser(t,e=!1){return d(this,null,function*(){try{return yield R(this.fetch,"DELETE",`${this.url}/admin/users/${t}`,{headers:this.headers,body:{should_soft_delete:e},xform:we})}catch(n){if(E(n))return{data:{user:null},error:n};throw n}})}_listFactors(t){return d(this,null,function*(){try{let{data:e,error:n}=yield R(this.fetch,"GET",`${this.url}/admin/users/${t.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:e,error:n}}catch(e){if(E(e))return{data:null,error:e};throw e}})}_deleteFactor(t){return d(this,null,function*(){try{return{data:yield R(this.fetch,"DELETE",`${this.url}/admin/users/${t.userId}/factors/${t.id}`,{headers:this.headers}),error:null}}catch(e){if(E(e))return{data:null,error:e};throw e}})}};var Sc={getItem:r=>Ke()?globalThis.localStorage.getItem(r):null,setItem:(r,t)=>{Ke()&&globalThis.localStorage.setItem(r,t)},removeItem:r=>{Ke()&&globalThis.localStorage.removeItem(r)}};function Fo(r={}){return{getItem:t=>r[t]||null,setItem:(t,e)=>{r[t]=e},removeItem:t=>{delete r[t]}}}function Ec(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}var ft={debug:!!(globalThis&&Ke()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")},sr=class extends Error{constructor(t){super(t),this.isAcquireTimeout=!0}},wi=class extends sr{};function xo(r,t,e){return d(this,null,function*(){ft.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,t);let n=new globalThis.AbortController;return t>0&&setTimeout(()=>{n.abort(),ft.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},t),yield Promise.resolve().then(()=>globalThis.navigator.locks.request(r,t===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},i=>d(this,null,function*(){if(i){ft.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,i.name);try{return yield e()}finally{ft.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,i.name)}}else{if(t===0)throw ft.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new wi(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(ft.debug)try{let s=yield globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),yield e()}})))})}Ec();var Mp={url:Xl,storageKey:Ql,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ec,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};function Ac(r,t,e){return d(this,null,function*(){return yield e()})}var ko=(()=>{class r{constructor(e){var n,i;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=r.nextInstanceID,r.nextInstanceID+=1,this.instanceID>0&&pe()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");let s=Object.assign(Object.assign({},Mp),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Xt({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=yi(s.fetch),this.lock=s.lock||Ac,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:pe()&&(!((n=globalThis?.navigator)===null||n===void 0)&&n.locks)?this.lock=xo:this.lock=Ac,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Ke()?this.storage=Sc:(this.memoryStorage={},this.storage=Fo(this.memoryStorage)):(this.memoryStorage={},this.storage=Fo(this.memoryStorage)),pe()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(o){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",o)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",o=>d(this,null,function*(){this._debug("received broadcast notification from other tab or client",o),yield this._notifyAllSubscribers(o.data.event,o.data.session,!1)}))}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${fi}) ${new Date().toISOString()}`,...e),this}initialize(){return d(this,null,function*(){return this.initializePromise?yield this.initializePromise:(this.initializePromise=d(this,null,function*(){return yield this._acquireLock(-1,()=>d(this,null,function*(){return yield this._initialize()}))}),yield this.initializePromise)})}_initialize(){return d(this,null,function*(){var e;try{let n=fc(window.location.href),i="none";if(this._isImplicitGrantCallback(n)?i="implicit":(yield this._isPKCECallback(n))&&(i="pkce"),pe()&&this.detectSessionInUrl&&i!=="none"){let{data:s,error:o}=yield this._getSessionFromURL(n,i);if(o){if(this._debug("#_initialize()","error detecting session from URL",o),sc(o)){let l=(e=o.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:o}}return yield this._removeSession(),{error:o}}let{session:a,redirectType:u}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",u),yield this._saveSession(a),setTimeout(()=>d(this,null,function*(){u==="recovery"?yield this._notifyAllSubscribers("PASSWORD_RECOVERY",a):yield this._notifyAllSubscribers("SIGNED_IN",a)}),0),{error:null}}return yield this._recoverAndRefresh(),{error:null}}catch(n){return E(n)?{error:n}:{error:new Jt("Unexpected error during initialization",n)}}finally{yield this._handleVisibilityChange(),this._debug("#_initialize()","end")}})}signInAnonymously(e){return d(this,null,function*(){var n,i,s;try{let o=yield R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(n=e?.options)===null||n===void 0?void 0:n.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(s=e?.options)===null||s===void 0?void 0:s.captchaToken}},xform:je}),{data:a,error:u}=o;if(u||!a)return{data:{user:null,session:null},error:u};let l=a.session,c=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(E(o))return{data:{user:null,session:null},error:o};throw o}})}signUp(e){return d(this,null,function*(){var n,i,s;try{let o;if("email"in e){let{email:h,password:p,options:f}=e,D=null,C=null;this.flowType==="pkce"&&([D,C]=yield dt(this.storage,this.storageKey)),o=yield R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f?.emailRedirectTo,body:{email:h,password:p,data:(n=f?.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f?.captchaToken},code_challenge:D,code_challenge_method:C},xform:je})}else if("phone"in e){let{phone:h,password:p,options:f}=e;o=yield R(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:h,password:p,data:(i=f?.data)!==null&&i!==void 0?i:{},channel:(s=f?.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f?.captchaToken}},xform:je})}else throw new ut("You must provide either an email or phone number and a password");let{data:a,error:u}=o;if(u||!a)return{data:{user:null,session:null},error:u};let l=a.session,c=a.user;return a.session&&(yield this._saveSession(a.session),yield this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(o){if(E(o))return{data:{user:null,session:null},error:o};throw o}})}signInWithPassword(e){return d(this,null,function*(){try{let n;if("email"in e){let{email:o,password:a,options:u}=e;n=yield R(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:o,password:a,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:To})}else if("phone"in e){let{phone:o,password:a,options:u}=e;n=yield R(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:o,password:a,gotrue_meta_security:{captcha_token:u?.captchaToken}},xform:To})}else throw new ut("You must provide either an email or phone number and a password");let{data:i,error:s}=n;return s?{data:{user:null,session:null},error:s}:!i||!i.session||!i.user?{data:{user:null,session:null},error:new Zt}:(i.session&&(yield this._saveSession(i.session),yield this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:s})}catch(n){if(E(n))return{data:{user:null,session:null},error:n};throw n}})}signInWithOAuth(e){return d(this,null,function*(){var n,i,s,o;return yield this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(o=e.options)===null||o===void 0?void 0:o.skipBrowserRedirect})})}exchangeCodeForSession(e){return d(this,null,function*(){return yield this.initializePromise,this._acquireLock(-1,()=>d(this,null,function*(){return this._exchangeCodeForSession(e)}))})}_exchangeCodeForSession(e){return d(this,null,function*(){let n=yield rr(this.storage,`${this.storageKey}-code-verifier`),[i,s]=(n??"").split("/");try{let{data:o,error:a}=yield R(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:je});if(yield ir(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!o||!o.session||!o.user?{data:{user:null,session:null,redirectType:null},error:new Zt}:(o.session&&(yield this._saveSession(o.session),yield this._notifyAllSubscribers("SIGNED_IN",o.session)),{data:Object.assign(Object.assign({},o),{redirectType:s??null}),error:a})}catch(o){if(E(o))return{data:{user:null,session:null,redirectType:null},error:o};throw o}})}signInWithIdToken(e){return d(this,null,function*(){try{let{options:n,provider:i,token:s,access_token:o,nonce:a}=e,u=yield R(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:s,access_token:o,nonce:a,gotrue_meta_security:{captcha_token:n?.captchaToken}},xform:je}),{data:l,error:c}=u;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Zt}:(l.session&&(yield this._saveSession(l.session),yield this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(E(n))return{data:{user:null,session:null},error:n};throw n}})}signInWithOtp(e){return d(this,null,function*(){var n,i,s,o,a;try{if("email"in e){let{email:u,options:l}=e,c=null,h=null;this.flowType==="pkce"&&([c,h]=yield dt(this.storage,this.storageKey));let{error:p}=yield R(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:u,data:(n=l?.data)!==null&&n!==void 0?n:{},create_user:(i=l?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},code_challenge:c,code_challenge_method:h},redirectTo:l?.emailRedirectTo});return{data:{user:null,session:null},error:p}}if("phone"in e){let{phone:u,options:l}=e,{data:c,error:h}=yield R(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:u,data:(s=l?.data)!==null&&s!==void 0?s:{},create_user:(o=l?.shouldCreateUser)!==null&&o!==void 0?o:!0,gotrue_meta_security:{captcha_token:l?.captchaToken},channel:(a=l?.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:c?.message_id},error:h}}throw new ut("You must provide either an email or phone number.")}catch(u){if(E(u))return{data:{user:null,session:null},error:u};throw u}})}verifyOtp(e){return d(this,null,function*(){var n,i;try{let s,o;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,o=(i=e.options)===null||i===void 0?void 0:i.captchaToken);let{data:a,error:u}=yield R(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:o}}),redirectTo:s,xform:je});if(u)throw u;if(!a)throw new Error("An error occurred on token verification.");let l=a.session,c=a.user;return l?.access_token&&(yield this._saveSession(l),yield this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(E(s))return{data:{user:null,session:null},error:s};throw s}})}signInWithSSO(e){return d(this,null,function*(){var n,i,s;try{let o=null,a=null;return this.flowType==="pkce"&&([o,a]=yield dt(this.storage,this.storageKey)),yield R(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&i!==void 0?i:void 0}),!((s=e?.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:a}),headers:this.headers,xform:Dc})}catch(o){if(E(o))return{data:null,error:o};throw o}})}reauthenticate(){return d(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>d(this,null,function*(){return yield this._reauthenticate()}))})}_reauthenticate(){return d(this,null,function*(){try{return yield this._useSession(e=>d(this,null,function*(){let{data:{session:n},error:i}=e;if(i)throw i;if(!n)throw new ue;let{error:s}=yield R(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}}))}catch(e){if(E(e))return{data:{user:null,session:null},error:e};throw e}})}resend(e){return d(this,null,function*(){try{let n=`${this.url}/resend`;if("email"in e){let{email:i,type:s,options:o}=e,{error:a}=yield R(this.fetch,"POST",n,{headers:this.headers,body:{email:i,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}},redirectTo:o?.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){let{phone:i,type:s,options:o}=e,{data:a,error:u}=yield R(this.fetch,"POST",n,{headers:this.headers,body:{phone:i,type:s,gotrue_meta_security:{captcha_token:o?.captchaToken}}});return{data:{user:null,session:null,messageId:a?.message_id},error:u}}throw new ut("You must provide either an email or phone number and a type")}catch(n){if(E(n))return{data:{user:null,session:null},error:n};throw n}})}getSession(){return d(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>d(this,null,function*(){return this._useSession(n=>d(this,null,function*(){return n}))}))})}_acquireLock(e,n){return d(this,null,function*(){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){let i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=d(this,null,function*(){return yield i,yield n()});return this.pendingInLock.push(d(this,null,function*(){try{yield s}catch{}})),s}return yield this.lock(`lock:${this.storageKey}`,e,()=>d(this,null,function*(){this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;let i=n();for(this.pendingInLock.push(d(this,null,function*(){try{yield i}catch{}})),yield i;this.pendingInLock.length;){let s=[...this.pendingInLock];yield Promise.all(s),this.pendingInLock.splice(0,s.length)}return yield i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}})}_useSession(e){return d(this,null,function*(){this._debug("#_useSession","begin");try{let n=yield this.__loadSession();return yield e(n)}finally{this._debug("#_useSession","end")}})}__loadSession(){return d(this,null,function*(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null,n=yield rr(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),yield this._removeSession())),!e)return{data:{session:null},error:null};let i=e.expires_at?e.expires_at*1e3-Date.now()<gi:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,h)=>(!a&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,h))})}return{data:{session:e},error:null}}let{session:s,error:o}=yield this._callRefreshToken(e.refresh_token);return o?{data:{session:null},error:o}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}})}getUser(e){return d(this,null,function*(){return e?yield this._getUser(e):(yield this.initializePromise,yield this._acquireLock(-1,()=>d(this,null,function*(){return yield this._getUser()})))})}_getUser(e){return d(this,null,function*(){try{return e?yield R(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:we}):yield this._useSession(n=>d(this,null,function*(){var i,s,o;let{data:a,error:u}=n;if(u)throw u;return!(!((i=a.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new ue}:yield R(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(o=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&o!==void 0?o:void 0,xform:we})}))}catch(n){if(E(n))return ic(n)&&(yield this._removeSession(),yield ir(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}})}updateUser(i){return d(this,arguments,function*(e,n={}){return yield this.initializePromise,yield this._acquireLock(-1,()=>d(this,null,function*(){return yield this._updateUser(e,n)}))})}_updateUser(i){return d(this,arguments,function*(e,n={}){try{return yield this._useSession(s=>d(this,null,function*(){let{data:o,error:a}=s;if(a)throw a;if(!o.session)throw new ue;let u=o.session,l=null,c=null;this.flowType==="pkce"&&e.email!=null&&([l,c]=yield dt(this.storage,this.storageKey));let{data:h,error:p}=yield R(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:l,code_challenge_method:c}),jwt:u.access_token,xform:we});if(p)throw p;return u.user=h.user,yield this._saveSession(u),yield this._notifyAllSubscribers("USER_UPDATED",u),{data:{user:u.user},error:null}}))}catch(s){if(E(s))return{data:{user:null},error:s};throw s}})}setSession(e){return d(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>d(this,null,function*(){return yield this._setSession(e)}))})}_setSession(e){return d(this,null,function*(){try{if(!e.access_token||!e.refresh_token)throw new ue;let n=Date.now()/1e3,i=n,s=!0,o=null,{payload:a}=_i(e.access_token);if(a.exp&&(i=a.exp,s=i<=n),s){let{session:u,error:l}=yield this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!u)return{data:{user:null,session:null},error:null};o=u}else{let{data:u,error:l}=yield this._getUser(e.access_token);if(l)throw l;o={access_token:e.access_token,refresh_token:e.refresh_token,user:u.user,token_type:"bearer",expires_in:i-n,expires_at:i},yield this._saveSession(o),yield this._notifyAllSubscribers("SIGNED_IN",o)}return{data:{user:o.user,session:o},error:null}}catch(n){if(E(n))return{data:{session:null,user:null},error:n};throw n}})}refreshSession(e){return d(this,null,function*(){return yield this.initializePromise,yield this._acquireLock(-1,()=>d(this,null,function*(){return yield this._refreshSession(e)}))})}_refreshSession(e){return d(this,null,function*(){try{return yield this._useSession(n=>d(this,null,function*(){var i;if(!e){let{data:a,error:u}=n;if(u)throw u;e=(i=a.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new ue;let{session:s,error:o}=yield this._callRefreshToken(e.refresh_token);return o?{data:{user:null,session:null},error:o}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}}))}catch(n){if(E(n))return{data:{user:null,session:null},error:n};throw n}})}_getSessionFromURL(e,n){return d(this,null,function*(){try{if(!pe())throw new lt("No browser detected.");if(e.error||e.error_description||e.error_code)throw new lt(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new er("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new lt("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new er("No code detected.");let{data:W,error:ce}=yield this._exchangeCodeForSession(e.code);if(ce)throw ce;let De=new URL(window.location.href);return De.searchParams.delete("code"),window.history.replaceState(window.history.state,"",De.toString()),{data:{session:W.session,redirectType:null},error:null}}let{provider_token:i,provider_refresh_token:s,access_token:o,refresh_token:a,expires_in:u,expires_at:l,token_type:c}=e;if(!o||!u||!a||!c)throw new lt("No session defined in URL");let h=Math.round(Date.now()/1e3),p=parseInt(u),f=h+p;l&&(f=parseInt(l));let D=f-h;D*1e3<=at&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${D}s, should have been closer to ${p}s`);let C=f-p;h-C>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",C,f,h):h-C<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",C,f,h);let{data:S,error:j}=yield this._getUser(o);if(j)throw j;let le={provider_token:i,provider_refresh_token:s,access_token:o,expires_in:p,expires_at:f,refresh_token:a,token_type:c,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:le,redirectType:e.type},error:null}}catch(i){if(E(i))return{data:{session:null,redirectType:null},error:i};throw i}})}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}_isPKCECallback(e){return d(this,null,function*(){let n=yield rr(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)})}signOut(){return d(this,arguments,function*(e={scope:"global"}){return yield this.initializePromise,yield this._acquireLock(-1,()=>d(this,null,function*(){return yield this._signOut(e)}))})}_signOut(){return d(this,arguments,function*({scope:e}={scope:"global"}){return yield this._useSession(n=>d(this,null,function*(){var i;let{data:s,error:o}=n;if(o)return{error:o};let a=(i=s.session)===null||i===void 0?void 0:i.access_token;if(a){let{error:u}=yield this.admin.signOut(a,e);if(u&&!(rc(u)&&(u.status===404||u.status===401||u.status===403)))return{error:u}}return e!=="others"&&(yield this._removeSession(),yield ir(this.storage,`${this.storageKey}-code-verifier`)),{error:null}}))})}onAuthStateChange(e){let n=hc(),i={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,i),d(this,null,function*(){yield this.initializePromise,yield this._acquireLock(-1,()=>d(this,null,function*(){this._emitInitialSession(n)}))}),{data:{subscription:i}}}_emitInitialSession(e){return d(this,null,function*(){return yield this._useSession(n=>d(this,null,function*(){var i,s;try{let{data:{session:o},error:a}=n;if(a)throw a;yield(i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",o),this._debug("INITIAL_SESSION","callback id",e,"session",o)}catch(o){yield(s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null),this._debug("INITIAL_SESSION","callback id",e,"error",o),console.error(o)}}))})}resetPasswordForEmail(i){return d(this,arguments,function*(e,n={}){let s=null,o=null;this.flowType==="pkce"&&([s,o]=yield dt(this.storage,this.storageKey,!0));try{return yield R(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:s,code_challenge_method:o,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(a){if(E(a))return{data:null,error:a};throw a}})}getUserIdentities(){return d(this,null,function*(){var e;try{let{data:n,error:i}=yield this.getUser();if(i)throw i;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(E(n))return{data:null,error:n};throw n}})}linkIdentity(e){return d(this,null,function*(){var n;try{let{data:i,error:s}=yield this._useSession(o=>d(this,null,function*(){var a,u,l,c,h;let{data:p,error:f}=o;if(f)throw f;let D=yield this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(u=e.options)===null||u===void 0?void 0:u.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return yield R(this.fetch,"GET",D,{headers:this.headers,jwt:(h=(c=p.session)===null||c===void 0?void 0:c.access_token)!==null&&h!==void 0?h:void 0})}));if(s)throw s;return pe()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(i?.url),{data:{provider:e.provider,url:i?.url},error:null}}catch(i){if(E(i))return{data:{provider:e.provider,url:null},error:i};throw i}})}unlinkIdentity(e){return d(this,null,function*(){try{return yield this._useSession(n=>d(this,null,function*(){var i,s;let{data:o,error:a}=n;if(a)throw a;return yield R(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(i=o.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0})}))}catch(n){if(E(n))return{data:null,error:n};throw n}})}_refreshAccessToken(e){return d(this,null,function*(){let n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{let i=Date.now();return yield mc(s=>d(this,null,function*(){return s>0&&(yield gc(200*Math.pow(2,s-1))),this._debug(n,"refreshing attempt",s),yield R(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:je})}),(s,o)=>{let a=200*Math.pow(2,s);return o&&vi(o)&&Date.now()+a-i<at})}catch(i){if(this._debug(n,"error",i),E(i))return{data:{session:null,user:null},error:i};throw i}finally{this._debug(n,"end")}})}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}_handleProviderSignIn(e,n){return d(this,null,function*(){let i=yield this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",i),pe()&&!n.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}})}_recoverAndRefresh(){return d(this,null,function*(){var e;let n="#_recoverAndRefresh()";this._debug(n,"begin");try{let i=yield rr(this.storage,this.storageKey);if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&(yield this._removeSession());return}let s=((e=i.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<gi;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${gi}s`),s){if(this.autoRefreshToken&&i.refresh_token){let{error:o}=yield this._callRefreshToken(i.refresh_token);o&&(console.error(o),vi(o)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",o),yield this._removeSession()))}}else yield this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}})}_callRefreshToken(e){return d(this,null,function*(){var n,i;if(!e)throw new ue;if(this.refreshingDeferred)return this.refreshingDeferred.promise;let s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new nr;let{data:o,error:a}=yield this._refreshAccessToken(e);if(a)throw a;if(!o.session)throw new ue;yield this._saveSession(o.session),yield this._notifyAllSubscribers("TOKEN_REFRESHED",o.session);let u={session:o.session,error:null};return this.refreshingDeferred.resolve(u),u}catch(o){if(this._debug(s,"error",o),E(o)){let a={session:null,error:o};return vi(o)||(yield this._removeSession()),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(o),o}finally{this.refreshingDeferred=null,this._debug(s,"end")}})}_notifyAllSubscribers(e,n,i=!0){return d(this,null,function*(){let s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:n});let o=[],a=Array.from(this.stateChangeEmitters.values()).map(u=>d(this,null,function*(){try{yield u.callback(e,n)}catch(l){o.push(l)}}));if(yield Promise.all(a),o.length>0){for(let u=0;u<o.length;u+=1)console.error(o[u]);throw o[0]}}finally{this._debug(s,"end")}})}_saveSession(e){return d(this,null,function*(){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,yield Oo(this.storage,this.storageKey,e)})}_removeSession(){return d(this,null,function*(){this._debug("#_removeSession()"),yield ir(this.storage,this.storageKey),yield this._notifyAllSubscribers("SIGNED_OUT",null)})}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");let e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&pe()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}_startAutoRefresh(){return d(this,null,function*(){yield this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");let e=setInterval(()=>this._autoRefreshTokenTick(),at);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(()=>d(this,null,function*(){yield this.initializePromise,yield this._autoRefreshTokenTick()}),0)})}_stopAutoRefresh(){return d(this,null,function*(){this._debug("#_stopAutoRefresh()");let e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)})}startAutoRefresh(){return d(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._startAutoRefresh()})}stopAutoRefresh(){return d(this,null,function*(){this._removeVisibilityChangedCallback(),yield this._stopAutoRefresh()})}_autoRefreshTokenTick(){return d(this,null,function*(){this._debug("#_autoRefreshTokenTick()","begin");try{yield this._acquireLock(0,()=>d(this,null,function*(){try{let e=Date.now();try{return yield this._useSession(n=>d(this,null,function*(){let{data:{session:i}}=n;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}let s=Math.floor((i.expires_at*1e3-e)/at);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${at}ms, refresh threshold is ${pi} ticks`),s<=pi&&(yield this._callRefreshToken(i.refresh_token))}))}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(e){if(e.isAcquireTimeout||e instanceof sr)this._debug("auto refresh token tick lock not available");else throw e}})}_handleVisibilityChange(){return d(this,null,function*(){if(this._debug("#_handleVisibilityChange()"),!pe()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=()=>d(this,null,function*(){return yield this._onVisibilityChanged(!1)}),window?.addEventListener("visibilitychange",this.visibilityChangedCallback),yield this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}})}_onVisibilityChanged(e){return d(this,null,function*(){let n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(yield this.initializePromise,yield this._acquireLock(-1,()=>d(this,null,function*(){if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}yield this._recoverAndRefresh()})))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()})}_getUrlForProvider(e,n,i){return d(this,null,function*(){let s=[`provider=${encodeURIComponent(n)}`];if(i?.redirectTo&&s.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&s.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){let[o,a]=yield dt(this.storage,this.storageKey),u=new URLSearchParams({code_challenge:`${encodeURIComponent(o)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(u.toString())}if(i?.queryParams){let o=new URLSearchParams(i.queryParams);s.push(o.toString())}return i?.skipBrowserRedirect&&s.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${s.join("&")}`})}_unenroll(e){return d(this,null,function*(){try{return yield this._useSession(n=>d(this,null,function*(){var i;let{data:s,error:o}=n;return o?{data:null,error:o}:yield R(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token})}))}catch(n){if(E(n))return{data:null,error:n};throw n}})}_enroll(e){return d(this,null,function*(){try{return yield this._useSession(n=>d(this,null,function*(){var i,s;let{data:o,error:a}=n;if(a)return{data:null,error:a};let u=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=yield R(this.fetch,"POST",`${this.url}/factors`,{body:u,headers:this.headers,jwt:(i=o?.session)===null||i===void 0?void 0:i.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l?.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})}))}catch(n){if(E(n))return{data:null,error:n};throw n}})}_verify(e){return d(this,null,function*(){return this._acquireLock(-1,()=>d(this,null,function*(){try{return yield this._useSession(n=>d(this,null,function*(){var i;let{data:s,error:o}=n;if(o)return{data:null,error:o};let{data:a,error:u}=yield R(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token});return u?{data:null,error:u}:(yield this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),yield this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:u})}))}catch(n){if(E(n))return{data:null,error:n};throw n}}))})}_challenge(e){return d(this,null,function*(){return this._acquireLock(-1,()=>d(this,null,function*(){try{return yield this._useSession(n=>d(this,null,function*(){var i;let{data:s,error:o}=n;return o?{data:null,error:o}:yield R(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(i=s?.session)===null||i===void 0?void 0:i.access_token})}))}catch(n){if(E(n))return{data:null,error:n};throw n}}))})}_challengeAndVerify(e){return d(this,null,function*(){let{data:n,error:i}=yield this._challenge({factorId:e.factorId});return i?{data:null,error:i}:yield this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})})}_listFactors(){return d(this,null,function*(){let{data:{user:e},error:n}=yield this.getUser();if(n)return{data:null,error:n};let i=e?.factors||[],s=i.filter(a=>a.factor_type==="totp"&&a.status==="verified"),o=i.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:i,totp:s,phone:o},error:null}})}_getAuthenticatorAssuranceLevel(){return d(this,null,function*(){return this._acquireLock(-1,()=>d(this,null,function*(){return yield this._useSession(e=>d(this,null,function*(){var n,i;let{data:{session:s},error:o}=e;if(o)return{data:null,error:o};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};let{payload:a}=_i(s.access_token),u=null;a.aal&&(u=a.aal);let l=u;((i=(n=s.user.factors)===null||n===void 0?void 0:n.filter(p=>p.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(l="aal2");let h=a.amr||[];return{data:{currentLevel:u,nextLevel:l,currentAuthenticationMethods:h},error:null}}))}))})}fetchJwk(i){return d(this,arguments,function*(e,n={keys:[]}){let s=n.keys.find(u=>u.kid===e);if(s||(s=this.jwks.keys.find(u=>u.kid===e),s&&this.jwks_cached_at+nc>Date.now()))return s;let{data:o,error:a}=yield R(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;if(!o.keys||o.keys.length===0)throw new Ne("JWKS is empty");if(this.jwks=o,this.jwks_cached_at=Date.now(),s=o.keys.find(u=>u.kid===e),!s)throw new Ne("No matching signing key found in JWKS");return s})}getClaims(i){return d(this,arguments,function*(e,n={keys:[]}){try{let s=e;if(!s){let{data:C,error:S}=yield this.getSession();if(S||!C.session)return{data:null,error:S};s=C.session.access_token}let{header:o,payload:a,signature:u,raw:{header:l,payload:c}}=_i(s);if(yc(a.exp),!o.kid||o.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){let{error:C}=yield this.getUser(s);if(C)throw C;return{data:{claims:a,header:o,signature:u},error:null}}let h=_c(o.alg),p=yield this.fetchJwk(o.kid,n),f=yield crypto.subtle.importKey("jwk",p,h,!0,["verify"]);if(!(yield crypto.subtle.verify(h,f,u,cc(`${l}.${c}`))))throw new Ne("Invalid JWT signature");return{data:{claims:a,header:o,signature:u},error:null}}catch(s){if(E(s))return{data:null,error:s};throw s}})}}return r.nextInstanceID=0,r})();var Rp=ko,Po=Rp;var Di=class extends Po{constructor(t){super(t)}};var Ip=function(r,t,e,n){function i(s){return s instanceof e?s:new e(function(o){o(s)})}return new(e||(e=Promise))(function(s,o){function a(c){try{l(n.next(c))}catch(h){o(h)}}function u(c){try{l(n.throw(c))}catch(h){o(h)}}function l(c){c.done?s(c.value):i(c.value).then(a,u)}l((n=n.apply(r,t||[])).next())})},Ci=class{constructor(t,e,n){var i,s,o;if(this.supabaseUrl=t,this.supabaseKey=e,!t)throw new Error("supabaseUrl is required.");if(!e)throw new Error("supabaseKey is required.");let a=Zl(t);this.realtimeUrl=`${a}/realtime/v1`.replace(/^http/i,"ws"),this.authUrl=`${a}/auth/v1`,this.storageUrl=`${a}/storage/v1`,this.functionsUrl=`${a}/functions/v1`;let u=`sb-${new URL(this.authUrl).hostname.split(".")[0]}-auth-token`,l={db:ql,realtime:Kl,auth:Object.assign(Object.assign({},Wl),{storageKey:u}),global:Gl},c=Yl(n??{},l);this.storageKey=(i=c.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=c.global.headers)!==null&&s!==void 0?s:{},c.accessToken?(this.accessToken=c.accessToken,this.auth=new Proxy({},{get:(h,p)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(p)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=c.auth)!==null&&o!==void 0?o:{},this.headers,c.global.fetch),this.fetch=Jl(e,this._getAccessToken.bind(this),c.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},c.realtime)),this.rest=new Fl(`${a}/rest/v1`,{headers:this.headers,schema:c.db.schema,fetch:this.fetch}),c.accessToken||this._listenForAuthEvents()}get functions(){return new Un(this.functionsUrl,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Zn(this.storageUrl,this.headers,this.fetch)}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var t,e;return Ip(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();let{data:n}=yield this.auth.getSession();return(e=(t=n.session)===null||t===void 0?void 0:t.access_token)!==null&&e!==void 0?e:null})}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:i,storageKey:s,flowType:o,lock:a,debug:u},l,c){let h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Di({url:this.authUrl,headers:Object.assign(Object.assign({},h),l),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:i,flowType:o,lock:a,debug:u,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(t){return new Kn(this.realtimeUrl,Object.assign(Object.assign({},t),{params:Object.assign({apikey:this.supabaseKey},t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((e,n)=>{this._handleTokenChanged(e,"CLIENT",n?.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};var Ue=(r,t,e)=>new Ci(r,t,e);var Q={production:!0,apiUrl:"api-url",publicAnonKey:"public-anon-key"};function Op(r,t){r&1&&(m(0,"div"),y(1," El correo electr\xF3nico es obligatorio. "),g())}function Tp(r,t){r&1&&(m(0,"div"),y(1," Ingrese un correo electr\xF3nico v\xE1lido. "),g())}function Fp(r,t){if(r&1&&(m(0,"div",16),Re(1,Op,2,0,"div",17)(2,Tp,2,0,"div",17),g()),r&2){let e=Ct();L(),Z("ngIf",e.userMail==null||e.userMail.errors==null?null:e.userMail.errors.required),L(),Z("ngIf",e.userMail==null||e.userMail.errors==null?null:e.userMail.errors.email)}}function xp(r,t){r&1&&(m(0,"div"),y(1," La contrase\xF1a es obligatoria. "),g())}function kp(r,t){if(r&1&&(m(0,"div",16),Re(1,xp,2,0,"div",17),g()),r&2){let e=Ct();L(),Z("ngIf",e.userPWD==null||e.userPWD.errors==null?null:e.userPWD.errors.required)}}function Pp(r,t){if(r&1&&(m(0,"div",18)(1,"p"),y(2),g()()),r&2){let e=Ct();L(2),fa(e.errorMessage)}}function Lp(r,t){r&1&&(m(0,"div",19)(1,"p"),y(2,"El correo ingresado no est\xE1 registrado. \xBFDeseas registrarte?"),g()())}var Iy=Ue(Q.apiUrl,Q.publicAnonKey),bi=class r{constructor(t,e){this.fb=t;this.router=e;this.supabase=Ue(Q.apiUrl,Q.publicAnonKey),this.loginForm=this.fb.group({userMail:["",[Ut.required,Ut.email]],userPWD:["",[Ut.required]]})}loginForm;userNotFound=!1;showRegisterButton=!1;errorMessage="";supabase;username="";password="";get userMail(){return this.loginForm.get("userMail")}get userPWD(){return this.loginForm.get("userPWD")}checkIfUserExists(){return d(this,null,function*(){let t=this.userMail?.value;if(this.userMail?.valid)try{let{data:e,error:n}=yield this.supabase.from("users").select("email").eq("email",t).single();e?(this.userNotFound=!1,this.showRegisterButton=!1):(this.userNotFound=!0,this.showRegisterButton=!0)}catch(e){console.error("Error al verificar el correo:",e),this.userNotFound=!0}})}quickLogin(){let t=localStorage.getItem("savedUserMail");t&&this.loginForm.patchValue({userMail:t,userPWD:"123456"})}login(){return d(this,null,function*(){this.errorMessage="";{let{userMail:t,userPWD:e}=this.loginForm.value;try{let{data:n,error:i}=yield this.supabase.auth.signInWithPassword({email:t,password:e});i?this.handleLoginError(i):(localStorage.setItem("savedUserMail",t),this.router.navigate(["/home"]))}catch{this.errorMessage="Error en el inicio de sesi\xF3n. Int\xE9ntalo de nuevo."}}})}handleLoginError(t){t.message.includes("Invalid login credentials")?this.errorMessage="Contrase\xF1a o Email incorrecto.":t.message.includes("Email not confirmed")?this.errorMessage="Por favor confirma tu correo electr\xF3nico primero.":this.errorMessage="Error en el inicio de sesi\xF3n. Int\xE9ntalo de nuevo.",setTimeout(()=>{this.errorMessage=""},1500)}register(){let t=this.userMail?.value;localStorage.setItem("swapUserMail",t),this.router.navigate(["/register"])}static \u0275fac=function(e){return new(e||r)(b(gl),b(q))};static \u0275cmp=J({type:r,selectors:[["app-login"]],decls:23,vars:11,consts:[[1,"container","mt-5"],[1,"row","justify-content-center"],[1,"col-md-6","login-box"],[1,"text-center","text-primary"],[3,"ngSubmit","formGroup"],[1,"form-group"],["formControlName","userMail","placeholder","Correo electr\xF3nico",1,"form-control","my-2",3,"input"],["class","invalid-feedback",4,"ngIf"],["formControlName","userPWD","type","password","placeholder","Contrase\xF1a",1,"form-control","my-2"],["class","text-danger text-center mt-2",4,"ngIf"],[1,"d-grid","gap-2"],["type","submit",1,"btn","btn-primary",3,"disabled"],[1,"d-grid","gap-2","mt-2"],["type","button",1,"btn","btn-secondary",3,"click"],["type","button",1,"btn","btn-success",3,"click","disabled"],["class","text-center mt-3",4,"ngIf"],[1,"invalid-feedback"],[4,"ngIf"],[1,"text-danger","text-center","mt-2"],[1,"text-center","mt-3"]],template:function(e,n){e&1&&(m(0,"div",0)(1,"div",1)(2,"div",2)(3,"h1",3),y(4,"Ingresar Usuario"),g(),m(5,"form",4),N("ngSubmit",function(){return n.login()}),m(6,"div",5)(7,"input",6),N("input",function(){return n.checkIfUserExists()}),g(),Re(8,Fp,3,2,"div",7),g(),m(9,"div",5),G(10,"input",8),Re(11,kp,2,1,"div",7),g(),Re(12,Pp,3,1,"div",9),m(13,"div",10)(14,"button",11),y(15," Iniciar Sesi\xF3n "),g()(),m(16,"div",12)(17,"button",13),N("click",function(){return n.quickLogin()}),y(18," Ingreso R\xE1pido "),g()(),m(19,"div",12)(20,"button",14),N("click",function(){return n.register()}),y(21," Registrarse "),g()(),Re(22,Lp,3,0,"div",15),g()()()()),e&2&&(L(5),Z("formGroup",n.loginForm),L(2),Dt("is-invalid",(n.userMail==null?null:n.userMail.invalid)&&((n.userMail==null?null:n.userMail.dirty)||(n.userMail==null?null:n.userMail.touched))),L(),Z("ngIf",(n.userMail==null?null:n.userMail.invalid)&&((n.userMail==null?null:n.userMail.dirty)||(n.userMail==null?null:n.userMail.touched))),L(2),Dt("is-invalid",(n.userPWD==null?null:n.userPWD.invalid)&&((n.userPWD==null?null:n.userPWD.dirty)||(n.userPWD==null?null:n.userPWD.touched))),L(),Z("ngIf",(n.userPWD==null?null:n.userPWD.invalid)&&((n.userPWD==null?null:n.userPWD.dirty)||(n.userPWD==null?null:n.userPWD.touched))),L(),Z("ngIf",n.errorMessage),L(2),Z("disabled",n.loginForm.invalid),L(6),Z("disabled",!n.showRegisterButton),L(2),Z("ngIf",n.userNotFound&&(n.userMail==null?null:n.userMail.dirty)&&(n.userMail==null?null:n.userMail.valid)))},dependencies:[ml,hl,$t,Wr,sl,uo,lo,xe,fr,Yr],styles:[".container[_ngcontent-%COMP%]{margin-top:15rem}.container[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]{background-size:cover;background-position:center;width:70%;height:400px;padding:5rem;box-shadow:0 4px 8px #0003;background-color:#0000001a;display:flex;flex-direction:column;justify-content:center}.container[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{font-family:Poppins,sans-serif;color:#b50707!important;margin-bottom:1rem}.container[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   .form-control[_ngcontent-%COMP%]{border-radius:5px;margin-bottom:1rem;background-color:#fffc}.container[_ngcontent-%COMP%]   .login-box[_ngcontent-%COMP%]   .btn[_ngcontent-%COMP%]{background-color:#b50707;width:20%;border-radius:5px;font-family:Poppins,sans-serif}.container[_ngcontent-%COMP%]   input.form-control[_ngcontent-%COMP%]{height:calc(2.5rem + 2px);font-size:1rem}.container[_ngcontent-%COMP%]   .invalid-feedback[_ngcontent-%COMP%]{color:#dc3545;font-size:.875rem}.container[_ngcontent-%COMP%]   .ng-invalid.ng-touched[_ngcontent-%COMP%]{border-color:#dc3545}.login-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100vh}.login-input[_ngcontent-%COMP%]{width:300px;padding:10px;margin:5px 0;border:1px solid #ccc;border-radius:4px}.login-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.login-button[_ngcontent-%COMP%]{background-color:#007bff;color:#fff;border:none;padding:10px 20px;font-size:16px;cursor:pointer;border-radius:5px}.login-button[_ngcontent-%COMP%]:hover{background-color:#0056b3}.register-link-container[_ngcontent-%COMP%]{margin-top:20px}.register-link[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;font-size:14px}"]})};var Py=Ue(Q.apiUrl,Q.publicAnonKey),Si=class r{constructor(t){this.router=t}usersdata=[];isLoggedIn=!1;ngOnInit(){}jugarJuego(t){console.log("Juego:",t),this.router.navigate([`/games/${t}`])}static \u0275fac=function(e){return new(e||r)(b(q))};static \u0275cmp=J({type:r,selectors:[["app-home"]],decls:29,vars:0,consts:[[1,"card-container"],[1,"card"],["src","/ahorcado.png","alt","ahorcado",1,"card-img-top"],[1,"card-body"],[1,"card-title"],[1,"btn","btn-custom",3,"click"],["src","/preguntados.png","alt","preguntados",1,"card-img-top"],["src","/mayorMenor.png","alt","mayor-menor",1,"card-img-top"],["src","/2048.png","alt","2048",1,"card-img-top"]],template:function(e,n){e&1&&(m(0,"div",0)(1,"div",1),G(2,"img",2),m(3,"div",3)(4,"h5",4),y(5,"Ahorcado"),g(),m(6,"a",5),N("click",function(){return n.jugarJuego("ahorcado")}),y(7,"Jugar!"),g()()(),m(8,"div",1),G(9,"img",6),m(10,"div",3)(11,"h5",4),y(12,"Preguntados"),g(),m(13,"a",5),N("click",function(){return n.jugarJuego("preguntados")}),y(14,"Jugar!"),g()()(),m(15,"div",1),G(16,"img",7),m(17,"div",3)(18,"h5",4),y(19,"Mayor o Menor"),g(),m(20,"a",5),N("click",function(){return n.jugarJuego("mayorMenor")}),y(21,"Jugar!"),g()()(),m(22,"div",1),G(23,"img",8),m(24,"div",3)(25,"h5",4),y(26,"2048"),g(),m(27,"a",5),N("click",function(){return n.jugarJuego("2048")}),y(28,"Jugar!"),g()()()())},dependencies:[xe],styles:[".card-container[_ngcontent-%COMP%]{display:flex;justify-content:center;flex-wrap:wrap;margin:20px}.card[_ngcontent-%COMP%]{margin:15px;width:18rem;height:25rem;display:flex;flex-direction:column;justify-content:space-between;border:none;transition:transform .2s}.card[_ngcontent-%COMP%]:hover{transform:scale(1.05);box-shadow:0 4px 20px #0003}.card[_ngcontent-%COMP%]   .card-img-top[_ngcontent-%COMP%]{border-radius:.5rem;width:100%;height:100%;object-fit:contain}.card[_ngcontent-%COMP%]   .card-body[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:flex-end;flex-grow:1;text-align:center}.card[_ngcontent-%COMP%]   .card-title[_ngcontent-%COMP%]{font-size:1.25rem;color:#333;font-weight:700;margin-bottom:10px}.card[_ngcontent-%COMP%]   .btn-custom[_ngcontent-%COMP%]{background-color:#28a745;border:none;color:#fff;transition:background-color .3s}.card[_ngcontent-%COMP%]   .btn-custom[_ngcontent-%COMP%]:hover{background-color:#218838}.table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ddd;padding:8px}.table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{background-color:#f2f2f2;text-align:left}.avatar[_ngcontent-%COMP%]{width:75px;height:75px;border-radius:50%;margin-right:10px;vertical-align:middle}"]})};var Lo=Ue(Q.apiUrl,Q.publicAnonKey),Ei=class r{constructor(t){this.router=t;this.username="",this.password=""}username;password;name="";age=0;avatarFile=null;register(){Lo.auth.signUp({email:this.username,password:this.password}).then(({data:t,error:e})=>{e?console.error("Error:",e.message):(console.log("User registered:",t.user),this.saveUserData(t.user))})}saveUserData(t){let e=this.saveFile().then(n=>{n&&Lo.from("users-data").insert([{authId:t.id,name:this.name,age:this.age,avatarUrl:n.path}]).then(({data:i,error:s})=>{s?console.error("Error:",s.message):this.router.navigate(["/home"])})})}saveFile(){return d(this,null,function*(){if(!this.avatarFile)return console.error("No hay archivo seleccionado"),null;let{data:t,error:e}=yield Lo.storage.from("images").upload(`users/${this.avatarFile.name}`,this.avatarFile,{cacheControl:"3600",upsert:!1});return e?(console.error("Error subiendo el archivo:",e.message),null):t})}onFileSelected(t){this.avatarFile=t.target.files[0]}static \u0275fac=function(e){return new(e||r)(b(q))};static \u0275cmp=J({type:r,selectors:[["app-register"]],decls:13,vars:4,consts:[[1,"register-container"],["type","text","placeholder","Username",1,"register-input",3,"ngModelChange","ngModel"],["type","password","placeholder","Password",1,"register-input",3,"ngModelChange","ngModel"],["type","text","placeholder","Nombre",1,"register-input",3,"ngModelChange","ngModel"],["type","number","placeholder","Edad",1,"register-input",3,"ngModelChange","ngModel"],["type","file",1,"register-input",3,"change"],[1,"register-button",3,"click"],[1,"login-link-container"],["routerLink","../login",1,"login-link"]],template:function(e,n){e&1&&(m(0,"div",0)(1,"h3"),y(2,"Registro"),g(),m(3,"input",1),ln("ngModelChange",function(s){return un(n.username,s)||(n.username=s),s}),g(),m(4,"input",2),ln("ngModelChange",function(s){return un(n.password,s)||(n.password=s),s}),g(),m(5,"input",3),ln("ngModelChange",function(s){return un(n.name,s)||(n.name=s),s}),g(),m(6,"input",4),ln("ngModelChange",function(s){return un(n.age,s)||(n.age=s),s}),g(),m(7,"input",5),N("change",function(s){return n.onFileSelected(s)}),g(),m(8,"button",6),N("click",function(){return n.register()}),y(9," Registro "),g(),m(10,"div",7)(11,"a",8),y(12,"Login"),g()()()),e&2&&(L(3),an("ngModel",n.username),L(),an("ngModel",n.password),L(),an("ngModel",n.name),L(),an("ngModel",n.age))},dependencies:[Yr,$t,ao,Wr,oo,Pt],styles:[".register-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center;height:100vh}.register-input[_ngcontent-%COMP%]{width:300px;padding:10px;margin:5px 0;border:1px solid #ccc;border-radius:4px}.register-input[_ngcontent-%COMP%]:focus{border-color:#007bff;outline:none}.register-button[_ngcontent-%COMP%]{background-color:#28a745;color:#fff;border:none;padding:10px 20px;font-size:16px;cursor:pointer;border-radius:5px}.register-button[_ngcontent-%COMP%]:hover{background-color:#218838}.login-link-container[_ngcontent-%COMP%]{margin-top:20px}.login-link[_ngcontent-%COMP%]{color:#007bff;text-decoration:none;font-size:14px}"]})};var Ai=class r{static \u0275fac=function(e){return new(e||r)};static \u0275cmp=J({type:r,selectors:[["app-profile"]],decls:68,vars:0,consts:[[1,"card","mb-3","card-custom"],[1,"row","g-0"],[1,"col-md-4"],["src","/avatar.png","alt","...",1,"img-fluid","rounded-start"],[1,"col-md-8"],[1,"card-body"],[1,"card-title"],[1,"card-text"],[1,"mb-1"],[1,"section-title"],[1,"game-list"]],template:function(e,n){e&1&&(m(0,"div",0)(1,"div",1)(2,"div",2),G(3,"img",3),g(),m(4,"div",4)(5,"div",5)(6,"h5",6),y(7,"Teruel Elias"),g(),m(8,"p",7)(9,"strong"),y(10,"DNI:"),g(),y(11," 39333529"),g(),m(12,"p",7)(13,"strong"),y(14,"Email:"),g(),y(15," eliasteruel96@gmail.com"),g(),G(16,"hr"),m(17,"p",8)(18,"strong"),y(19,"\u{1F3AE} Mi juego se trata de: 2048"),g()(),m(20,"p",9),y(21,"\u{1F9E9} "),m(22,"strong"),y(23,"Resumen:"),g()(),m(24,"p"),y(25,"2048 es un juego de puzzle en el que ten\xE9s que mover fichas con n\xFAmeros para sumarlas entre s\xED hasta llegar al n\xFAmero "),m(26,"strong"),y(27,"2048"),g(),y(28,"."),g(),m(29,"p",9),y(30,"\u{1F3AF} "),m(31,"strong"),y(32,"C\xF3mo se juega:"),g()(),m(33,"ul",10)(34,"li")(35,"strong"),y(36,"Tablero:"),g(),y(37," Una cuadr\xEDcula de 4x4. Empieza con dos fichas con el n\xFAmero 2 (o 4)."),g(),m(38,"li")(39,"strong"),y(40,"Movimiento:"),g(),y(41," Us\xE1s las flechas del teclado para mover todas las fichas."),g(),m(42,"li")(43,"strong"),y(44,"Fusi\xF3n:"),g(),y(45," Dos fichas iguales se suman: 2 + 2 = 4, 4 + 4 = 8, etc."),g(),m(46,"li")(47,"strong"),y(48,"Objetivo:"),g(),y(49," Llegar a una ficha de "),m(50,"strong"),y(51,"2048"),g(),y(52,"."),g(),m(53,"li")(54,"strong"),y(55,"Fin del juego:"),g(),y(56," Se termina cuando no quedan movimientos posibles."),g()(),m(57,"p",9),y(58,"\u{1F9E0} "),m(59,"strong"),y(60,"Estrategia b\xE1sica:"),g()(),m(61,"ul",10)(62,"li"),y(63,"Manten\xE9 tu ficha m\xE1s alta en una esquina."),g(),m(64,"li"),y(65,"Evit\xE1 mover hacia arriba si rompe tu orden."),g(),m(66,"li"),y(67,"Plane\xE1 pensando en fusiones futuras."),g()()()()()())},styles:[".card-custom[_ngcontent-%COMP%]{max-width:700px;border:1px solid #ccc;border-radius:10px;box-shadow:2px 2px 12px #0000001a;margin:50px auto;background-color:#fff}.card-body[_ngcontent-%COMP%]{padding:1.2rem}.section-title[_ngcontent-%COMP%]{margin-top:1rem;font-weight:700;color:#333}.game-list[_ngcontent-%COMP%]{padding-left:1.2rem;margin-bottom:.5rem}.game-list[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.4rem}"]})};var Mc=[{path:"",redirectTo:"/home",pathMatch:"full"},{path:"home",component:Si},{path:"register",component:Ei},{path:"login",component:bi},{path:"profile",component:Ai},{path:"games",children:[{path:"ahorcado",loadComponent:()=>import("./chunk-7TZSMP3R.js").then(r=>r.AhorcadoComponent)},{path:"mayorMenor",loadComponent:()=>import("./chunk-OQZNHXT6.js").then(r=>r.MayorMenorComponent)},{path:"preguntados",loadComponent:()=>import("./chunk-BPN6JAF5.js").then(r=>r.PreguntadosComponent)},{path:"2048",loadComponent:()=>import("./chunk-F7C7PUGX.js").then(r=>r.Juego2048Component)}]}];var Rc={providers:[pa({eventCoalescing:!0}),Tu(Mc)]};var Mi=class r{supabase;session=null;authChanges=new K(null);constructor(){this.supabase=Ue(Q.apiUrl,Q.publicAnonKey),this.supabase.auth.onAuthStateChange((t,e)=>{this.session=e,this.authChanges.next(e)})}getSession(){return d(this,null,function*(){let{data:{session:t}}=yield this.supabase.auth.getSession();return t})}signOut(){return d(this,null,function*(){return yield this.supabase.auth.signOut()})}static \u0275fac=function(e){return new(e||r)};static \u0275prov=M({token:r,factory:r.\u0275fac,providedIn:"root"})};function jp(r,t){r&1&&(Wi(0),m(1,"a",9),y(2,"Iniciar sesi\xF3n"),g(),m(3,"a",10),y(4,"Registrar"),g(),Ki())}function Up(r,t){if(r&1){let e=la();Wi(0),m(1,"a",11),N("click",function(){Jo(e);let i=Ct();return Zo(i.logout())}),y(2,"Cerrar Sesi\xF3n"),g(),Ki()}}var Ri=class r{constructor(t){this.supabase=t}isMenuOpen=!1;isLoggedIn=!1;authSubscription;ngOnInit(){this.authSubscription=this.supabase.authChanges.subscribe(t=>{this.isLoggedIn=!!t}),this.supabase.getSession().then(t=>{this.isLoggedIn=!!t})}ngOnDestroy(){this.authSubscription&&this.authSubscription.unsubscribe()}toggleMenu(){this.isMenuOpen=!this.isMenuOpen}logout(){return d(this,null,function*(){yield this.supabase.signOut()})}static \u0275fac=function(e){return new(e||r)(b(Mi))};static \u0275cmp=J({type:r,selectors:[["app-navbar"]],decls:15,vars:2,consts:[[1,"navbar"],[1,"navbar-container"],["routerLink","/home",1,"navbar-brand"],[1,"navbar-links"],["routerLink","/home","routerLinkActive","active"],[4,"ngIf"],["routerLink","/profile","routerLinkActive","active"],[1,"navbar-toggle",3,"click"],[1,"icon-bar"],["routerLink","/login","routerLinkActive","active"],["routerLink","/register","routerLinkActive","active"],[2,"cursor","pointer",3,"click"]],template:function(e,n){e&1&&(m(0,"nav",0)(1,"div",1)(2,"a",2),y(3,"Sala de Juegos "),g(),m(4,"div",3)(5,"a",4),y(6,"Inicio"),g(),Re(7,jp,5,0,"ng-container",5)(8,Up,3,0,"ng-container",5),m(9,"a",6),y(10,"Sobre Mi"),g()(),m(11,"button",7),N("click",function(){return n.toggleMenu()}),G(12,"span",8)(13,"span",8)(14,"span",8),g()()()),e&2&&(L(7),Z("ngIf",!n.isLoggedIn),L(),Z("ngIf",n.isLoggedIn))},dependencies:[xe,fr,Lu,Pt,Iu],styles:[".navbar[_ngcontent-%COMP%]{background:#3f51b5;color:#fff;padding:1rem 2rem;box-shadow:0 2px 5px #0000001a}.navbar-container[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;max-width:1200px;margin:0 auto}.navbar-brand[_ngcontent-%COMP%]{font-size:1.5rem;font-weight:700;color:#fff;text-decoration:none}.navbar-links[_ngcontent-%COMP%]{display:flex;gap:1.5rem}.navbar-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;transition:opacity .3s}.navbar-links[_ngcontent-%COMP%]   a.active[_ngcontent-%COMP%]{font-weight:700;border-bottom:2px solid white}.navbar-toggle[_ngcontent-%COMP%]{display:none;background:none;border:none;color:#fff;font-size:1.5rem;cursor:pointer}.navbar-mobile[_ngcontent-%COMP%]{display:none;flex-direction:column;background:#3f51b5;padding:1rem;gap:1rem}.navbar-mobile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{color:#fff;text-decoration:none;padding:.5rem 0}.navbar-mobile[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.8}@media (max-width: 768px){.navbar-links[_ngcontent-%COMP%]{display:none!important}.navbar-toggle[_ngcontent-%COMP%]{display:block!important}.navbar-mobile[_ngcontent-%COMP%]{display:flex!important}}.navbar-links[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{opacity:.8}.navbar-links[_ngcontent-%COMP%]   a.logout-link[_ngcontent-%COMP%]{color:#f44}.navbar-links[_ngcontent-%COMP%]   a.logout-link[_ngcontent-%COMP%]:hover{color:#c00}"]})};var Ii=class r{title="Sala de Juegos";static \u0275fac=function(e){return new(e||r)};static \u0275cmp=J({type:r,selectors:[["app-root"]],decls:2,vars:0,template:function(e,n){e&1&&G(0,"app-navbar")(1,"router-outlet")},dependencies:[xe,$s,Ri],encapsulation:2})};Va(Ii,Rc).catch(r=>console.error(r));
